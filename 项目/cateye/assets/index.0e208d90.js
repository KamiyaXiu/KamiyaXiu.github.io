(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Zc(t,e){const n=Object.create(null),i=t.split(",");for(let s=0;s<i.length;s++)n[i[s]]=!0;return e?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const oS="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",lS=Zc(oS);function Zv(t){return!!t||t===""}function cn(t){if(te(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=rn(i)?dS(i):cn(i);if(s)for(const o in s)e[o]=s[o]}return e}else{if(rn(t))return t;if(Me(t))return t}}const uS=/;(?![^(]*\))/g,cS=/:(.+)/;function dS(t){const e={};return t.split(uS).forEach(n=>{if(n){const i=n.split(cS);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Kt(t){let e="";if(rn(t))e=t;else if(te(t))for(let n=0;n<t.length;n++){const i=Kt(t[n]);i&&(e+=i+" ")}else if(Me(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Q=t=>rn(t)?t:t==null?"":te(t)||Me(t)&&(t.toString===ep||!ae(t.toString))?JSON.stringify(t,Jv,2):String(t),Jv=(t,e)=>e&&e.__v_isRef?Jv(t,e.value):As(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,s])=>(n[`${i} =>`]=s,n),{})}:Xv(e)?{[`Set(${e.size})`]:[...e.values()]}:Me(e)&&!te(e)&&!np(e)?String(e):e,xe={},_s=[],fr=()=>{},fS=()=>!1,hS=/^on[^a-z]/,vl=t=>hS.test(t),Jc=t=>t.startsWith("onUpdate:"),fn=Object.assign,Xc=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},gS=Object.prototype.hasOwnProperty,pe=(t,e)=>gS.call(t,e),te=Array.isArray,As=t=>pl(t)==="[object Map]",Xv=t=>pl(t)==="[object Set]",ae=t=>typeof t=="function",rn=t=>typeof t=="string",td=t=>typeof t=="symbol",Me=t=>t!==null&&typeof t=="object",tp=t=>Me(t)&&ae(t.then)&&ae(t.catch),ep=Object.prototype.toString,pl=t=>ep.call(t),vS=t=>pl(t).slice(8,-1),np=t=>pl(t)==="[object Object]",ed=t=>rn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Zo=Zc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ml=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},pS=/-(\w)/g,Sr=ml(t=>t.replace(pS,(e,n)=>n?n.toUpperCase():"")),mS=/\B([A-Z])/g,zi=ml(t=>t.replace(mS,"-$1").toLowerCase()),yl=ml(t=>t.charAt(0).toUpperCase()+t.slice(1)),tc=ml(t=>t?`on${yl(t)}`:""),Ra=(t,e)=>!Object.is(t,e),Jo=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},rl=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},il=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let pg;const yS=()=>pg||(pg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Er;class rp{constructor(e=!1){this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Er,!e&&Er&&(this.index=(Er.scopes||(Er.scopes=[])).push(this)-1)}run(e){if(this.active){const n=Er;try{return Er=this,e()}finally{Er=n}}}on(){Er=this}off(){Er=this.parent}stop(e){if(this.active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this.active=!1}}}function ip(t){return new rp(t)}function _S(t,e=Er){e&&e.active&&e.effects.push(t)}const nd=t=>{const e=new Set(t);return e.w=0,e.n=0,e},sp=t=>(t.w&pi)>0,ap=t=>(t.n&pi)>0,AS=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=pi},ES=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const s=e[i];sp(s)&&!ap(s)?s.delete(t):e[n++]=s,s.w&=~pi,s.n&=~pi}e.length=n}},_c=new WeakMap;let pa=0,pi=1;const Ac=30;let ur;const Hi=Symbol(""),Ec=Symbol("");class rd{constructor(e,n=null,i){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,_S(this,i)}run(){if(!this.active)return this.fn();let e=ur,n=di;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=ur,ur=this,di=!0,pi=1<<++pa,pa<=Ac?AS(this):mg(this),this.fn()}finally{pa<=Ac&&ES(this),pi=1<<--pa,ur=this.parent,di=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ur===this?this.deferStop=!0:this.active&&(mg(this),this.onStop&&this.onStop(),this.active=!1)}}function mg(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let di=!0;const op=[];function Is(){op.push(di),di=!1}function Ls(){const t=op.pop();di=t===void 0?!0:t}function Hn(t,e,n){if(di&&ur){let i=_c.get(t);i||_c.set(t,i=new Map);let s=i.get(n);s||i.set(n,s=nd()),lp(s)}}function lp(t,e){let n=!1;pa<=Ac?ap(t)||(t.n|=pi,n=!sp(t)):n=!t.has(ur),n&&(t.add(ur),ur.deps.push(t))}function $r(t,e,n,i,s,o){const u=_c.get(t);if(!u)return;let m=[];if(e==="clear")m=[...u.values()];else if(n==="length"&&te(t))u.forEach((p,l)=>{(l==="length"||l>=i)&&m.push(p)});else switch(n!==void 0&&m.push(u.get(n)),e){case"add":te(t)?ed(n)&&m.push(u.get("length")):(m.push(u.get(Hi)),As(t)&&m.push(u.get(Ec)));break;case"delete":te(t)||(m.push(u.get(Hi)),As(t)&&m.push(u.get(Ec)));break;case"set":As(t)&&m.push(u.get(Hi));break}if(m.length===1)m[0]&&bc(m[0]);else{const p=[];for(const l of m)l&&p.push(...l);bc(nd(p))}}function bc(t,e){const n=te(t)?t:[...t];for(const i of n)i.computed&&yg(i);for(const i of n)i.computed||yg(i)}function yg(t,e){(t!==ur||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const bS=Zc("__proto__,__v_isRef,__isVue"),up=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(td)),TS=id(),SS=id(!1,!0),kS=id(!0),_g=wS();function wS(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=Ae(this);for(let o=0,u=this.length;o<u;o++)Hn(i,"get",o+"");const s=i[e](...n);return s===-1||s===!1?i[e](...n.map(Ae)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Is();const i=Ae(this)[e].apply(this,n);return Ls(),i}}),t}function id(t=!1,e=!1){return function(i,s,o){if(s==="__v_isReactive")return!t;if(s==="__v_isReadonly")return t;if(s==="__v_isShallow")return e;if(s==="__v_raw"&&o===(t?e?HS:gp:e?hp:fp).get(i))return i;const u=te(i);if(!t&&u&&pe(_g,s))return Reflect.get(_g,s,o);const m=Reflect.get(i,s,o);return(td(s)?up.has(s):bS(s))||(t||Hn(i,"get",s),e)?m:Fe(m)?u&&ed(s)?m:m.value:Me(m)?t?vp(m):Je(m):m}}const CS=cp(),RS=cp(!0);function cp(t=!1){return function(n,i,s,o){let u=n[i];if(Ts(u)&&Fe(u)&&!Fe(s))return!1;if(!t&&(!sl(s)&&!Ts(s)&&(u=Ae(u),s=Ae(s)),!te(n)&&Fe(u)&&!Fe(s)))return u.value=s,!0;const m=te(n)&&ed(i)?Number(i)<n.length:pe(n,i),p=Reflect.set(n,i,s,o);return n===Ae(o)&&(m?Ra(s,u)&&$r(n,"set",i,s):$r(n,"add",i,s)),p}}function xS(t,e){const n=pe(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&n&&$r(t,"delete",e,void 0),i}function IS(t,e){const n=Reflect.has(t,e);return(!td(e)||!up.has(e))&&Hn(t,"has",e),n}function LS(t){return Hn(t,"iterate",te(t)?"length":Hi),Reflect.ownKeys(t)}const dp={get:TS,set:CS,deleteProperty:xS,has:IS,ownKeys:LS},DS={get:kS,set(t,e){return!0},deleteProperty(t,e){return!0}},OS=fn({},dp,{get:SS,set:RS}),sd=t=>t,_l=t=>Reflect.getPrototypeOf(t);function $o(t,e,n=!1,i=!1){t=t.__v_raw;const s=Ae(t),o=Ae(e);n||(e!==o&&Hn(s,"get",e),Hn(s,"get",o));const{has:u}=_l(s),m=i?sd:n?ld:xa;if(u.call(s,e))return m(t.get(e));if(u.call(s,o))return m(t.get(o));t!==s&&t.get(e)}function Go(t,e=!1){const n=this.__v_raw,i=Ae(n),s=Ae(t);return e||(t!==s&&Hn(i,"has",t),Hn(i,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function Ho(t,e=!1){return t=t.__v_raw,!e&&Hn(Ae(t),"iterate",Hi),Reflect.get(t,"size",t)}function Ag(t){t=Ae(t);const e=Ae(this);return _l(e).has.call(e,t)||(e.add(t),$r(e,"add",t,t)),this}function Eg(t,e){e=Ae(e);const n=Ae(this),{has:i,get:s}=_l(n);let o=i.call(n,t);o||(t=Ae(t),o=i.call(n,t));const u=s.call(n,t);return n.set(t,e),o?Ra(e,u)&&$r(n,"set",t,e):$r(n,"add",t,e),this}function bg(t){const e=Ae(this),{has:n,get:i}=_l(e);let s=n.call(e,t);s||(t=Ae(t),s=n.call(e,t)),i&&i.call(e,t);const o=e.delete(t);return s&&$r(e,"delete",t,void 0),o}function Tg(){const t=Ae(this),e=t.size!==0,n=t.clear();return e&&$r(t,"clear",void 0,void 0),n}function jo(t,e){return function(i,s){const o=this,u=o.__v_raw,m=Ae(u),p=e?sd:t?ld:xa;return!t&&Hn(m,"iterate",Hi),u.forEach((l,y)=>i.call(s,p(l),p(y),o))}}function Ko(t,e,n){return function(...i){const s=this.__v_raw,o=Ae(s),u=As(o),m=t==="entries"||t===Symbol.iterator&&u,p=t==="keys"&&u,l=s[t](...i),y=n?sd:e?ld:xa;return!e&&Hn(o,"iterate",p?Ec:Hi),{next(){const{value:v,done:f}=l.next();return f?{value:v,done:f}:{value:m?[y(v[0]),y(v[1])]:y(v),done:f}},[Symbol.iterator](){return this}}}}function ii(t){return function(...e){return t==="delete"?!1:this}}function PS(){const t={get(o){return $o(this,o)},get size(){return Ho(this)},has:Go,add:Ag,set:Eg,delete:bg,clear:Tg,forEach:jo(!1,!1)},e={get(o){return $o(this,o,!1,!0)},get size(){return Ho(this)},has:Go,add:Ag,set:Eg,delete:bg,clear:Tg,forEach:jo(!1,!0)},n={get(o){return $o(this,o,!0)},get size(){return Ho(this,!0)},has(o){return Go.call(this,o,!0)},add:ii("add"),set:ii("set"),delete:ii("delete"),clear:ii("clear"),forEach:jo(!0,!1)},i={get(o){return $o(this,o,!0,!0)},get size(){return Ho(this,!0)},has(o){return Go.call(this,o,!0)},add:ii("add"),set:ii("set"),delete:ii("delete"),clear:ii("clear"),forEach:jo(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Ko(o,!1,!1),n[o]=Ko(o,!0,!1),e[o]=Ko(o,!1,!0),i[o]=Ko(o,!0,!0)}),[t,n,e,i]}const[FS,MS,BS,NS]=PS();function ad(t,e){const n=e?t?NS:BS:t?MS:FS;return(i,s,o)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(pe(n,s)&&s in i?n:i,s,o)}const US={get:ad(!1,!1)},$S={get:ad(!1,!0)},GS={get:ad(!0,!1)},fp=new WeakMap,hp=new WeakMap,gp=new WeakMap,HS=new WeakMap;function jS(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function KS(t){return t.__v_skip||!Object.isExtensible(t)?0:jS(vS(t))}function Je(t){return Ts(t)?t:od(t,!1,dp,US,fp)}function VS(t){return od(t,!1,OS,$S,hp)}function vp(t){return od(t,!0,DS,GS,gp)}function od(t,e,n,i,s){if(!Me(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=s.get(t);if(o)return o;const u=KS(t);if(u===0)return t;const m=new Proxy(t,u===2?i:n);return s.set(t,m),m}function fi(t){return Ts(t)?fi(t.__v_raw):!!(t&&t.__v_isReactive)}function Ts(t){return!!(t&&t.__v_isReadonly)}function sl(t){return!!(t&&t.__v_isShallow)}function pp(t){return fi(t)||Ts(t)}function Ae(t){const e=t&&t.__v_raw;return e?Ae(e):t}function Ss(t){return rl(t,"__v_skip",!0),t}const xa=t=>Me(t)?Je(t):t,ld=t=>Me(t)?vp(t):t;function mp(t){di&&ur&&(t=Ae(t),lp(t.dep||(t.dep=nd())))}function yp(t,e){t=Ae(t),t.dep&&bc(t.dep)}function Fe(t){return!!(t&&t.__v_isRef===!0)}function Z(t){return _p(t,!1)}function WS(t){return _p(t,!0)}function _p(t,e){return Fe(t)?t:new zS(t,e)}class zS{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Ae(e),this._value=n?e:xa(e)}get value(){return mp(this),this._value}set value(e){const n=this.__v_isShallow||sl(e)||Ts(e);e=n?e:Ae(e),Ra(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:xa(e),yp(this))}}function X(t){return Fe(t)?t.value:t}const YS={get:(t,e,n)=>X(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return Fe(s)&&!Fe(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function Ap(t){return fi(t)?t:new Proxy(t,YS)}function qS(t){const e=te(t)?new Array(t.length):{};for(const n in t)e[n]=ZS(t,n);return e}class QS{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function ZS(t,e,n){const i=t[e];return Fe(i)?i:new QS(t,e,n)}var Ep;class JS{constructor(e,n,i,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[Ep]=!1,this._dirty=!0,this.effect=new rd(e,()=>{this._dirty||(this._dirty=!0,yp(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const e=Ae(this);return mp(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}Ep="__v_isReadonly";function XS(t,e,n=!1){let i,s;const o=ae(t);return o?(i=t,s=fr):(i=t.get,s=t.set),new JS(i,s,o||!s,n)}function hi(t,e,n,i){let s;try{s=i?t(...i):t()}catch(o){Al(o,e,n)}return s}function tr(t,e,n,i){if(ae(t)){const o=hi(t,e,n,i);return o&&tp(o)&&o.catch(u=>{Al(u,e,n)}),o}const s=[];for(let o=0;o<t.length;o++)s.push(tr(t[o],e,n,i));return s}function Al(t,e,n,i=!0){const s=e?e.vnode:null;if(e){let o=e.parent;const u=e.proxy,m=n;for(;o;){const l=o.ec;if(l){for(let y=0;y<l.length;y++)if(l[y](t,u,m)===!1)return}o=o.parent}const p=e.appContext.config.errorHandler;if(p){hi(p,null,10,[t,u,m]);return}}tk(t,n,s,i)}function tk(t,e,n,i=!0){console.error(t)}let Ia=!1,Tc=!1;const pn=[];let Tr=0;const Es=[];let Nr=null,Bi=0;const bp=Promise.resolve();let ud=null;function Xt(t){const e=ud||bp;return t?e.then(this?t.bind(this):t):e}function ek(t){let e=Tr+1,n=pn.length;for(;e<n;){const i=e+n>>>1;La(pn[i])<t?e=i+1:n=i}return e}function cd(t){(!pn.length||!pn.includes(t,Ia&&t.allowRecurse?Tr+1:Tr))&&(t.id==null?pn.push(t):pn.splice(ek(t.id),0,t),Tp())}function Tp(){!Ia&&!Tc&&(Tc=!0,ud=bp.then(kp))}function nk(t){const e=pn.indexOf(t);e>Tr&&pn.splice(e,1)}function rk(t){te(t)?Es.push(...t):(!Nr||!Nr.includes(t,t.allowRecurse?Bi+1:Bi))&&Es.push(t),Tp()}function Sg(t,e=Ia?Tr+1:0){for(;e<pn.length;e++){const n=pn[e];n&&n.pre&&(pn.splice(e,1),e--,n())}}function Sp(t){if(Es.length){const e=[...new Set(Es)];if(Es.length=0,Nr){Nr.push(...e);return}for(Nr=e,Nr.sort((n,i)=>La(n)-La(i)),Bi=0;Bi<Nr.length;Bi++)Nr[Bi]();Nr=null,Bi=0}}const La=t=>t.id==null?1/0:t.id,ik=(t,e)=>{const n=La(t)-La(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function kp(t){Tc=!1,Ia=!0,pn.sort(ik);const e=fr;try{for(Tr=0;Tr<pn.length;Tr++){const n=pn[Tr];n&&n.active!==!1&&hi(n,null,14)}}finally{Tr=0,pn.length=0,Sp(),Ia=!1,ud=null,(pn.length||Es.length)&&kp()}}function sk(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||xe;let s=n;const o=e.startsWith("update:"),u=o&&e.slice(7);if(u&&u in i){const y=`${u==="modelValue"?"model":u}Modifiers`,{number:v,trim:f}=i[y]||xe;f&&(s=n.map(b=>b.trim())),v&&(s=n.map(il))}let m,p=i[m=tc(e)]||i[m=tc(Sr(e))];!p&&o&&(p=i[m=tc(zi(e))]),p&&tr(p,t,6,s);const l=i[m+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[m])return;t.emitted[m]=!0,tr(l,t,6,s)}}function wp(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const o=t.emits;let u={},m=!1;if(!ae(t)){const p=l=>{const y=wp(l,e,!0);y&&(m=!0,fn(u,y))};!n&&e.mixins.length&&e.mixins.forEach(p),t.extends&&p(t.extends),t.mixins&&t.mixins.forEach(p)}return!o&&!m?(Me(t)&&i.set(t,null),null):(te(o)?o.forEach(p=>u[p]=null):fn(u,o),Me(t)&&i.set(t,u),u)}function El(t,e){return!t||!vl(e)?!1:(e=e.slice(2).replace(/Once$/,""),pe(t,e[0].toLowerCase()+e.slice(1))||pe(t,zi(e))||pe(t,e))}let Xn=null,bl=null;function al(t){const e=Xn;return Xn=t,bl=t&&t.type.__scopeId||null,e}function de(t){bl=t}function fe(){bl=null}function Jt(t,e=Xn,n){if(!e||t._n)return t;const i=(...s)=>{i._d&&Mg(-1);const o=al(e);let u;try{u=t(...s)}finally{al(o),i._d&&Mg(1)}return u};return i._n=!0,i._c=!0,i._d=!0,i}function ec(t){const{type:e,vnode:n,proxy:i,withProxy:s,props:o,propsOptions:[u],slots:m,attrs:p,emit:l,render:y,renderCache:v,data:f,setupState:b,ctx:S,inheritAttrs:d}=t;let h,c;const g=al(t);try{if(n.shapeFlag&4){const E=s||i;h=br(y.call(E,E,v,o,b,f,S)),c=p}else{const E=e;h=br(E.length>1?E(o,{attrs:p,slots:m,emit:l}):E(o,null)),c=e.props?p:ak(p)}}catch(E){Ta.length=0,Al(E,t,1),h=at(hr)}let T=h;if(c&&d!==!1){const E=Object.keys(c),{shapeFlag:A}=T;E.length&&A&7&&(u&&E.some(Jc)&&(c=ok(c,u)),T=mi(T,c))}return n.dirs&&(T=mi(T),T.dirs=T.dirs?T.dirs.concat(n.dirs):n.dirs),n.transition&&(T.transition=n.transition),h=T,al(g),h}const ak=t=>{let e;for(const n in t)(n==="class"||n==="style"||vl(n))&&((e||(e={}))[n]=t[n]);return e},ok=(t,e)=>{const n={};for(const i in t)(!Jc(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function lk(t,e,n){const{props:i,children:s,component:o}=t,{props:u,children:m,patchFlag:p}=e,l=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&p>=0){if(p&1024)return!0;if(p&16)return i?kg(i,u,l):!!u;if(p&8){const y=e.dynamicProps;for(let v=0;v<y.length;v++){const f=y[v];if(u[f]!==i[f]&&!El(l,f))return!0}}}else return(s||m)&&(!m||!m.$stable)?!0:i===u?!1:i?u?kg(i,u,l):!0:!!u;return!1}function kg(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const o=i[s];if(e[o]!==t[o]&&!El(n,o))return!0}return!1}function uk({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const ck=t=>t.__isSuspense;function dk(t,e){e&&e.pendingBranch?te(t)?e.effects.push(...t):e.effects.push(t):rk(t)}function gi(t,e){if(on){let n=on.provides;const i=on.parent&&on.parent.provides;i===n&&(n=on.provides=Object.create(i)),n[t]=e}}function Tn(t,e,n=!1){const i=on||Xn;if(i){const s=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&ae(e)?e.call(i.proxy):e}}function fk(t,e){return Tl(t,null,e)}function hk(t,e){return Tl(t,null,{flush:"post"})}const wg={};function ce(t,e,n){return Tl(t,e,n)}function Tl(t,e,{immediate:n,deep:i,flush:s,onTrack:o,onTrigger:u}=xe){const m=on;let p,l=!1,y=!1;if(Fe(t)?(p=()=>t.value,l=sl(t)):fi(t)?(p=()=>t,i=!0):te(t)?(y=!0,l=t.some(c=>fi(c)||sl(c)),p=()=>t.map(c=>{if(Fe(c))return c.value;if(fi(c))return $i(c);if(ae(c))return hi(c,m,2)})):ae(t)?e?p=()=>hi(t,m,2):p=()=>{if(!(m&&m.isUnmounted))return v&&v(),tr(t,m,3,[f])}:p=fr,e&&i){const c=p;p=()=>$i(c())}let v,f=c=>{v=h.onStop=()=>{hi(c,m,4)}};if(Oa)return f=fr,e?n&&tr(e,m,3,[p(),y?[]:void 0,f]):p(),fr;let b=y?[]:wg;const S=()=>{if(!!h.active)if(e){const c=h.run();(i||l||(y?c.some((g,T)=>Ra(g,b[T])):Ra(c,b)))&&(v&&v(),tr(e,m,3,[c,b===wg?void 0:b,f]),b=c)}else h.run()};S.allowRecurse=!!e;let d;s==="sync"?d=S:s==="post"?d=()=>Ln(S,m&&m.suspense):(S.pre=!0,m&&(S.id=m.uid),d=()=>cd(S));const h=new rd(p,d);return e?n?S():b=h.run():s==="post"?Ln(h.run.bind(h),m&&m.suspense):h.run(),()=>{h.stop(),m&&m.scope&&Xc(m.scope.effects,h)}}function gk(t,e,n){const i=this.proxy,s=rn(t)?t.includes(".")?Cp(i,t):()=>i[t]:t.bind(i,i);let o;ae(e)?o=e:(o=e.handler,n=e);const u=on;ks(this);const m=Tl(s,o.bind(i),n);return u?ks(u):ji(),m}function Cp(t,e){const n=e.split(".");return()=>{let i=t;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function $i(t,e){if(!Me(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Fe(t))$i(t.value,e);else if(te(t))for(let n=0;n<t.length;n++)$i(t[n],e);else if(Xv(t)||As(t))t.forEach(n=>{$i(n,e)});else if(np(t))for(const n in t)$i(t[n],e);return t}function vk(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return hn(()=>{t.isMounted=!0}),Os(()=>{t.isUnmounting=!0}),t}const Jn=[Function,Array],pk={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Jn,onEnter:Jn,onAfterEnter:Jn,onEnterCancelled:Jn,onBeforeLeave:Jn,onLeave:Jn,onAfterLeave:Jn,onLeaveCancelled:Jn,onBeforeAppear:Jn,onAppear:Jn,onAfterAppear:Jn,onAppearCancelled:Jn},setup(t,{slots:e}){const n=jn(),i=vk();let s;return()=>{const o=e.default&&Ip(e.default(),!0);if(!o||!o.length)return;let u=o[0];if(o.length>1){for(const d of o)if(d.type!==hr){u=d;break}}const m=Ae(t),{mode:p}=m;if(i.isLeaving)return nc(u);const l=Cg(u);if(!l)return nc(u);const y=Sc(l,m,i,n);kc(l,y);const v=n.subTree,f=v&&Cg(v);let b=!1;const{getTransitionKey:S}=l.type;if(S){const d=S();s===void 0?s=d:d!==s&&(s=d,b=!0)}if(f&&f.type!==hr&&(!Ni(l,f)||b)){const d=Sc(f,m,i,n);if(kc(f,d),p==="out-in")return i.isLeaving=!0,d.afterLeave=()=>{i.isLeaving=!1,n.update()},nc(u);p==="in-out"&&l.type!==hr&&(d.delayLeave=(h,c,g)=>{const T=xp(i,f);T[String(f.key)]=f,h._leaveCb=()=>{c(),h._leaveCb=void 0,delete y.delayedLeave},y.delayedLeave=g})}return u}}},Rp=pk;function xp(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function Sc(t,e,n,i){const{appear:s,mode:o,persisted:u=!1,onBeforeEnter:m,onEnter:p,onAfterEnter:l,onEnterCancelled:y,onBeforeLeave:v,onLeave:f,onAfterLeave:b,onLeaveCancelled:S,onBeforeAppear:d,onAppear:h,onAfterAppear:c,onAppearCancelled:g}=e,T=String(t.key),E=xp(n,t),A=(x,D)=>{x&&tr(x,i,9,D)},w=(x,D)=>{const k=D[1];A(x,D),te(x)?x.every(R=>R.length<=1)&&k():x.length<=1&&k()},L={mode:o,persisted:u,beforeEnter(x){let D=m;if(!n.isMounted)if(s)D=d||m;else return;x._leaveCb&&x._leaveCb(!0);const k=E[T];k&&Ni(t,k)&&k.el._leaveCb&&k.el._leaveCb(),A(D,[x])},enter(x){let D=p,k=l,R=y;if(!n.isMounted)if(s)D=h||p,k=c||l,R=g||y;else return;let I=!1;const O=x._enterCb=P=>{I||(I=!0,P?A(R,[x]):A(k,[x]),L.delayedLeave&&L.delayedLeave(),x._enterCb=void 0)};D?w(D,[x,O]):O()},leave(x,D){const k=String(t.key);if(x._enterCb&&x._enterCb(!0),n.isUnmounting)return D();A(v,[x]);let R=!1;const I=x._leaveCb=O=>{R||(R=!0,D(),O?A(S,[x]):A(b,[x]),x._leaveCb=void 0,E[k]===t&&delete E[k])};E[k]=t,f?w(f,[x,I]):I()},clone(x){return Sc(x,e,n,i)}};return L}function nc(t){if(Sl(t))return t=mi(t),t.children=null,t}function Cg(t){return Sl(t)?t.children?t.children[0]:void 0:t}function kc(t,e){t.shapeFlag&6&&t.component?kc(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ip(t,e=!1,n){let i=[],s=0;for(let o=0;o<t.length;o++){let u=t[o];const m=n==null?u.key:String(n)+String(u.key!=null?u.key:o);u.type===ht?(u.patchFlag&128&&s++,i=i.concat(Ip(u.children,e,m))):(e||u.type!==hr)&&i.push(m!=null?mi(u,{key:m}):u)}if(s>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}function Ee(t){return ae(t)?{setup:t,name:t.name}:t}const Xo=t=>!!t.type.__asyncLoader,Sl=t=>t.type.__isKeepAlive;function Na(t,e){Lp(t,"a",e)}function Ds(t,e){Lp(t,"da",e)}function Lp(t,e,n=on){const i=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(kl(e,i,n),n){let s=n.parent;for(;s&&s.parent;)Sl(s.parent.vnode)&&mk(i,e,n,s),s=s.parent}}function mk(t,e,n,i){const s=kl(e,t,i,!0);jr(()=>{Xc(i[e],s)},n)}function kl(t,e,n=on,i=!1){if(n){const s=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...u)=>{if(n.isUnmounted)return;Is(),ks(n);const m=tr(e,n,t,u);return ji(),Ls(),m});return i?s.unshift(o):s.push(o),o}}const Hr=t=>(e,n=on)=>(!Oa||t==="sp")&&kl(t,(...i)=>e(...i),n),yk=Hr("bm"),hn=Hr("m"),Dp=Hr("bu"),Op=Hr("u"),Os=Hr("bum"),jr=Hr("um"),_k=Hr("sp"),Ak=Hr("rtg"),Ek=Hr("rtc");function bk(t,e=on){kl("ec",t,e)}function Le(t,e){const n=Xn;if(n===null)return t;const i=Cl(n)||n.proxy,s=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[u,m,p,l=xe]=e[o];ae(u)&&(u={mounted:u,updated:u}),u.deep&&$i(m),s.push({dir:u,instance:i,value:m,oldValue:void 0,arg:p,modifiers:l})}return t}function Li(t,e,n,i){const s=t.dirs,o=e&&e.dirs;for(let u=0;u<s.length;u++){const m=s[u];o&&(m.oldValue=o[u].value);let p=m.dir[i];p&&(Is(),tr(p,n,8,[t.el,m,t,e]),Ls())}}const Pp="components",Tk="directives";function Wt(t,e){return Fp(Pp,t,!0,e)||t}const Sk=Symbol();function kk(t){return Fp(Tk,t)}function Fp(t,e,n=!0,i=!1){const s=Xn||on;if(s){const o=s.type;if(t===Pp){const m=tw(o,!1);if(m&&(m===e||m===Sr(e)||m===yl(Sr(e))))return o}const u=Rg(s[t]||o[t],e)||Rg(s.appContext[t],e);return!u&&i?o:u}}function Rg(t,e){return t&&(t[e]||t[Sr(e)]||t[yl(Sr(e))])}function At(t,e,n,i){let s;const o=n&&n[i];if(te(t)||rn(t)){s=new Array(t.length);for(let u=0,m=t.length;u<m;u++)s[u]=e(t[u],u,void 0,o&&o[u])}else if(typeof t=="number"){s=new Array(t);for(let u=0;u<t;u++)s[u]=e(u+1,u,void 0,o&&o[u])}else if(Me(t))if(t[Symbol.iterator])s=Array.from(t,(u,m)=>e(u,m,void 0,o&&o[m]));else{const u=Object.keys(t);s=new Array(u.length);for(let m=0,p=u.length;m<p;m++){const l=u[m];s[m]=e(t[l],l,m,o&&o[m])}}else s=[];return n&&(n[i]=s),s}const wc=t=>t?Wp(t)?Cl(t)||t.proxy:wc(t.parent):null,ol=fn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>wc(t.parent),$root:t=>wc(t.root),$emit:t=>t.emit,$options:t=>dd(t),$forceUpdate:t=>t.f||(t.f=()=>cd(t.update)),$nextTick:t=>t.n||(t.n=Xt.bind(t.proxy)),$watch:t=>gk.bind(t)}),wk={get({_:t},e){const{ctx:n,setupState:i,data:s,props:o,accessCache:u,type:m,appContext:p}=t;let l;if(e[0]!=="$"){const b=u[e];if(b!==void 0)switch(b){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return o[e]}else{if(i!==xe&&pe(i,e))return u[e]=1,i[e];if(s!==xe&&pe(s,e))return u[e]=2,s[e];if((l=t.propsOptions[0])&&pe(l,e))return u[e]=3,o[e];if(n!==xe&&pe(n,e))return u[e]=4,n[e];Cc&&(u[e]=0)}}const y=ol[e];let v,f;if(y)return e==="$attrs"&&Hn(t,"get",e),y(t);if((v=m.__cssModules)&&(v=v[e]))return v;if(n!==xe&&pe(n,e))return u[e]=4,n[e];if(f=p.config.globalProperties,pe(f,e))return f[e]},set({_:t},e,n){const{data:i,setupState:s,ctx:o}=t;return s!==xe&&pe(s,e)?(s[e]=n,!0):i!==xe&&pe(i,e)?(i[e]=n,!0):pe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:o}},u){let m;return!!n[u]||t!==xe&&pe(t,u)||e!==xe&&pe(e,u)||(m=o[0])&&pe(m,u)||pe(i,u)||pe(ol,u)||pe(s.config.globalProperties,u)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:pe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let Cc=!0;function Ck(t){const e=dd(t),n=t.proxy,i=t.ctx;Cc=!1,e.beforeCreate&&xg(e.beforeCreate,t,"bc");const{data:s,computed:o,methods:u,watch:m,provide:p,inject:l,created:y,beforeMount:v,mounted:f,beforeUpdate:b,updated:S,activated:d,deactivated:h,beforeDestroy:c,beforeUnmount:g,destroyed:T,unmounted:E,render:A,renderTracked:w,renderTriggered:L,errorCaptured:x,serverPrefetch:D,expose:k,inheritAttrs:R,components:I,directives:O,filters:P}=e;if(l&&Rk(l,i,null,t.appContext.config.unwrapInjectedRef),u)for(const B in u){const H=u[B];ae(H)&&(i[B]=H.bind(n))}if(s){const B=s.call(n,n);Me(B)&&(t.data=Je(B))}if(Cc=!0,o)for(const B in o){const H=o[B],V=ae(H)?H.bind(n,n):ae(H.get)?H.get.bind(n,n):fr,q=!ae(H)&&ae(H.set)?H.set.bind(n):fr,et=jt({get:V,set:q});Object.defineProperty(i,B,{enumerable:!0,configurable:!0,get:()=>et.value,set:rt=>et.value=rt})}if(m)for(const B in m)Mp(m[B],i,n,B);if(p){const B=ae(p)?p.call(n):p;Reflect.ownKeys(B).forEach(H=>{gi(H,B[H])})}y&&xg(y,t,"c");function U(B,H){te(H)?H.forEach(V=>B(V.bind(n))):H&&B(H.bind(n))}if(U(yk,v),U(hn,f),U(Dp,b),U(Op,S),U(Na,d),U(Ds,h),U(bk,x),U(Ek,w),U(Ak,L),U(Os,g),U(jr,E),U(_k,D),te(k))if(k.length){const B=t.exposed||(t.exposed={});k.forEach(H=>{Object.defineProperty(B,H,{get:()=>n[H],set:V=>n[H]=V})})}else t.exposed||(t.exposed={});A&&t.render===fr&&(t.render=A),R!=null&&(t.inheritAttrs=R),I&&(t.components=I),O&&(t.directives=O)}function Rk(t,e,n=fr,i=!1){te(t)&&(t=Rc(t));for(const s in t){const o=t[s];let u;Me(o)?"default"in o?u=Tn(o.from||s,o.default,!0):u=Tn(o.from||s):u=Tn(o),Fe(u)&&i?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>u.value,set:m=>u.value=m}):e[s]=u}}function xg(t,e,n){tr(te(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function Mp(t,e,n,i){const s=i.includes(".")?Cp(n,i):()=>n[i];if(rn(t)){const o=e[t];ae(o)&&ce(s,o)}else if(ae(t))ce(s,t.bind(n));else if(Me(t))if(te(t))t.forEach(o=>Mp(o,e,n,i));else{const o=ae(t.handler)?t.handler.bind(n):e[t.handler];ae(o)&&ce(s,o,t)}}function dd(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:o,config:{optionMergeStrategies:u}}=t.appContext,m=o.get(e);let p;return m?p=m:!s.length&&!n&&!i?p=e:(p={},s.length&&s.forEach(l=>ll(p,l,u,!0)),ll(p,e,u)),Me(e)&&o.set(e,p),p}function ll(t,e,n,i=!1){const{mixins:s,extends:o}=e;o&&ll(t,o,n,!0),s&&s.forEach(u=>ll(t,u,n,!0));for(const u in e)if(!(i&&u==="expose")){const m=xk[u]||n&&n[u];t[u]=m?m(t[u],e[u]):e[u]}return t}const xk={data:Ig,props:Mi,emits:Mi,methods:Mi,computed:Mi,beforeCreate:bn,created:bn,beforeMount:bn,mounted:bn,beforeUpdate:bn,updated:bn,beforeDestroy:bn,beforeUnmount:bn,destroyed:bn,unmounted:bn,activated:bn,deactivated:bn,errorCaptured:bn,serverPrefetch:bn,components:Mi,directives:Mi,watch:Lk,provide:Ig,inject:Ik};function Ig(t,e){return e?t?function(){return fn(ae(t)?t.call(this,this):t,ae(e)?e.call(this,this):e)}:e:t}function Ik(t,e){return Mi(Rc(t),Rc(e))}function Rc(t){if(te(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function bn(t,e){return t?[...new Set([].concat(t,e))]:e}function Mi(t,e){return t?fn(fn(Object.create(null),t),e):e}function Lk(t,e){if(!t)return e;if(!e)return t;const n=fn(Object.create(null),t);for(const i in e)n[i]=bn(t[i],e[i]);return n}function Dk(t,e,n,i=!1){const s={},o={};rl(o,wl,1),t.propsDefaults=Object.create(null),Bp(t,e,s,o);for(const u in t.propsOptions[0])u in s||(s[u]=void 0);n?t.props=i?s:VS(s):t.type.props?t.props=s:t.props=o,t.attrs=o}function Ok(t,e,n,i){const{props:s,attrs:o,vnode:{patchFlag:u}}=t,m=Ae(s),[p]=t.propsOptions;let l=!1;if((i||u>0)&&!(u&16)){if(u&8){const y=t.vnode.dynamicProps;for(let v=0;v<y.length;v++){let f=y[v];if(El(t.emitsOptions,f))continue;const b=e[f];if(p)if(pe(o,f))b!==o[f]&&(o[f]=b,l=!0);else{const S=Sr(f);s[S]=xc(p,m,S,b,t,!1)}else b!==o[f]&&(o[f]=b,l=!0)}}}else{Bp(t,e,s,o)&&(l=!0);let y;for(const v in m)(!e||!pe(e,v)&&((y=zi(v))===v||!pe(e,y)))&&(p?n&&(n[v]!==void 0||n[y]!==void 0)&&(s[v]=xc(p,m,v,void 0,t,!0)):delete s[v]);if(o!==m)for(const v in o)(!e||!pe(e,v)&&!0)&&(delete o[v],l=!0)}l&&$r(t,"set","$attrs")}function Bp(t,e,n,i){const[s,o]=t.propsOptions;let u=!1,m;if(e)for(let p in e){if(Zo(p))continue;const l=e[p];let y;s&&pe(s,y=Sr(p))?!o||!o.includes(y)?n[y]=l:(m||(m={}))[y]=l:El(t.emitsOptions,p)||(!(p in i)||l!==i[p])&&(i[p]=l,u=!0)}if(o){const p=Ae(n),l=m||xe;for(let y=0;y<o.length;y++){const v=o[y];n[v]=xc(s,p,v,l[v],t,!pe(l,v))}}return u}function xc(t,e,n,i,s,o){const u=t[n];if(u!=null){const m=pe(u,"default");if(m&&i===void 0){const p=u.default;if(u.type!==Function&&ae(p)){const{propsDefaults:l}=s;n in l?i=l[n]:(ks(s),i=l[n]=p.call(null,e),ji())}else i=p}u[0]&&(o&&!m?i=!1:u[1]&&(i===""||i===zi(n))&&(i=!0))}return i}function Np(t,e,n=!1){const i=e.propsCache,s=i.get(t);if(s)return s;const o=t.props,u={},m=[];let p=!1;if(!ae(t)){const y=v=>{p=!0;const[f,b]=Np(v,e,!0);fn(u,f),b&&m.push(...b)};!n&&e.mixins.length&&e.mixins.forEach(y),t.extends&&y(t.extends),t.mixins&&t.mixins.forEach(y)}if(!o&&!p)return Me(t)&&i.set(t,_s),_s;if(te(o))for(let y=0;y<o.length;y++){const v=Sr(o[y]);Lg(v)&&(u[v]=xe)}else if(o)for(const y in o){const v=Sr(y);if(Lg(v)){const f=o[y],b=u[v]=te(f)||ae(f)?{type:f}:f;if(b){const S=Pg(Boolean,b.type),d=Pg(String,b.type);b[0]=S>-1,b[1]=d<0||S<d,(S>-1||pe(b,"default"))&&m.push(v)}}}const l=[u,m];return Me(t)&&i.set(t,l),l}function Lg(t){return t[0]!=="$"}function Dg(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function Og(t,e){return Dg(t)===Dg(e)}function Pg(t,e){return te(e)?e.findIndex(n=>Og(n,t)):ae(e)&&Og(e,t)?0:-1}const Up=t=>t[0]==="_"||t==="$stable",fd=t=>te(t)?t.map(br):[br(t)],Pk=(t,e,n)=>{if(e._n)return e;const i=Jt((...s)=>fd(e(...s)),n);return i._c=!1,i},$p=(t,e,n)=>{const i=t._ctx;for(const s in t){if(Up(s))continue;const o=t[s];if(ae(o))e[s]=Pk(s,o,i);else if(o!=null){const u=fd(o);e[s]=()=>u}}},Gp=(t,e)=>{const n=fd(e);t.slots.default=()=>n},Fk=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Ae(e),rl(e,"_",n)):$p(e,t.slots={})}else t.slots={},e&&Gp(t,e);rl(t.slots,wl,1)},Mk=(t,e,n)=>{const{vnode:i,slots:s}=t;let o=!0,u=xe;if(i.shapeFlag&32){const m=e._;m?n&&m===1?o=!1:(fn(s,e),!n&&m===1&&delete s._):(o=!e.$stable,$p(e,s)),u=e}else e&&(Gp(t,e),u={default:1});if(o)for(const m in s)!Up(m)&&!(m in u)&&delete s[m]};function Hp(){return{app:null,config:{isNativeTag:fS,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Bk=0;function Nk(t,e){return function(i,s=null){ae(i)||(i=Object.assign({},i)),s!=null&&!Me(s)&&(s=null);const o=Hp(),u=new Set;let m=!1;const p=o.app={_uid:Bk++,_component:i,_props:s,_container:null,_context:o,_instance:null,version:iw,get config(){return o.config},set config(l){},use(l,...y){return u.has(l)||(l&&ae(l.install)?(u.add(l),l.install(p,...y)):ae(l)&&(u.add(l),l(p,...y))),p},mixin(l){return o.mixins.includes(l)||o.mixins.push(l),p},component(l,y){return y?(o.components[l]=y,p):o.components[l]},directive(l,y){return y?(o.directives[l]=y,p):o.directives[l]},mount(l,y,v){if(!m){const f=at(i,s);return f.appContext=o,y&&e?e(f,l):t(f,l,v),m=!0,p._container=l,l.__vue_app__=p,Cl(f.component)||f.component.proxy}},unmount(){m&&(t(null,p._container),delete p._container.__vue_app__)},provide(l,y){return o.provides[l]=y,p}};return p}}function Ic(t,e,n,i,s=!1){if(te(t)){t.forEach((f,b)=>Ic(f,e&&(te(e)?e[b]:e),n,i,s));return}if(Xo(i)&&!s)return;const o=i.shapeFlag&4?Cl(i.component)||i.component.proxy:i.el,u=s?null:o,{i:m,r:p}=t,l=e&&e.r,y=m.refs===xe?m.refs={}:m.refs,v=m.setupState;if(l!=null&&l!==p&&(rn(l)?(y[l]=null,pe(v,l)&&(v[l]=null)):Fe(l)&&(l.value=null)),ae(p))hi(p,m,12,[u,y]);else{const f=rn(p),b=Fe(p);if(f||b){const S=()=>{if(t.f){const d=f?pe(v,p)?v[p]:y[p]:p.value;s?te(d)&&Xc(d,o):te(d)?d.includes(o)||d.push(o):f?(y[p]=[o],pe(v,p)&&(v[p]=y[p])):(p.value=[o],t.k&&(y[t.k]=p.value))}else f?(y[p]=u,pe(v,p)&&(v[p]=u)):b&&(p.value=u,t.k&&(y[t.k]=u))};u?(S.id=-1,Ln(S,n)):S()}}}const Ln=dk;function Uk(t){return $k(t)}function $k(t,e){const n=yS();n.__VUE__=!0;const{insert:i,remove:s,patchProp:o,createElement:u,createText:m,createComment:p,setText:l,setElementText:y,parentNode:v,nextSibling:f,setScopeId:b=fr,insertStaticContent:S}=t,d=(z,tt,ut,ft=null,mt=null,_t=null,wt=!1,St=null,Rt=!!tt.dynamicChildren)=>{if(z===tt)return;z&&!Ni(z,tt)&&(ft=it(z),rt(z,mt,_t,!0),z=null),tt.patchFlag===-2&&(Rt=!1,tt.dynamicChildren=null);const{type:Et,ref:Pt,shapeFlag:Dt}=tt;switch(Et){case gd:h(z,tt,ut,ft);break;case hr:c(z,tt,ut,ft);break;case ba:z==null&&g(tt,ut,ft,wt);break;case ht:I(z,tt,ut,ft,mt,_t,wt,St,Rt);break;default:Dt&1?A(z,tt,ut,ft,mt,_t,wt,St,Rt):Dt&6?O(z,tt,ut,ft,mt,_t,wt,St,Rt):(Dt&64||Dt&128)&&Et.process(z,tt,ut,ft,mt,_t,wt,St,Rt,gt)}Pt!=null&&mt&&Ic(Pt,z&&z.ref,_t,tt||z,!tt)},h=(z,tt,ut,ft)=>{if(z==null)i(tt.el=m(tt.children),ut,ft);else{const mt=tt.el=z.el;tt.children!==z.children&&l(mt,tt.children)}},c=(z,tt,ut,ft)=>{z==null?i(tt.el=p(tt.children||""),ut,ft):tt.el=z.el},g=(z,tt,ut,ft)=>{[z.el,z.anchor]=S(z.children,tt,ut,ft,z.el,z.anchor)},T=({el:z,anchor:tt},ut,ft)=>{let mt;for(;z&&z!==tt;)mt=f(z),i(z,ut,ft),z=mt;i(tt,ut,ft)},E=({el:z,anchor:tt})=>{let ut;for(;z&&z!==tt;)ut=f(z),s(z),z=ut;s(tt)},A=(z,tt,ut,ft,mt,_t,wt,St,Rt)=>{wt=wt||tt.type==="svg",z==null?w(tt,ut,ft,mt,_t,wt,St,Rt):D(z,tt,mt,_t,wt,St,Rt)},w=(z,tt,ut,ft,mt,_t,wt,St)=>{let Rt,Et;const{type:Pt,props:Dt,shapeFlag:Ft,transition:$t,dirs:Ht}=z;if(Rt=z.el=u(z.type,_t,Dt&&Dt.is,Dt),Ft&8?y(Rt,z.children):Ft&16&&x(z.children,Rt,null,ft,mt,_t&&Pt!=="foreignObject",wt,St),Ht&&Li(z,null,ft,"created"),Dt){for(const dt in Dt)dt!=="value"&&!Zo(dt)&&o(Rt,dt,null,Dt[dt],_t,z.children,ft,mt,st);"value"in Dt&&o(Rt,"value",null,Dt.value),(Et=Dt.onVnodeBeforeMount)&&Ar(Et,ft,z)}L(Rt,z,z.scopeId,wt,ft),Ht&&Li(z,null,ft,"beforeMount");const Yt=(!mt||mt&&!mt.pendingBranch)&&$t&&!$t.persisted;Yt&&$t.beforeEnter(Rt),i(Rt,tt,ut),((Et=Dt&&Dt.onVnodeMounted)||Yt||Ht)&&Ln(()=>{Et&&Ar(Et,ft,z),Yt&&$t.enter(Rt),Ht&&Li(z,null,ft,"mounted")},mt)},L=(z,tt,ut,ft,mt)=>{if(ut&&b(z,ut),ft)for(let _t=0;_t<ft.length;_t++)b(z,ft[_t]);if(mt){let _t=mt.subTree;if(tt===_t){const wt=mt.vnode;L(z,wt,wt.scopeId,wt.slotScopeIds,mt.parent)}}},x=(z,tt,ut,ft,mt,_t,wt,St,Rt=0)=>{for(let Et=Rt;Et<z.length;Et++){const Pt=z[Et]=St?li(z[Et]):br(z[Et]);d(null,Pt,tt,ut,ft,mt,_t,wt,St)}},D=(z,tt,ut,ft,mt,_t,wt)=>{const St=tt.el=z.el;let{patchFlag:Rt,dynamicChildren:Et,dirs:Pt}=tt;Rt|=z.patchFlag&16;const Dt=z.props||xe,Ft=tt.props||xe;let $t;ut&&Di(ut,!1),($t=Ft.onVnodeBeforeUpdate)&&Ar($t,ut,tt,z),Pt&&Li(tt,z,ut,"beforeUpdate"),ut&&Di(ut,!0);const Ht=mt&&tt.type!=="foreignObject";if(Et?k(z.dynamicChildren,Et,St,ut,ft,Ht,_t):wt||H(z,tt,St,null,ut,ft,Ht,_t,!1),Rt>0){if(Rt&16)R(St,tt,Dt,Ft,ut,ft,mt);else if(Rt&2&&Dt.class!==Ft.class&&o(St,"class",null,Ft.class,mt),Rt&4&&o(St,"style",Dt.style,Ft.style,mt),Rt&8){const Yt=tt.dynamicProps;for(let dt=0;dt<Yt.length;dt++){const Ot=Yt[dt],ue=Dt[Ot],De=Ft[Ot];(De!==ue||Ot==="value")&&o(St,Ot,ue,De,mt,z.children,ut,ft,st)}}Rt&1&&z.children!==tt.children&&y(St,tt.children)}else!wt&&Et==null&&R(St,tt,Dt,Ft,ut,ft,mt);(($t=Ft.onVnodeUpdated)||Pt)&&Ln(()=>{$t&&Ar($t,ut,tt,z),Pt&&Li(tt,z,ut,"updated")},ft)},k=(z,tt,ut,ft,mt,_t,wt)=>{for(let St=0;St<tt.length;St++){const Rt=z[St],Et=tt[St],Pt=Rt.el&&(Rt.type===ht||!Ni(Rt,Et)||Rt.shapeFlag&70)?v(Rt.el):ut;d(Rt,Et,Pt,null,ft,mt,_t,wt,!0)}},R=(z,tt,ut,ft,mt,_t,wt)=>{if(ut!==ft){if(ut!==xe)for(const St in ut)!Zo(St)&&!(St in ft)&&o(z,St,ut[St],null,wt,tt.children,mt,_t,st);for(const St in ft){if(Zo(St))continue;const Rt=ft[St],Et=ut[St];Rt!==Et&&St!=="value"&&o(z,St,Et,Rt,wt,tt.children,mt,_t,st)}"value"in ft&&o(z,"value",ut.value,ft.value)}},I=(z,tt,ut,ft,mt,_t,wt,St,Rt)=>{const Et=tt.el=z?z.el:m(""),Pt=tt.anchor=z?z.anchor:m("");let{patchFlag:Dt,dynamicChildren:Ft,slotScopeIds:$t}=tt;$t&&(St=St?St.concat($t):$t),z==null?(i(Et,ut,ft),i(Pt,ut,ft),x(tt.children,ut,Pt,mt,_t,wt,St,Rt)):Dt>0&&Dt&64&&Ft&&z.dynamicChildren?(k(z.dynamicChildren,Ft,ut,mt,_t,wt,St),(tt.key!=null||mt&&tt===mt.subTree)&&hd(z,tt,!0)):H(z,tt,ut,Pt,mt,_t,wt,St,Rt)},O=(z,tt,ut,ft,mt,_t,wt,St,Rt)=>{tt.slotScopeIds=St,z==null?tt.shapeFlag&512?mt.ctx.activate(tt,ut,ft,wt,Rt):P(tt,ut,ft,mt,_t,wt,Rt):F(z,tt,Rt)},P=(z,tt,ut,ft,mt,_t,wt)=>{const St=z.component=Qk(z,ft,mt);if(Sl(z)&&(St.ctx.renderer=gt),Zk(St),St.asyncDep){if(mt&&mt.registerDep(St,U),!z.el){const Rt=St.subTree=at(hr);c(null,Rt,tt,ut)}return}U(St,z,tt,ut,mt,_t,wt)},F=(z,tt,ut)=>{const ft=tt.component=z.component;if(lk(z,tt,ut))if(ft.asyncDep&&!ft.asyncResolved){B(ft,tt,ut);return}else ft.next=tt,nk(ft.update),ft.update();else tt.el=z.el,ft.vnode=tt},U=(z,tt,ut,ft,mt,_t,wt)=>{const St=()=>{if(z.isMounted){let{next:Pt,bu:Dt,u:Ft,parent:$t,vnode:Ht}=z,Yt=Pt,dt;Di(z,!1),Pt?(Pt.el=Ht.el,B(z,Pt,wt)):Pt=Ht,Dt&&Jo(Dt),(dt=Pt.props&&Pt.props.onVnodeBeforeUpdate)&&Ar(dt,$t,Pt,Ht),Di(z,!0);const Ot=ec(z),ue=z.subTree;z.subTree=Ot,d(ue,Ot,v(ue.el),it(ue),z,mt,_t),Pt.el=Ot.el,Yt===null&&uk(z,Ot.el),Ft&&Ln(Ft,mt),(dt=Pt.props&&Pt.props.onVnodeUpdated)&&Ln(()=>Ar(dt,$t,Pt,Ht),mt)}else{let Pt;const{el:Dt,props:Ft}=tt,{bm:$t,m:Ht,parent:Yt}=z,dt=Xo(tt);if(Di(z,!1),$t&&Jo($t),!dt&&(Pt=Ft&&Ft.onVnodeBeforeMount)&&Ar(Pt,Yt,tt),Di(z,!0),Dt&&It){const Ot=()=>{z.subTree=ec(z),It(Dt,z.subTree,z,mt,null)};dt?tt.type.__asyncLoader().then(()=>!z.isUnmounted&&Ot()):Ot()}else{const Ot=z.subTree=ec(z);d(null,Ot,ut,ft,z,mt,_t),tt.el=Ot.el}if(Ht&&Ln(Ht,mt),!dt&&(Pt=Ft&&Ft.onVnodeMounted)){const Ot=tt;Ln(()=>Ar(Pt,Yt,Ot),mt)}(tt.shapeFlag&256||Yt&&Xo(Yt.vnode)&&Yt.vnode.shapeFlag&256)&&z.a&&Ln(z.a,mt),z.isMounted=!0,tt=ut=ft=null}},Rt=z.effect=new rd(St,()=>cd(Et),z.scope),Et=z.update=()=>Rt.run();Et.id=z.uid,Di(z,!0),Et()},B=(z,tt,ut)=>{tt.component=z;const ft=z.vnode.props;z.vnode=tt,z.next=null,Ok(z,tt.props,ft,ut),Mk(z,tt.children,ut),Is(),Sg(),Ls()},H=(z,tt,ut,ft,mt,_t,wt,St,Rt=!1)=>{const Et=z&&z.children,Pt=z?z.shapeFlag:0,Dt=tt.children,{patchFlag:Ft,shapeFlag:$t}=tt;if(Ft>0){if(Ft&128){q(Et,Dt,ut,ft,mt,_t,wt,St,Rt);return}else if(Ft&256){V(Et,Dt,ut,ft,mt,_t,wt,St,Rt);return}}$t&8?(Pt&16&&st(Et,mt,_t),Dt!==Et&&y(ut,Dt)):Pt&16?$t&16?q(Et,Dt,ut,ft,mt,_t,wt,St,Rt):st(Et,mt,_t,!0):(Pt&8&&y(ut,""),$t&16&&x(Dt,ut,ft,mt,_t,wt,St,Rt))},V=(z,tt,ut,ft,mt,_t,wt,St,Rt)=>{z=z||_s,tt=tt||_s;const Et=z.length,Pt=tt.length,Dt=Math.min(Et,Pt);let Ft;for(Ft=0;Ft<Dt;Ft++){const $t=tt[Ft]=Rt?li(tt[Ft]):br(tt[Ft]);d(z[Ft],$t,ut,null,mt,_t,wt,St,Rt)}Et>Pt?st(z,mt,_t,!0,!1,Dt):x(tt,ut,ft,mt,_t,wt,St,Rt,Dt)},q=(z,tt,ut,ft,mt,_t,wt,St,Rt)=>{let Et=0;const Pt=tt.length;let Dt=z.length-1,Ft=Pt-1;for(;Et<=Dt&&Et<=Ft;){const $t=z[Et],Ht=tt[Et]=Rt?li(tt[Et]):br(tt[Et]);if(Ni($t,Ht))d($t,Ht,ut,null,mt,_t,wt,St,Rt);else break;Et++}for(;Et<=Dt&&Et<=Ft;){const $t=z[Dt],Ht=tt[Ft]=Rt?li(tt[Ft]):br(tt[Ft]);if(Ni($t,Ht))d($t,Ht,ut,null,mt,_t,wt,St,Rt);else break;Dt--,Ft--}if(Et>Dt){if(Et<=Ft){const $t=Ft+1,Ht=$t<Pt?tt[$t].el:ft;for(;Et<=Ft;)d(null,tt[Et]=Rt?li(tt[Et]):br(tt[Et]),ut,Ht,mt,_t,wt,St,Rt),Et++}}else if(Et>Ft)for(;Et<=Dt;)rt(z[Et],mt,_t,!0),Et++;else{const $t=Et,Ht=Et,Yt=new Map;for(Et=Ht;Et<=Ft;Et++){const ee=tt[Et]=Rt?li(tt[Et]):br(tt[Et]);ee.key!=null&&Yt.set(ee.key,Et)}let dt,Ot=0;const ue=Ft-Ht+1;let De=!1,Be=0;const Oe=new Array(ue);for(Et=0;Et<ue;Et++)Oe[Et]=0;for(Et=$t;Et<=Dt;Et++){const ee=z[Et];if(Ot>=ue){rt(ee,mt,_t,!0);continue}let qt;if(ee.key!=null)qt=Yt.get(ee.key);else for(dt=Ht;dt<=Ft;dt++)if(Oe[dt-Ht]===0&&Ni(ee,tt[dt])){qt=dt;break}qt===void 0?rt(ee,mt,_t,!0):(Oe[qt-Ht]=Et+1,qt>=Be?Be=qt:De=!0,d(ee,tt[qt],ut,null,mt,_t,wt,St,Rt),Ot++)}const Mt=De?Gk(Oe):_s;for(dt=Mt.length-1,Et=ue-1;Et>=0;Et--){const ee=Ht+Et,qt=tt[ee],Ne=ee+1<Pt?tt[ee+1].el:ft;Oe[Et]===0?d(null,qt,ut,Ne,mt,_t,wt,St,Rt):De&&(dt<0||Et!==Mt[dt]?et(qt,ut,Ne,2):dt--)}}},et=(z,tt,ut,ft,mt=null)=>{const{el:_t,type:wt,transition:St,children:Rt,shapeFlag:Et}=z;if(Et&6){et(z.component.subTree,tt,ut,ft);return}if(Et&128){z.suspense.move(tt,ut,ft);return}if(Et&64){wt.move(z,tt,ut,gt);return}if(wt===ht){i(_t,tt,ut);for(let Dt=0;Dt<Rt.length;Dt++)et(Rt[Dt],tt,ut,ft);i(z.anchor,tt,ut);return}if(wt===ba){T(z,tt,ut);return}if(ft!==2&&Et&1&&St)if(ft===0)St.beforeEnter(_t),i(_t,tt,ut),Ln(()=>St.enter(_t),mt);else{const{leave:Dt,delayLeave:Ft,afterLeave:$t}=St,Ht=()=>i(_t,tt,ut),Yt=()=>{Dt(_t,()=>{Ht(),$t&&$t()})};Ft?Ft(_t,Ht,Yt):Yt()}else i(_t,tt,ut)},rt=(z,tt,ut,ft=!1,mt=!1)=>{const{type:_t,props:wt,ref:St,children:Rt,dynamicChildren:Et,shapeFlag:Pt,patchFlag:Dt,dirs:Ft}=z;if(St!=null&&Ic(St,null,ut,z,!0),Pt&256){tt.ctx.deactivate(z);return}const $t=Pt&1&&Ft,Ht=!Xo(z);let Yt;if(Ht&&(Yt=wt&&wt.onVnodeBeforeUnmount)&&Ar(Yt,tt,z),Pt&6)W(z.component,ut,ft);else{if(Pt&128){z.suspense.unmount(ut,ft);return}$t&&Li(z,null,tt,"beforeUnmount"),Pt&64?z.type.remove(z,tt,ut,mt,gt,ft):Et&&(_t!==ht||Dt>0&&Dt&64)?st(Et,tt,ut,!1,!0):(_t===ht&&Dt&384||!mt&&Pt&16)&&st(Rt,tt,ut),ft&&ot(z)}(Ht&&(Yt=wt&&wt.onVnodeUnmounted)||$t)&&Ln(()=>{Yt&&Ar(Yt,tt,z),$t&&Li(z,null,tt,"unmounted")},ut)},ot=z=>{const{type:tt,el:ut,anchor:ft,transition:mt}=z;if(tt===ht){J(ut,ft);return}if(tt===ba){E(z);return}const _t=()=>{s(ut),mt&&!mt.persisted&&mt.afterLeave&&mt.afterLeave()};if(z.shapeFlag&1&&mt&&!mt.persisted){const{leave:wt,delayLeave:St}=mt,Rt=()=>wt(ut,_t);St?St(z.el,_t,Rt):Rt()}else _t()},J=(z,tt)=>{let ut;for(;z!==tt;)ut=f(z),s(z),z=ut;s(tt)},W=(z,tt,ut)=>{const{bum:ft,scope:mt,update:_t,subTree:wt,um:St}=z;ft&&Jo(ft),mt.stop(),_t&&(_t.active=!1,rt(wt,z,tt,ut)),St&&Ln(St,tt),Ln(()=>{z.isUnmounted=!0},tt),tt&&tt.pendingBranch&&!tt.isUnmounted&&z.asyncDep&&!z.asyncResolved&&z.suspenseId===tt.pendingId&&(tt.deps--,tt.deps===0&&tt.resolve())},st=(z,tt,ut,ft=!1,mt=!1,_t=0)=>{for(let wt=_t;wt<z.length;wt++)rt(z[wt],tt,ut,ft,mt)},it=z=>z.shapeFlag&6?it(z.component.subTree):z.shapeFlag&128?z.suspense.next():f(z.anchor||z.el),j=(z,tt,ut)=>{z==null?tt._vnode&&rt(tt._vnode,null,null,!0):d(tt._vnode||null,z,tt,null,null,null,ut),Sg(),Sp(),tt._vnode=z},gt={p:d,um:rt,m:et,r:ot,mt:P,mc:x,pc:H,pbc:k,n:it,o:t};let bt,It;return e&&([bt,It]=e(gt)),{render:j,hydrate:bt,createApp:Nk(j,bt)}}function Di({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function hd(t,e,n=!1){const i=t.children,s=e.children;if(te(i)&&te(s))for(let o=0;o<i.length;o++){const u=i[o];let m=s[o];m.shapeFlag&1&&!m.dynamicChildren&&((m.patchFlag<=0||m.patchFlag===32)&&(m=s[o]=li(s[o]),m.el=u.el),n||hd(u,m))}}function Gk(t){const e=t.slice(),n=[0];let i,s,o,u,m;const p=t.length;for(i=0;i<p;i++){const l=t[i];if(l!==0){if(s=n[n.length-1],t[s]<l){e[i]=s,n.push(i);continue}for(o=0,u=n.length-1;o<u;)m=o+u>>1,t[n[m]]<l?o=m+1:u=m;l<t[n[o]]&&(o>0&&(e[i]=n[o-1]),n[o]=i)}}for(o=n.length,u=n[o-1];o-- >0;)n[o]=u,u=e[u];return n}const Hk=t=>t.__isTeleport,Ea=t=>t&&(t.disabled||t.disabled===""),Fg=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Lc=(t,e)=>{const n=t&&t.to;return rn(n)?e?e(n):null:n},jk={__isTeleport:!0,process(t,e,n,i,s,o,u,m,p,l){const{mc:y,pc:v,pbc:f,o:{insert:b,querySelector:S,createText:d,createComment:h}}=l,c=Ea(e.props);let{shapeFlag:g,children:T,dynamicChildren:E}=e;if(t==null){const A=e.el=d(""),w=e.anchor=d("");b(A,n,i),b(w,n,i);const L=e.target=Lc(e.props,S),x=e.targetAnchor=d("");L&&(b(x,L),u=u||Fg(L));const D=(k,R)=>{g&16&&y(T,k,R,s,o,u,m,p)};c?D(n,w):L&&D(L,x)}else{e.el=t.el;const A=e.anchor=t.anchor,w=e.target=t.target,L=e.targetAnchor=t.targetAnchor,x=Ea(t.props),D=x?n:w,k=x?A:L;if(u=u||Fg(w),E?(f(t.dynamicChildren,E,D,s,o,u,m),hd(t,e,!0)):p||v(t,e,D,k,s,o,u,m,!1),c)x||Vo(e,n,A,l,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const R=e.target=Lc(e.props,S);R&&Vo(e,R,null,l,0)}else x&&Vo(e,w,L,l,1)}},remove(t,e,n,i,{um:s,o:{remove:o}},u){const{shapeFlag:m,children:p,anchor:l,targetAnchor:y,target:v,props:f}=t;if(v&&o(y),(u||!Ea(f))&&(o(l),m&16))for(let b=0;b<p.length;b++){const S=p[b];s(S,e,n,!0,!!S.dynamicChildren)}},move:Vo,hydrate:Kk};function Vo(t,e,n,{o:{insert:i},m:s},o=2){o===0&&i(t.targetAnchor,e,n);const{el:u,anchor:m,shapeFlag:p,children:l,props:y}=t,v=o===2;if(v&&i(u,e,n),(!v||Ea(y))&&p&16)for(let f=0;f<l.length;f++)s(l[f],e,n,2);v&&i(m,e,n)}function Kk(t,e,n,i,s,o,{o:{nextSibling:u,parentNode:m,querySelector:p}},l){const y=e.target=Lc(e.props,p);if(y){const v=y._lpa||y.firstChild;if(e.shapeFlag&16)if(Ea(e.props))e.anchor=l(u(t),e,m(t),n,i,s,o),e.targetAnchor=v;else{e.anchor=u(t);let f=v;for(;f;)if(f=u(f),f&&f.nodeType===8&&f.data==="teleport anchor"){e.targetAnchor=f,y._lpa=e.targetAnchor&&u(e.targetAnchor);break}l(v,e,y,n,i,s,o)}}return e.anchor&&u(e.anchor)}const jp=jk,ht=Symbol(void 0),gd=Symbol(void 0),hr=Symbol(void 0),ba=Symbol(void 0),Ta=[];let dr=null;function N(t=!1){Ta.push(dr=t?null:[])}function Vk(){Ta.pop(),dr=Ta[Ta.length-1]||null}let Da=1;function Mg(t){Da+=t}function Kp(t){return t.dynamicChildren=Da>0?dr||_s:null,Vk(),Da>0&&dr&&dr.push(t),t}function $(t,e,n,i,s,o){return Kp(_(t,e,n,i,s,o,!0))}function ie(t,e,n,i,s){return Kp(at(t,e,n,i,s,!0))}function ul(t){return t?t.__v_isVNode===!0:!1}function Ni(t,e){return t.type===e.type&&t.key===e.key}const wl="__vInternal",Vp=({key:t})=>t!=null?t:null,tl=({ref:t,ref_key:e,ref_for:n})=>t!=null?rn(t)||Fe(t)||ae(t)?{i:Xn,r:t,k:e,f:!!n}:t:null;function _(t,e=null,n=null,i=0,s=null,o=t===ht?0:1,u=!1,m=!1){const p={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Vp(e),ref:e&&tl(e),scopeId:bl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null};return m?(pd(p,n),o&128&&t.normalize(p)):n&&(p.shapeFlag|=rn(n)?8:16),Da>0&&!u&&dr&&(p.patchFlag>0||o&6)&&p.patchFlag!==32&&dr.push(p),p}const at=Wk;function Wk(t,e=null,n=null,i=0,s=null,o=!1){if((!t||t===Sk)&&(t=hr),ul(t)){const m=mi(t,e,!0);return n&&pd(m,n),Da>0&&!o&&dr&&(m.shapeFlag&6?dr[dr.indexOf(t)]=m:dr.push(m)),m.patchFlag|=-2,m}if(ew(t)&&(t=t.__vccOpts),e){e=zk(e);let{class:m,style:p}=e;m&&!rn(m)&&(e.class=Kt(m)),Me(p)&&(pp(p)&&!te(p)&&(p=fn({},p)),e.style=cn(p))}const u=rn(t)?1:ck(t)?128:Hk(t)?64:Me(t)?4:ae(t)?2:0;return _(t,e,n,i,s,u,o,!0)}function zk(t){return t?pp(t)||wl in t?fn({},t):t:null}function mi(t,e,n=!1){const{props:i,ref:s,patchFlag:o,children:u}=t,m=e?nr(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:m,key:m&&Vp(m),ref:e&&e.ref?n&&s?te(s)?s.concat(tl(e)):[s,tl(e)]:tl(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:u,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ht?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&mi(t.ssContent),ssFallback:t.ssFallback&&mi(t.ssFallback),el:t.el,anchor:t.anchor}}function Vt(t=" ",e=0){return at(gd,null,t,e)}function vd(t,e){const n=at(ba,null,t);return n.staticCount=e,n}function pt(t="",e=!1){return e?(N(),ie(hr,null,t)):at(hr,null,t)}function br(t){return t==null||typeof t=="boolean"?at(hr):te(t)?at(ht,null,t.slice()):typeof t=="object"?li(t):at(gd,null,String(t))}function li(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:mi(t)}function pd(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(te(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),pd(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!(wl in e)?e._ctx=Xn:s===3&&Xn&&(Xn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ae(e)?(e={default:e,_ctx:Xn},n=32):(e=String(e),i&64?(n=16,e=[Vt(e)]):n=8);t.children=e,t.shapeFlag|=n}function nr(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=Kt([e.class,i.class]));else if(s==="style")e.style=cn([e.style,i.style]);else if(vl(s)){const o=e[s],u=i[s];u&&o!==u&&!(te(o)&&o.includes(u))&&(e[s]=o?[].concat(o,u):u)}else s!==""&&(e[s]=i[s])}return e}function Ar(t,e,n,i=null){tr(t,e,7,[n,i])}const Yk=Hp();let qk=0;function Qk(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||Yk,o={uid:qk++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new rp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Np(i,s),emitsOptions:wp(i,s),emit:null,emitted:null,propsDefaults:xe,inheritAttrs:i.inheritAttrs,ctx:xe,data:xe,props:xe,attrs:xe,slots:xe,refs:xe,setupState:xe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=sk.bind(null,o),t.ce&&t.ce(o),o}let on=null;const jn=()=>on||Xn,ks=t=>{on=t,t.scope.on()},ji=()=>{on&&on.scope.off(),on=null};function Wp(t){return t.vnode.shapeFlag&4}let Oa=!1;function Zk(t,e=!1){Oa=e;const{props:n,children:i}=t.vnode,s=Wp(t);Dk(t,n,s,e),Fk(t,i);const o=s?Jk(t,e):void 0;return Oa=!1,o}function Jk(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Ss(new Proxy(t.ctx,wk));const{setup:i}=n;if(i){const s=t.setupContext=i.length>1?Yp(t):null;ks(t),Is();const o=hi(i,t,0,[t.props,s]);if(Ls(),ji(),tp(o)){if(o.then(ji,ji),e)return o.then(u=>{Bg(t,u,e)}).catch(u=>{Al(u,t,0)});t.asyncDep=o}else Bg(t,o,e)}else zp(t,e)}function Bg(t,e,n){ae(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Me(e)&&(t.setupState=Ap(e)),zp(t,n)}let Ng;function zp(t,e,n){const i=t.type;if(!t.render){if(!e&&Ng&&!i.render){const s=i.template||dd(t).template;if(s){const{isCustomElement:o,compilerOptions:u}=t.appContext.config,{delimiters:m,compilerOptions:p}=i,l=fn(fn({isCustomElement:o,delimiters:m},u),p);i.render=Ng(s,l)}}t.render=i.render||fr}ks(t),Is(),Ck(t),Ls(),ji()}function Xk(t){return new Proxy(t.attrs,{get(e,n){return Hn(t,"get","$attrs"),e[n]}})}function Yp(t){const e=i=>{t.exposed=i||{}};let n;return{get attrs(){return n||(n=Xk(t))},slots:t.slots,emit:t.emit,expose:e}}function Cl(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Ap(Ss(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ol)return ol[n](t)}}))}function tw(t,e=!0){return ae(t)?t.displayName||t.name:t.name||e&&t.__name}function ew(t){return ae(t)&&"__vccOpts"in t}const jt=(t,e)=>XS(t,e,Oa);function nw(){return rw().attrs}function rw(){const t=jn();return t.setupContext||(t.setupContext=Yp(t))}function Rl(t,e,n){const i=arguments.length;return i===2?Me(e)&&!te(e)?ul(e)?at(t,null,[e]):at(t,e):at(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&ul(n)&&(n=[n]),at(t,e,n))}const iw="3.2.41",sw="http://www.w3.org/2000/svg",Ui=typeof document<"u"?document:null,Ug=Ui&&Ui.createElement("template"),aw={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e?Ui.createElementNS(sw,t):Ui.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>Ui.createTextNode(t),createComment:t=>Ui.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ui.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,s,o){const u=n?n.previousSibling:e.lastChild;if(s&&(s===o||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{Ug.innerHTML=i?`<svg>${t}</svg>`:t;const m=Ug.content;if(i){const p=m.firstChild;for(;p.firstChild;)m.appendChild(p.firstChild);m.removeChild(p)}e.insertBefore(m,n)}return[u?u.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function ow(t,e,n){const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function lw(t,e,n){const i=t.style,s=rn(n);if(n&&!s){for(const o in n)Dc(i,o,n[o]);if(e&&!rn(e))for(const o in e)n[o]==null&&Dc(i,o,"")}else{const o=i.display;s?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(i.display=o)}}const $g=/\s*!important$/;function Dc(t,e,n){if(te(n))n.forEach(i=>Dc(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=uw(t,e);$g.test(n)?t.setProperty(zi(i),n.replace($g,""),"important"):t[i]=n}}const Gg=["Webkit","Moz","ms"],rc={};function uw(t,e){const n=rc[e];if(n)return n;let i=Sr(e);if(i!=="filter"&&i in t)return rc[e]=i;i=yl(i);for(let s=0;s<Gg.length;s++){const o=Gg[s]+i;if(o in t)return rc[e]=o}return e}const Hg="http://www.w3.org/1999/xlink";function cw(t,e,n,i,s){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Hg,e.slice(6,e.length)):t.setAttributeNS(Hg,e,n);else{const o=lS(e);n==null||o&&!Zv(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function dw(t,e,n,i,s,o,u){if(e==="innerHTML"||e==="textContent"){i&&u(i,s,o),t[e]=n==null?"":n;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const p=n==null?"":n;(t.value!==p||t.tagName==="OPTION")&&(t.value=p),n==null&&t.removeAttribute(e);return}let m=!1;if(n===""||n==null){const p=typeof t[e];p==="boolean"?n=Zv(n):n==null&&p==="string"?(n="",m=!0):p==="number"&&(n=0,m=!0)}try{t[e]=n}catch{}m&&t.removeAttribute(e)}function ps(t,e,n,i){t.addEventListener(e,n,i)}function fw(t,e,n,i){t.removeEventListener(e,n,i)}function hw(t,e,n,i,s=null){const o=t._vei||(t._vei={}),u=o[e];if(i&&u)u.value=i;else{const[m,p]=gw(e);if(i){const l=o[e]=mw(i,s);ps(t,m,l,p)}else u&&(fw(t,m,u,p),o[e]=void 0)}}const jg=/(?:Once|Passive|Capture)$/;function gw(t){let e;if(jg.test(t)){e={};let i;for(;i=t.match(jg);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):zi(t.slice(2)),e]}let ic=0;const vw=Promise.resolve(),pw=()=>ic||(vw.then(()=>ic=0),ic=Date.now());function mw(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;tr(yw(i,n.value),e,5,[i])};return n.value=t,n.attached=pw(),n}function yw(t,e){if(te(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const Kg=/^on[a-z]/,_w=(t,e,n,i,s=!1,o,u,m,p)=>{e==="class"?ow(t,i,s):e==="style"?lw(t,n,i):vl(e)?Jc(e)||hw(t,e,n,i,u):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Aw(t,e,i,s))?dw(t,e,i,o,u,m,p):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),cw(t,e,i,s))};function Aw(t,e,n,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&Kg.test(e)&&ae(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Kg.test(e)&&rn(n)?!1:e in t}function md(t){const e=jn();if(!e)return;const n=()=>Oc(e.subTree,t(e.proxy));hk(n),hn(()=>{const i=new MutationObserver(n);i.observe(e.subTree.el.parentNode,{childList:!0}),jr(()=>i.disconnect())})}function Oc(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Oc(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Vg(t.el,e);else if(t.type===ht)t.children.forEach(n=>Oc(n,e));else if(t.type===ba){let{el:n,anchor:i}=t;for(;n&&(Vg(n,e),n!==i);)n=n.nextSibling}}function Vg(t,e){if(t.nodeType===1){const n=t.style;for(const i in e)n.setProperty(`--${i}`,e[i])}}const si="transition",sa="animation",Vi=(t,{slots:e})=>Rl(Rp,Ew(t),e);Vi.displayName="Transition";const qp={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Vi.props=fn({},Rp.props,qp);const Oi=(t,e=[])=>{te(t)?t.forEach(n=>n(...e)):t&&t(...e)},Wg=t=>t?te(t)?t.some(e=>e.length>1):t.length>1:!1;function Ew(t){const e={};for(const I in t)I in qp||(e[I]=t[I]);if(t.css===!1)return e;const{name:n="v",type:i,duration:s,enterFromClass:o=`${n}-enter-from`,enterActiveClass:u=`${n}-enter-active`,enterToClass:m=`${n}-enter-to`,appearFromClass:p=o,appearActiveClass:l=u,appearToClass:y=m,leaveFromClass:v=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:b=`${n}-leave-to`}=t,S=bw(s),d=S&&S[0],h=S&&S[1],{onBeforeEnter:c,onEnter:g,onEnterCancelled:T,onLeave:E,onLeaveCancelled:A,onBeforeAppear:w=c,onAppear:L=g,onAppearCancelled:x=T}=e,D=(I,O,P)=>{Pi(I,O?y:m),Pi(I,O?l:u),P&&P()},k=(I,O)=>{I._isLeaving=!1,Pi(I,v),Pi(I,b),Pi(I,f),O&&O()},R=I=>(O,P)=>{const F=I?L:g,U=()=>D(O,I,P);Oi(F,[O,U]),zg(()=>{Pi(O,I?p:o),ai(O,I?y:m),Wg(F)||Yg(O,i,d,U)})};return fn(e,{onBeforeEnter(I){Oi(c,[I]),ai(I,o),ai(I,u)},onBeforeAppear(I){Oi(w,[I]),ai(I,p),ai(I,l)},onEnter:R(!1),onAppear:R(!0),onLeave(I,O){I._isLeaving=!0;const P=()=>k(I,O);ai(I,v),kw(),ai(I,f),zg(()=>{!I._isLeaving||(Pi(I,v),ai(I,b),Wg(E)||Yg(I,i,h,P))}),Oi(E,[I,P])},onEnterCancelled(I){D(I,!1),Oi(T,[I])},onAppearCancelled(I){D(I,!0),Oi(x,[I])},onLeaveCancelled(I){k(I),Oi(A,[I])}})}function bw(t){if(t==null)return null;if(Me(t))return[sc(t.enter),sc(t.leave)];{const e=sc(t);return[e,e]}}function sc(t){return il(t)}function ai(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function Pi(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function zg(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Tw=0;function Yg(t,e,n,i){const s=t._endId=++Tw,o=()=>{s===t._endId&&i()};if(n)return setTimeout(o,n);const{type:u,timeout:m,propCount:p}=Sw(t,e);if(!u)return i();const l=u+"end";let y=0;const v=()=>{t.removeEventListener(l,f),o()},f=b=>{b.target===t&&++y>=p&&v()};setTimeout(()=>{y<p&&v()},m+1),t.addEventListener(l,f)}function Sw(t,e){const n=window.getComputedStyle(t),i=S=>(n[S]||"").split(", "),s=i(si+"Delay"),o=i(si+"Duration"),u=qg(s,o),m=i(sa+"Delay"),p=i(sa+"Duration"),l=qg(m,p);let y=null,v=0,f=0;e===si?u>0&&(y=si,v=u,f=o.length):e===sa?l>0&&(y=sa,v=l,f=p.length):(v=Math.max(u,l),y=v>0?u>l?si:sa:null,f=y?y===si?o.length:p.length:0);const b=y===si&&/\b(transform|all)(,|$)/.test(n[si+"Property"]);return{type:y,timeout:v,propCount:f,hasTransform:b}}function qg(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>Qg(n)+Qg(t[i])))}function Qg(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function kw(){return document.body.offsetHeight}const Zg=t=>{const e=t.props["onUpdate:modelValue"]||!1;return te(e)?n=>Jo(e,n):e};function ww(t){t.target.composing=!0}function Jg(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const cl={created(t,{modifiers:{lazy:e,trim:n,number:i}},s){t._assign=Zg(s);const o=i||s.props&&s.props.type==="number";ps(t,e?"change":"input",u=>{if(u.target.composing)return;let m=t.value;n&&(m=m.trim()),o&&(m=il(m)),t._assign(m)}),n&&ps(t,"change",()=>{t.value=t.value.trim()}),e||(ps(t,"compositionstart",ww),ps(t,"compositionend",Jg),ps(t,"change",Jg))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:i,number:s}},o){if(t._assign=Zg(o),t.composing||document.activeElement===t&&t.type!=="range"&&(n||i&&t.value.trim()===e||(s||t.type==="number")&&il(t.value)===e))return;const u=e==null?"":e;t.value!==u&&(t.value=u)}},Cw=["ctrl","shift","alt","meta"],Rw={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Cw.some(n=>t[`${n}Key`]&&!e.includes(n))},Qe=(t,e)=>(n,...i)=>{for(let s=0;s<e.length;s++){const o=Rw[e[s]];if(o&&o(n,e))return}return t(n,...i)},xw={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},aa=(t,e)=>n=>{if(!("key"in n))return;const i=zi(n.key);if(e.some(s=>s===i||xw[s]===i))return t(n)},Ze={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):oa(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),oa(t,!0),i.enter(t)):i.leave(t,()=>{oa(t,!1)}):oa(t,e))},beforeUnmount(t,{value:e}){oa(t,e)}};function oa(t,e){t.style.display=e?t._vod:"none"}const Iw=fn({patchProp:_w},aw);let Xg;function Lw(){return Xg||(Xg=Uk(Iw))}const yd=(...t)=>{const e=Lw().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=Dw(i);if(!s)return;const o=e._component;!ae(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.innerHTML="";const u=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),u},e};function Dw(t){return rn(t)?document.querySelector(t):t}var Ow=!1;/*!
  * pinia v2.0.23
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let Qp;const xl=t=>Qp=t,Zp=Symbol();function Pc(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Sa;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Sa||(Sa={}));function Pw(){const t=ip(!0),e=t.run(()=>Z({}));let n=[],i=[];const s=Ss({install(o){xl(s),s._a=o,o.provide(Zp,s),o.config.globalProperties.$pinia=s,i.forEach(u=>n.push(u)),i=[]},use(o){return!this._a&&!Ow?i.push(o):n.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const Jp=()=>{};function tv(t,e,n,i=Jp){t.push(e);const s=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),i())};return!n&&jn()&&jr(s),s}function us(t,...e){t.slice().forEach(n=>{n(...e)})}function Fc(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,i)=>t.set(i,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],s=t[n];Pc(s)&&Pc(i)&&t.hasOwnProperty(n)&&!Fe(i)&&!fi(i)?t[n]=Fc(s,i):t[n]=i}return t}const Fw=Symbol();function Mw(t){return!Pc(t)||!t.hasOwnProperty(Fw)}const{assign:ui}=Object;function Bw(t){return!!(Fe(t)&&t.effect)}function Nw(t,e,n,i){const{state:s,actions:o,getters:u}=e,m=n.state.value[t];let p;function l(){m||(n.state.value[t]=s?s():{});const y=qS(n.state.value[t]);return ui(y,o,Object.keys(u||{}).reduce((v,f)=>(v[f]=Ss(jt(()=>{xl(n);const b=n._s.get(t);return u[f].call(b,b)})),v),{}))}return p=Xp(t,l,e,n,i,!0),p.$reset=function(){const v=s?s():{};this.$patch(f=>{ui(f,v)})},p}function Xp(t,e,n={},i,s,o){let u;const m=ui({actions:{}},n),p={deep:!0};let l,y,v=Ss([]),f=Ss([]),b;const S=i.state.value[t];!o&&!S&&(i.state.value[t]={}),Z({});let d;function h(L){let x;l=y=!1,typeof L=="function"?(L(i.state.value[t]),x={type:Sa.patchFunction,storeId:t,events:b}):(Fc(i.state.value[t],L),x={type:Sa.patchObject,payload:L,storeId:t,events:b});const D=d=Symbol();Xt().then(()=>{d===D&&(l=!0)}),y=!0,us(v,x,i.state.value[t])}const c=Jp;function g(){u.stop(),v=[],f=[],i._s.delete(t)}function T(L,x){return function(){xl(i);const D=Array.from(arguments),k=[],R=[];function I(F){k.push(F)}function O(F){R.push(F)}us(f,{args:D,name:L,store:A,after:I,onError:O});let P;try{P=x.apply(this&&this.$id===t?this:A,D)}catch(F){throw us(R,F),F}return P instanceof Promise?P.then(F=>(us(k,F),F)).catch(F=>(us(R,F),Promise.reject(F))):(us(k,P),P)}}const E={_p:i,$id:t,$onAction:tv.bind(null,f),$patch:h,$reset:c,$subscribe(L,x={}){const D=tv(v,L,x.detached,()=>k()),k=u.run(()=>ce(()=>i.state.value[t],R=>{(x.flush==="sync"?y:l)&&L({storeId:t,type:Sa.direct,events:b},R)},ui({},p,x)));return D},$dispose:g},A=Je(E);i._s.set(t,A);const w=i._e.run(()=>(u=ip(),u.run(()=>e())));for(const L in w){const x=w[L];if(Fe(x)&&!Bw(x)||fi(x))o||(S&&Mw(x)&&(Fe(x)?x.value=S[L]:Fc(x,S[L])),i.state.value[t][L]=x);else if(typeof x=="function"){const D=T(L,x);w[L]=D,m.actions[L]=x}}return ui(A,w),ui(Ae(A),w),Object.defineProperty(A,"$state",{get:()=>i.state.value[t],set:L=>{h(x=>{ui(x,L)})}}),i._p.forEach(L=>{ui(A,u.run(()=>L({store:A,app:i._a,pinia:i,options:m})))}),S&&o&&n.hydrate&&n.hydrate(A.$state,S),l=!0,y=!0,A}function Uw(t,e,n){let i,s;const o=typeof e=="function";typeof t=="string"?(i=t,s=o?n:e):(s=t,i=t.id);function u(m,p){const l=jn();return m=m||l&&Tn(Zp),m&&xl(m),m=Qp,m._s.has(i)||(o?Xp(i,e,s,m):Nw(i,s,m)),m._s.get(i)}return u.$id=i,u}const $w="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAwCAYAAAC8NUKEAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAP8A/wD/oL2nkwAAAOZJREFUaN7t2SFOQ0EUheH/TgALqkuor+IFzw5QLKULqmIFrW8gFRgMLKEGXiXm1AwLaJjkzns5n5px/3WTuQBIWknaSho1LWPtXgFEPbwCN0zXLzCEpC3wmF3TwC4kfQN32SUN/BTgmF3RyLEAm+yKRjYh6boO9JRd8w8vwHP83SQ9APfAbXbZBUbgLSL22SFmZmZmDczqbTarV/MVsJ74INT+j5D0CSyzaxr4KsAiu6KRRQEO2RWNHGb1b1Yi4h0YgB1wyq660Kl2D3UOMzMzM+uJV+d98eq8Z16d98qr857Md3V+BqnB2jYdRBOrAAAAAElFTkSuQmCC";/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const ms=typeof window<"u";function Gw(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Ce=Object.assign;function ac(t,e){const n={};for(const i in e){const s=e[i];n[i]=gr(s)?s.map(t):t(s)}return n}const ka=()=>{},gr=Array.isArray,Hw=/\/$/,jw=t=>t.replace(Hw,"");function oc(t,e,n="/"){let i,s={},o="",u="";const m=e.indexOf("#");let p=e.indexOf("?");return m<p&&m>=0&&(p=-1),p>-1&&(i=e.slice(0,p),o=e.slice(p+1,m>-1?m:e.length),s=t(o)),m>-1&&(i=i||e.slice(0,m),u=e.slice(m,e.length)),i=zw(i!=null?i:e,n),{fullPath:i+(o&&"?")+o+u,path:i,query:s,hash:u}}function Kw(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function ev(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Vw(t,e,n){const i=e.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&ws(e.matched[i],n.matched[s])&&tm(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ws(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function tm(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Ww(t[n],e[n]))return!1;return!0}function Ww(t,e){return gr(t)?nv(t,e):gr(e)?nv(e,t):t===e}function nv(t,e){return gr(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function zw(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/");let s=n.length-1,o,u;for(o=0;o<i.length;o++)if(u=i[o],u!==".")if(u==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+i.slice(o-(o===i.length?1:0)).join("/")}var Pa;(function(t){t.pop="pop",t.push="push"})(Pa||(Pa={}));var wa;(function(t){t.back="back",t.forward="forward",t.unknown=""})(wa||(wa={}));function Yw(t){if(!t)if(ms){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),jw(t)}const qw=/^[^#]+#/;function Qw(t,e){return t.replace(qw,"#")+e}function Zw(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const Il=()=>({left:window.pageXOffset,top:window.pageYOffset});function Jw(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=Zw(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function rv(t,e){return(history.state?history.state.position-e:-1)+t}const Mc=new Map;function Xw(t,e){Mc.set(t,e)}function tC(t){const e=Mc.get(t);return Mc.delete(t),e}let eC=()=>location.protocol+"//"+location.host;function em(t,e){const{pathname:n,search:i,hash:s}=e,o=t.indexOf("#");if(o>-1){let m=s.includes(t.slice(o))?t.slice(o).length:1,p=s.slice(m);return p[0]!=="/"&&(p="/"+p),ev(p,"")}return ev(n,t)+i+s}function nC(t,e,n,i){let s=[],o=[],u=null;const m=({state:f})=>{const b=em(t,location),S=n.value,d=e.value;let h=0;if(f){if(n.value=b,e.value=f,u&&u===S){u=null;return}h=d?f.position-d.position:0}else i(b);s.forEach(c=>{c(n.value,S,{delta:h,type:Pa.pop,direction:h?h>0?wa.forward:wa.back:wa.unknown})})};function p(){u=n.value}function l(f){s.push(f);const b=()=>{const S=s.indexOf(f);S>-1&&s.splice(S,1)};return o.push(b),b}function y(){const{history:f}=window;!f.state||f.replaceState(Ce({},f.state,{scroll:Il()}),"")}function v(){for(const f of o)f();o=[],window.removeEventListener("popstate",m),window.removeEventListener("beforeunload",y)}return window.addEventListener("popstate",m),window.addEventListener("beforeunload",y),{pauseListeners:p,listen:l,destroy:v}}function iv(t,e,n,i=!1,s=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:s?Il():null}}function rC(t){const{history:e,location:n}=window,i={value:em(t,n)},s={value:e.state};s.value||o(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(p,l,y){const v=t.indexOf("#"),f=v>-1?(n.host&&document.querySelector("base")?t:t.slice(v))+p:eC()+t+p;try{e[y?"replaceState":"pushState"](l,"",f),s.value=l}catch(b){console.error(b),n[y?"replace":"assign"](f)}}function u(p,l){const y=Ce({},e.state,iv(s.value.back,p,s.value.forward,!0),l,{position:s.value.position});o(p,y,!0),i.value=p}function m(p,l){const y=Ce({},s.value,e.state,{forward:p,scroll:Il()});o(y.current,y,!0);const v=Ce({},iv(i.value,p,null),{position:y.position+1},l);o(p,v,!1),i.value=p}return{location:i,state:s,push:m,replace:u}}function iC(t){t=Yw(t);const e=rC(t),n=nC(t,e.state,e.location,e.replace);function i(o,u=!0){u||n.pauseListeners(),history.go(o)}const s=Ce({location:"",base:t,go:i,createHref:Qw.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function sC(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),iC(t)}function aC(t){return typeof t=="string"||t&&typeof t=="object"}function nm(t){return typeof t=="string"||typeof t=="symbol"}const oi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},rm=Symbol("");var sv;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(sv||(sv={}));function Cs(t,e){return Ce(new Error,{type:t,[rm]:!0},e)}function Br(t,e){return t instanceof Error&&rm in t&&(e==null||!!(t.type&e))}const av="[^/]+?",oC={sensitive:!1,strict:!1,start:!0,end:!0},lC=/[.+*?^${}()[\]/\\]/g;function uC(t,e){const n=Ce({},oC,e),i=[];let s=n.start?"^":"";const o=[];for(const l of t){const y=l.length?[]:[90];n.strict&&!l.length&&(s+="/");for(let v=0;v<l.length;v++){const f=l[v];let b=40+(n.sensitive?.25:0);if(f.type===0)v||(s+="/"),s+=f.value.replace(lC,"\\$&"),b+=40;else if(f.type===1){const{value:S,repeatable:d,optional:h,regexp:c}=f;o.push({name:S,repeatable:d,optional:h});const g=c||av;if(g!==av){b+=10;try{new RegExp(`(${g})`)}catch(E){throw new Error(`Invalid custom RegExp for param "${S}" (${g}): `+E.message)}}let T=d?`((?:${g})(?:/(?:${g}))*)`:`(${g})`;v||(T=h&&l.length<2?`(?:/${T})`:"/"+T),h&&(T+="?"),s+=T,b+=20,h&&(b+=-8),d&&(b+=-20),g===".*"&&(b+=-50)}y.push(b)}i.push(y)}if(n.strict&&n.end){const l=i.length-1;i[l][i[l].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const u=new RegExp(s,n.sensitive?"":"i");function m(l){const y=l.match(u),v={};if(!y)return null;for(let f=1;f<y.length;f++){const b=y[f]||"",S=o[f-1];v[S.name]=b&&S.repeatable?b.split("/"):b}return v}function p(l){let y="",v=!1;for(const f of t){(!v||!y.endsWith("/"))&&(y+="/"),v=!1;for(const b of f)if(b.type===0)y+=b.value;else if(b.type===1){const{value:S,repeatable:d,optional:h}=b,c=S in l?l[S]:"";if(gr(c)&&!d)throw new Error(`Provided param "${S}" is an array but it is not repeatable (* or + modifiers)`);const g=gr(c)?c.join("/"):c;if(!g)if(h)f.length<2&&(y.endsWith("/")?y=y.slice(0,-1):v=!0);else throw new Error(`Missing required param "${S}"`);y+=g}}return y||"/"}return{re:u,score:i,keys:o,parse:m,stringify:p}}function cC(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function dC(t,e){let n=0;const i=t.score,s=e.score;for(;n<i.length&&n<s.length;){const o=cC(i[n],s[n]);if(o)return o;n++}if(Math.abs(s.length-i.length)===1){if(ov(i))return 1;if(ov(s))return-1}return s.length-i.length}function ov(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const fC={type:0,value:""},hC=/[a-zA-Z0-9_]/;function gC(t){if(!t)return[[]];if(t==="/")return[[fC]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(b){throw new Error(`ERR (${n})/"${l}": ${b}`)}let n=0,i=n;const s=[];let o;function u(){o&&s.push(o),o=[]}let m=0,p,l="",y="";function v(){!l||(n===0?o.push({type:0,value:l}):n===1||n===2||n===3?(o.length>1&&(p==="*"||p==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:l,regexp:y,repeatable:p==="*"||p==="+",optional:p==="*"||p==="?"})):e("Invalid state to consume buffer"),l="")}function f(){l+=p}for(;m<t.length;){if(p=t[m++],p==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:p==="/"?(l&&v(),u()):p===":"?(v(),n=1):f();break;case 4:f(),n=i;break;case 1:p==="("?n=2:hC.test(p)?f():(v(),n=0,p!=="*"&&p!=="?"&&p!=="+"&&m--);break;case 2:p===")"?y[y.length-1]=="\\"?y=y.slice(0,-1)+p:n=3:y+=p;break;case 3:v(),n=0,p!=="*"&&p!=="?"&&p!=="+"&&m--,y="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${l}"`),v(),u(),s}function vC(t,e,n){const i=uC(gC(t.path),n),s=Ce(i,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function pC(t,e){const n=[],i=new Map;e=cv({strict:!1,end:!0,sensitive:!1},e);function s(y){return i.get(y)}function o(y,v,f){const b=!f,S=mC(y);S.aliasOf=f&&f.record;const d=cv(e,y),h=[S];if("alias"in y){const T=typeof y.alias=="string"?[y.alias]:y.alias;for(const E of T)h.push(Ce({},S,{components:f?f.record.components:S.components,path:E,aliasOf:f?f.record:S}))}let c,g;for(const T of h){const{path:E}=T;if(v&&E[0]!=="/"){const A=v.record.path,w=A[A.length-1]==="/"?"":"/";T.path=v.record.path+(E&&w+E)}if(c=vC(T,v,d),f?f.alias.push(c):(g=g||c,g!==c&&g.alias.push(c),b&&y.name&&!uv(c)&&u(y.name)),S.children){const A=S.children;for(let w=0;w<A.length;w++)o(A[w],c,f&&f.children[w])}f=f||c,p(c)}return g?()=>{u(g)}:ka}function u(y){if(nm(y)){const v=i.get(y);v&&(i.delete(y),n.splice(n.indexOf(v),1),v.children.forEach(u),v.alias.forEach(u))}else{const v=n.indexOf(y);v>-1&&(n.splice(v,1),y.record.name&&i.delete(y.record.name),y.children.forEach(u),y.alias.forEach(u))}}function m(){return n}function p(y){let v=0;for(;v<n.length&&dC(y,n[v])>=0&&(y.record.path!==n[v].record.path||!im(y,n[v]));)v++;n.splice(v,0,y),y.record.name&&!uv(y)&&i.set(y.record.name,y)}function l(y,v){let f,b={},S,d;if("name"in y&&y.name){if(f=i.get(y.name),!f)throw Cs(1,{location:y});d=f.record.name,b=Ce(lv(v.params,f.keys.filter(g=>!g.optional).map(g=>g.name)),y.params&&lv(y.params,f.keys.map(g=>g.name))),S=f.stringify(b)}else if("path"in y)S=y.path,f=n.find(g=>g.re.test(S)),f&&(b=f.parse(S),d=f.record.name);else{if(f=v.name?i.get(v.name):n.find(g=>g.re.test(v.path)),!f)throw Cs(1,{location:y,currentLocation:v});d=f.record.name,b=Ce({},v.params,y.params),S=f.stringify(b)}const h=[];let c=f;for(;c;)h.unshift(c.record),c=c.parent;return{name:d,path:S,params:b,matched:h,meta:_C(h)}}return t.forEach(y=>o(y)),{addRoute:o,resolve:l,removeRoute:u,getRoutes:m,getRecordMatcher:s}}function lv(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function mC(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:yC(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function yC(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="boolean"?n:n[i];return e}function uv(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function _C(t){return t.reduce((e,n)=>Ce(e,n.meta),{})}function cv(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function im(t,e){return e.children.some(n=>n===t||im(t,n))}const sm=/#/g,AC=/&/g,EC=/\//g,bC=/=/g,TC=/\?/g,am=/\+/g,SC=/%5B/g,kC=/%5D/g,om=/%5E/g,wC=/%60/g,lm=/%7B/g,CC=/%7C/g,um=/%7D/g,RC=/%20/g;function _d(t){return encodeURI(""+t).replace(CC,"|").replace(SC,"[").replace(kC,"]")}function xC(t){return _d(t).replace(lm,"{").replace(um,"}").replace(om,"^")}function Bc(t){return _d(t).replace(am,"%2B").replace(RC,"+").replace(sm,"%23").replace(AC,"%26").replace(wC,"`").replace(lm,"{").replace(um,"}").replace(om,"^")}function IC(t){return Bc(t).replace(bC,"%3D")}function LC(t){return _d(t).replace(sm,"%23").replace(TC,"%3F")}function DC(t){return t==null?"":LC(t).replace(EC,"%2F")}function dl(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function OC(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<i.length;++s){const o=i[s].replace(am," "),u=o.indexOf("="),m=dl(u<0?o:o.slice(0,u)),p=u<0?null:dl(o.slice(u+1));if(m in e){let l=e[m];gr(l)||(l=e[m]=[l]),l.push(p)}else e[m]=p}return e}function dv(t){let e="";for(let n in t){const i=t[n];if(n=IC(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(gr(i)?i.map(o=>o&&Bc(o)):[i&&Bc(i)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function PC(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=gr(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return e}const FC=Symbol(""),fv=Symbol(""),Ll=Symbol(""),Ad=Symbol(""),Nc=Symbol("");function la(){let t=[];function e(i){return t.push(i),()=>{const s=t.indexOf(i);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function ci(t,e,n,i,s){const o=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((u,m)=>{const p=v=>{v===!1?m(Cs(4,{from:n,to:e})):v instanceof Error?m(v):aC(v)?m(Cs(2,{from:e,to:v})):(o&&i.enterCallbacks[s]===o&&typeof v=="function"&&o.push(v),u())},l=t.call(i&&i.instances[s],e,n,p);let y=Promise.resolve(l);t.length<3&&(y=y.then(p)),y.catch(v=>m(v))})}function lc(t,e,n,i){const s=[];for(const o of t)for(const u in o.components){let m=o.components[u];if(!(e!=="beforeRouteEnter"&&!o.instances[u]))if(MC(m)){const l=(m.__vccOpts||m)[e];l&&s.push(ci(l,n,i,o,u))}else{let p=m();s.push(()=>p.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${u}" at "${o.path}"`));const y=Gw(l)?l.default:l;o.components[u]=y;const f=(y.__vccOpts||y)[e];return f&&ci(f,n,i,o,u)()}))}}return s}function MC(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function hv(t){const e=Tn(Ll),n=Tn(Ad),i=jt(()=>e.resolve(X(t.to))),s=jt(()=>{const{matched:p}=i.value,{length:l}=p,y=p[l-1],v=n.matched;if(!y||!v.length)return-1;const f=v.findIndex(ws.bind(null,y));if(f>-1)return f;const b=gv(p[l-2]);return l>1&&gv(y)===b&&v[v.length-1].path!==b?v.findIndex(ws.bind(null,p[l-2])):f}),o=jt(()=>s.value>-1&&UC(n.params,i.value.params)),u=jt(()=>s.value>-1&&s.value===n.matched.length-1&&tm(n.params,i.value.params));function m(p={}){return NC(p)?e[X(t.replace)?"replace":"push"](X(t.to)).catch(ka):Promise.resolve()}return{route:i,href:jt(()=>i.value.href),isActive:o,isExactActive:u,navigate:m}}const BC=Ee({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:hv,setup(t,{slots:e}){const n=Je(hv(t)),{options:i}=Tn(Ll),s=jt(()=>({[vv(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[vv(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:Rl("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},o)}}}),ma=BC;function NC(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function UC(t,e){for(const n in e){const i=e[n],s=t[n];if(typeof i=="string"){if(i!==s)return!1}else if(!gr(s)||s.length!==i.length||i.some((o,u)=>o!==s[u]))return!1}return!0}function gv(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const vv=(t,e,n)=>t!=null?t:e!=null?e:n,$C=Ee({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=Tn(Nc),s=jt(()=>t.route||i.value),o=Tn(fv,0),u=jt(()=>{let l=X(o);const{matched:y}=s.value;let v;for(;(v=y[l])&&!v.components;)l++;return l}),m=jt(()=>s.value.matched[u.value]);gi(fv,jt(()=>u.value+1)),gi(FC,m),gi(Nc,s);const p=Z();return ce(()=>[p.value,m.value,t.name],([l,y,v],[f,b,S])=>{y&&(y.instances[v]=l,b&&b!==y&&l&&l===f&&(y.leaveGuards.size||(y.leaveGuards=b.leaveGuards),y.updateGuards.size||(y.updateGuards=b.updateGuards))),l&&y&&(!b||!ws(y,b)||!f)&&(y.enterCallbacks[v]||[]).forEach(d=>d(l))},{flush:"post"}),()=>{const l=s.value,y=t.name,v=m.value,f=v&&v.components[y];if(!f)return pv(n.default,{Component:f,route:l});const b=v.props[y],S=b?b===!0?l.params:typeof b=="function"?b(l):b:null,h=Rl(f,Ce({},S,e,{onVnodeUnmounted:c=>{c.component.isUnmounted&&(v.instances[y]=null)},ref:p}));return pv(n.default,{Component:h,route:l})||h}}});function pv(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const cm=$C;function GC(t){const e=pC(t.routes,t),n=t.parseQuery||OC,i=t.stringifyQuery||dv,s=t.history,o=la(),u=la(),m=la(),p=WS(oi);let l=oi;ms&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const y=ac.bind(null,W=>""+W),v=ac.bind(null,DC),f=ac.bind(null,dl);function b(W,st){let it,j;return nm(W)?(it=e.getRecordMatcher(W),j=st):j=W,e.addRoute(j,it)}function S(W){const st=e.getRecordMatcher(W);st&&e.removeRoute(st)}function d(){return e.getRoutes().map(W=>W.record)}function h(W){return!!e.getRecordMatcher(W)}function c(W,st){if(st=Ce({},st||p.value),typeof W=="string"){const z=oc(n,W,st.path),tt=e.resolve({path:z.path},st),ut=s.createHref(z.fullPath);return Ce(z,tt,{params:f(tt.params),hash:dl(z.hash),redirectedFrom:void 0,href:ut})}let it;if("path"in W)it=Ce({},W,{path:oc(n,W.path,st.path).path});else{const z=Ce({},W.params);for(const tt in z)z[tt]==null&&delete z[tt];it=Ce({},W,{params:v(W.params)}),st.params=v(st.params)}const j=e.resolve(it,st),gt=W.hash||"";j.params=y(f(j.params));const bt=Kw(i,Ce({},W,{hash:xC(gt),path:j.path})),It=s.createHref(bt);return Ce({fullPath:bt,hash:gt,query:i===dv?PC(W.query):W.query||{}},j,{redirectedFrom:void 0,href:It})}function g(W){return typeof W=="string"?oc(n,W,p.value.path):Ce({},W)}function T(W,st){if(l!==W)return Cs(8,{from:st,to:W})}function E(W){return L(W)}function A(W){return E(Ce(g(W),{replace:!0}))}function w(W){const st=W.matched[W.matched.length-1];if(st&&st.redirect){const{redirect:it}=st;let j=typeof it=="function"?it(W):it;return typeof j=="string"&&(j=j.includes("?")||j.includes("#")?j=g(j):{path:j},j.params={}),Ce({query:W.query,hash:W.hash,params:"path"in j?{}:W.params},j)}}function L(W,st){const it=l=c(W),j=p.value,gt=W.state,bt=W.force,It=W.replace===!0,z=w(it);if(z)return L(Ce(g(z),{state:typeof z=="object"?Ce({},gt,z.state):gt,force:bt,replace:It}),st||it);const tt=it;tt.redirectedFrom=st;let ut;return!bt&&Vw(i,j,it)&&(ut=Cs(16,{to:tt,from:j}),q(j,j,!0,!1)),(ut?Promise.resolve(ut):D(tt,j)).catch(ft=>Br(ft)?Br(ft,2)?ft:V(ft):B(ft,tt,j)).then(ft=>{if(ft){if(Br(ft,2))return L(Ce({replace:It},g(ft.to),{state:typeof ft.to=="object"?Ce({},gt,ft.to.state):gt,force:bt}),st||tt)}else ft=R(tt,j,!0,It,gt);return k(tt,j,ft),ft})}function x(W,st){const it=T(W,st);return it?Promise.reject(it):Promise.resolve()}function D(W,st){let it;const[j,gt,bt]=HC(W,st);it=lc(j.reverse(),"beforeRouteLeave",W,st);for(const z of j)z.leaveGuards.forEach(tt=>{it.push(ci(tt,W,st))});const It=x.bind(null,W,st);return it.push(It),cs(it).then(()=>{it=[];for(const z of o.list())it.push(ci(z,W,st));return it.push(It),cs(it)}).then(()=>{it=lc(gt,"beforeRouteUpdate",W,st);for(const z of gt)z.updateGuards.forEach(tt=>{it.push(ci(tt,W,st))});return it.push(It),cs(it)}).then(()=>{it=[];for(const z of W.matched)if(z.beforeEnter&&!st.matched.includes(z))if(gr(z.beforeEnter))for(const tt of z.beforeEnter)it.push(ci(tt,W,st));else it.push(ci(z.beforeEnter,W,st));return it.push(It),cs(it)}).then(()=>(W.matched.forEach(z=>z.enterCallbacks={}),it=lc(bt,"beforeRouteEnter",W,st),it.push(It),cs(it))).then(()=>{it=[];for(const z of u.list())it.push(ci(z,W,st));return it.push(It),cs(it)}).catch(z=>Br(z,8)?z:Promise.reject(z))}function k(W,st,it){for(const j of m.list())j(W,st,it)}function R(W,st,it,j,gt){const bt=T(W,st);if(bt)return bt;const It=st===oi,z=ms?history.state:{};it&&(j||It?s.replace(W.fullPath,Ce({scroll:It&&z&&z.scroll},gt)):s.push(W.fullPath,gt)),p.value=W,q(W,st,it,It),V()}let I;function O(){I||(I=s.listen((W,st,it)=>{if(!J.listening)return;const j=c(W),gt=w(j);if(gt){L(Ce(gt,{replace:!0}),j).catch(ka);return}l=j;const bt=p.value;ms&&Xw(rv(bt.fullPath,it.delta),Il()),D(j,bt).catch(It=>Br(It,12)?It:Br(It,2)?(L(It.to,j).then(z=>{Br(z,20)&&!it.delta&&it.type===Pa.pop&&s.go(-1,!1)}).catch(ka),Promise.reject()):(it.delta&&s.go(-it.delta,!1),B(It,j,bt))).then(It=>{It=It||R(j,bt,!1),It&&(it.delta&&!Br(It,8)?s.go(-it.delta,!1):it.type===Pa.pop&&Br(It,20)&&s.go(-1,!1)),k(j,bt,It)}).catch(ka)}))}let P=la(),F=la(),U;function B(W,st,it){V(W);const j=F.list();return j.length?j.forEach(gt=>gt(W,st,it)):console.error(W),Promise.reject(W)}function H(){return U&&p.value!==oi?Promise.resolve():new Promise((W,st)=>{P.add([W,st])})}function V(W){return U||(U=!W,O(),P.list().forEach(([st,it])=>W?it(W):st()),P.reset()),W}function q(W,st,it,j){const{scrollBehavior:gt}=t;if(!ms||!gt)return Promise.resolve();const bt=!it&&tC(rv(W.fullPath,0))||(j||!it)&&history.state&&history.state.scroll||null;return Xt().then(()=>gt(W,st,bt)).then(It=>It&&Jw(It)).catch(It=>B(It,W,st))}const et=W=>s.go(W);let rt;const ot=new Set,J={currentRoute:p,listening:!0,addRoute:b,removeRoute:S,hasRoute:h,getRoutes:d,resolve:c,options:t,push:E,replace:A,go:et,back:()=>et(-1),forward:()=>et(1),beforeEach:o.add,beforeResolve:u.add,afterEach:m.add,onError:F.add,isReady:H,install(W){const st=this;W.component("RouterLink",ma),W.component("RouterView",cm),W.config.globalProperties.$router=st,Object.defineProperty(W.config.globalProperties,"$route",{enumerable:!0,get:()=>X(p)}),ms&&!rt&&p.value===oi&&(rt=!0,E(s.location).catch(gt=>{}));const it={};for(const gt in oi)it[gt]=jt(()=>p.value[gt]);W.provide(Ll,st),W.provide(Ad,Je(it)),W.provide(Nc,p);const j=W.unmount;ot.add(W),W.unmount=function(){ot.delete(W),ot.size<1&&(l=oi,I&&I(),I=null,p.value=oi,rt=!1,U=!1),j()}}};return J}function cs(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function HC(t,e){const n=[],i=[],s=[],o=Math.max(e.matched.length,t.matched.length);for(let u=0;u<o;u++){const m=e.matched[u];m&&(t.matched.find(l=>ws(l,m))?i.push(m):n.push(m));const p=t.matched[u];p&&(e.matched.find(l=>ws(l,p))||s.push(p))}return[n,i,s]}function Ua(){return Tn(Ll)}function kr(){return Tn(Ad)}const Kr=t=>(de("data-v-6feb3323"),t=t(),fe(),t),jC=Kr(()=>_("header",{class:"head"},[_("div",{class:"wrap"},[_("h1",null,"\u732B\u773C\u7535\u5F71"),_("img",{src:$w,alt:""})])],-1)),KC={class:"fot"},VC={class:"wrap"},WC=Kr(()=>_("div",{class:"icon"},[_("svg",{width:"25",height:"25",viewBox:"0 0 50 50"},[_("g",{fill:"#696969","fill-rule":"evenodd"},[_("path",{d:"M24.994 47c-.71 0-1.422-.034-2.136-.102C12.445 45.913 4.14 37.645 3.11 27.24c-.657-6.63 1.65-13.115 6.332-17.796 4.68-4.68 11.162-6.992 17.796-6.333 10.36 1.027 18.624 9.29 19.65 19.65.592 5.984-1.192 11.796-5.022 16.365-.162.193-.158.463.007.63l3.425 3.424c.586.584.586 1.534 0 2.12-.586.586-1.535.586-2.12 0l-3.426-3.425c-1.274-1.273-1.353-3.284-.185-4.677 3.307-3.946 4.847-8.97 4.335-14.142-.886-8.942-8.018-16.074-16.96-16.96-5.732-.562-11.336 1.426-15.38 5.47-4.042 4.042-6.034 9.647-5.467 15.378.89 8.98 8.058 16.117 17.045 16.968 3.867.37 7.68-.417 11.03-2.267.725-.4 1.637-.138 2.037.588.4.725.137 1.638-.588 2.038-3.26 1.8-6.896 2.73-10.626 2.73"}),_("path",{d:"M28 16c0 1.657-1.343 3-3 3s-3-1.343-3-3 1.343-3 3-3 3 1.343 3 3M28 34c0 1.657-1.343 3-3 3s-3-1.343-3-3 1.343-3 3-3 3 1.343 3 3M34 28c-1.657 0-3-1.343-3-3s1.343-3 3-3 3 1.343 3 3-1.343 3-3 3M16 28c-1.657 0-3-1.343-3-3s1.343-3 3-3 3 1.343 3 3-1.343 3-3 3"})])])],-1)),zC=Kr(()=>_("span",null,"\u7535\u5F71/\u5F71\u9662",-1)),YC=Kr(()=>_("div",{class:"icon"},[_("div",{class:"bg"})],-1)),qC=Kr(()=>_("span",null,"\u89C6\u9891",-1)),QC=Kr(()=>_("div",{class:"icon"},[_("div",{class:"bg1"})],-1)),ZC=Kr(()=>_("span",null,"\u5C0F\u89C6\u9891",-1)),JC=Kr(()=>_("div",{class:"icon"},[_("svg",{width:"25",height:"25",viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg"},[_("title",null,"\u6211\u76841"),_("g",{fill:"#696969","fill-rule":"evenodd"},[_("path",{d:"M19.916 35.913c-.014-.016-.02-.036-.033-.05-.314-.32-.737-.455-1.153-.432C13.586 33.066 10 27.9 10 21.908 10 13.687 16.728 7 25 7c8.27 0 15 6.687 15 14.907 0 8.22-6.73 14.906-15 14.906-1.787 0-3.493-.328-5.084-.9zm14.502 1.225C39.558 33.98 43 28.343 43 21.908 43 12.032 34.925 4 25 4S7 12.033 7 21.907c0 6.657 3.68 12.466 9.113 15.552l-6.086 5.97c-.59.58-.6 1.53-.02 2.12.294.3.682.45 1.07.45.38 0 .76-.143 1.052-.43l6.916-6.785c1.867.654 3.865 1.028 5.954 1.028 2.324 0 4.54-.455 6.58-1.256l7.15 7.014c.292.287.672.43 1.05.43.39 0 .78-.15 1.072-.45.58-.59.57-1.54-.02-2.12l-6.414-6.292z"}),_("path",{d:"M30.358 25.068c-.77-.31-1.642.064-1.95.832-.554 1.375-1.89 2.263-3.408 2.263-1.503 0-2.835-.877-3.395-2.234-.316-.766-1.19-1.13-1.96-.815-.765.316-1.13 1.193-.813 1.96 1.024 2.483 3.446 4.088 6.168 4.088 2.75 0 5.178-1.627 6.19-4.144.31-.77-.063-1.643-.832-1.952"})])])],-1)),XC=Kr(()=>_("span",null,"\u6211\u7684",-1)),tR=Ee({__name:"App",setup(t){return(e,n)=>(N(),$(ht,null,[jC,_("footer",KC,[_("div",VC,[at(X(ma),{to:"/"},{default:Jt(()=>[WC,zC]),_:1}),at(X(ma),{to:"/video"},{default:Jt(()=>[YC,qC]),_:1}),at(X(ma),{to:"/smallvideo"},{default:Jt(()=>[QC,ZC]),_:1}),at(X(ma),{to:"/me"},{default:Jt(()=>[JC,XC]),_:1})])]),at(X(cm))],64))}});const Te=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},eR=Te(tR,[["__scopeId","data-v-6feb3323"]]),nR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAABC1JREFUWAntWEtrU1EQPpO+ArYm1Y1I3VRXgu5EoSpVQaxCxUVxYTeCv8CtoFVxW0F/gBsLiguxoBaxWHyLS0EEdWWobrRprZC+cpzv3NyTOfeR3DS3duOF5M6ZMzPflzmvOVHq/9NcBqhRdz001D43UziktR5k35382ao1bUUcIj3NL3w+EtH4xu6eZ3Tv3iL6VvskJjh/vH/Lcql0UZM6o7TamAiQ1BxpNdaazV7pfDT1I5FPwKguQT0w0FFcLF5QSp9nYhsC/smapP5wfkfz7flr9PjxQjInz6omQZO1hdJ9rdW+RoLG2RKpt60d2VONZDOW4PyRA7uX9NJDBuuJACzwhHuQ0ZmHPNe+dm1qxbxTv38t83zU28tUPqG0Phnn25ah451P33yIiBtSRRJE5pZKpfchAKJp0vpSbvO2Wzz5V0LRhIIXU8vsz29nNdFlJmsWkegutGWze5JkMkQQc252cWYqYljH850twzT+6rcAqivqwb6u4vzKbTbEqrcPhjvX3t1fb05mrEdFwIIIkSN1I3/w2KlGySEkfOCrVOamxAKGt/ikNiw7GTRDu1D6Elit44bcyEg57J5co0dGMsXnE/fZo5pJXt1tHdkdtYbaySD2OYcczzkzrE2Sw88gjoFYvLjMgjI/jbctg2ka0V+WIE4IswkLOyyI1QyrCOGIiIWYUglMYEudlC1BHF+BE6KA1SqN05ArMQs2Fp9KBtsqXMESrJyt1V7e5+ptJVXj5JKJybGlRwhbdFqCrMPBbx9swraRshAR28GWcJKgs5nihJCGacoRsR1siWUJ+iWT3+kfX347zXcwdhBbYlmCUrkOso7DtAQrxaa1w8FvGykLwdiM/T0OwhJkg+oGyg1UJXFOzeojYjvYMr4k+FF2mJJJKlKUI2I72BLKEsQdQnagnkPJ5OhSaJiYXq1oo4WwbQ+XGL6MC47iO4Tf5ncP6jnRTkWsxKwWwYxpsGOiW4K4feGCI+1QbKKek7pmZMQyBawIAkxgC5UjWoLQ4vbFWeQLTuXhShjFJkolX7Xatym3ULjK6pqxDGaNoA6wV5fRaMB+sPhi4nozJL1a8IlbCxoQGq1VC8LEKVih+Icl/2cu+Xc1XPLDAVdD5loticCcK+Hin/Kn4uF955KsbtjAFj7wNRGcL+qdW5wFTs0nlEHfeg2vnT4EF9e0QoqGc5Ov71hlQIglCLs1uLh/5lnVyyeJ3V9Bkne7M/nJV3cD3EzTWSRBA0xgXA35p151VnfQsF4bOwPHwJwDGY+U5+SRLY8Vj/SdjgpTM4PSwWQzpT+PPDLlsSSZTEzQJ8uTP5W/35KSbJigTzSNdxxJamnpyz15+Q4YNedgGiRqxfAWRnhO6pWy3ZbWlSDIR5EkpV/4P2xdh9gngffs0f17kTmQy02+mZB9/+VmMvAXE7/38O8tTYkAAAAASUVORK5CYII=",ze=Uw("counter",()=>{let t=222,e=Z(JSON.parse(localStorage.getItem("feeds"))||[]),n=Z(JSON.parse(window.localStorage.getItem("videolist"))||[]);function i({id:w}){console.log(w),console.log(e.value),e!=null&&e.value.includes(w)?e.value=e.value.filter(L=>L!==w):e.value=[...e.value,w],localStorage.setItem("feeds",JSON.stringify(e.value))}function s({videolist:w}){w.value=w,localStorage.setItem("videolist",JSON.stringify(w.value))}let o=Z(null),u=Z(JSON.parse(localStorage.getItem("tickets"))||[]);function m(w){o.value=w,u.value=w,localStorage.setItem("tickets",JSON.stringify(u.value))}let p=Z(null),l=Z(JSON.parse(localStorage.getItem("citys"))||[]);function y(w){p.value=w,l.value=[...l.value,w];function L(x){let D=x.length;for(let k=0;k<D;k++)for(let R=k+1;R<D;R++)x[k]===x[R]&&(x.splice(R,1),D--,R--);return x}localStorage.setItem("citys",JSON.stringify(L(l.value)))}let v=Z(JSON.parse(localStorage.getItem("movies"))||[]);function f(w){console.log(w==null?void 0:w.id),v.value=[...v.value,w],localStorage.setItem("movies",JSON.stringify(v.value))}function b(w){v.value=v.value.map(L=>L).filter(L=>L.id!=w.id),localStorage.setItem("movies",JSON.stringify(v.value))}let S=Z(JSON.parse(localStorage.getItem("counts"))||[]);function d(w){S.value=[...S.value,w],localStorage.setItem("counts",JSON.stringify(S.value))}function h(w){S.value=S.value.map(L=>L).filter(L=>L.id!=w.id),localStorage.setItem("counts",JSON.stringify(S.value))}const c=()=>{console.log("usePinia")};let g=Z(null),T=Z(JSON.parse(localStorage.getItem("orderform"))||[]);function E(w){g.value=w,T.value=[...T.value,w],localStorage.setItem("orderform",JSON.stringify(T.value))}function A(w){console.log(w),console.log(T.value),T.value=T.value.filter(L=>L!==w),console.log(T.value.filter(L=>L!==w)),localStorage.setItem("orderform",JSON.stringify(T.value))}return{orderform:T,gettickets:o,tickets:u,getTick:m,getColes:E,getColesrem:A,getMovie:f,removeMovie:b,Movies:v,citys:l,getCity:p,counts:S,getCitys:y,getCount:d,removeCount:h,feeds:e,videolist:n,givelike:i,xxx:c,hrj:t,playvideo:s,coleslis:g}});function dm(t,e){return function(){return t.apply(e,arguments)}}const{toString:fm}=Object.prototype,{getPrototypeOf:Ed}=Object,bd=(t=>e=>{const n=fm.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Vr=t=>(t=t.toLowerCase(),e=>bd(e)===t),Dl=t=>e=>typeof e===t,{isArray:$a}=Array,Uc=Dl("undefined");function rR(t){return t!==null&&!Uc(t)&&t.constructor!==null&&!Uc(t.constructor)&&Ps(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const hm=Vr("ArrayBuffer");function iR(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&hm(t.buffer),e}const sR=Dl("string"),Ps=Dl("function"),gm=Dl("number"),vm=t=>t!==null&&typeof t=="object",aR=t=>t===!0||t===!1,el=t=>{if(bd(t)!=="object")return!1;const e=Ed(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},oR=Vr("Date"),lR=Vr("File"),uR=Vr("Blob"),cR=Vr("FileList"),dR=t=>vm(t)&&Ps(t.pipe),fR=t=>{const e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||fm.call(t)===e||Ps(t.toString)&&t.toString()===e)},hR=Vr("URLSearchParams"),gR=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ol(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,s;if(typeof t!="object"&&(t=[t]),$a(t))for(i=0,s=t.length;i<s;i++)e.call(null,t[i],i,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),u=o.length;let m;for(i=0;i<u;i++)m=o[i],e.call(null,t[m],m,t)}}function $c(){const t={},e=(n,i)=>{el(t[i])&&el(n)?t[i]=$c(t[i],n):el(n)?t[i]=$c({},n):$a(n)?t[i]=n.slice():t[i]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Ol(arguments[n],e);return t}const vR=(t,e,n,{allOwnKeys:i}={})=>(Ol(e,(s,o)=>{n&&Ps(s)?t[o]=dm(s,n):t[o]=s},{allOwnKeys:i}),t),pR=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),mR=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},yR=(t,e,n,i)=>{let s,o,u;const m={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),o=s.length;o-- >0;)u=s[o],(!i||i(u,t,e))&&!m[u]&&(e[u]=t[u],m[u]=!0);t=n!==!1&&Ed(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},_R=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},AR=t=>{if(!t)return null;if($a(t))return t;let e=t.length;if(!gm(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},ER=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ed(Uint8Array)),bR=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=i.next())&&!s.done;){const o=s.value;e.call(t,o[0],o[1])}},TR=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},SR=Vr("HTMLFormElement"),kR=t=>t.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(n,i,s){return i.toUpperCase()+s}),mv=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),wR=Vr("RegExp"),pm=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};Ol(n,(s,o)=>{e(s,o,t)!==!1&&(i[o]=s)}),Object.defineProperties(t,i)},CR=t=>{pm(t,(e,n)=>{const i=t[n];if(!!Ps(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not read-only method '"+n+"'")})}})},RR=(t,e)=>{const n={},i=s=>{s.forEach(o=>{n[o]=!0})};return $a(t)?i(t):i(String(t).split(e)),n},xR=()=>{},IR=(t,e)=>(t=+t,Number.isFinite(t)?t:e),xt={isArray:$a,isArrayBuffer:hm,isBuffer:rR,isFormData:fR,isArrayBufferView:iR,isString:sR,isNumber:gm,isBoolean:aR,isObject:vm,isPlainObject:el,isUndefined:Uc,isDate:oR,isFile:lR,isBlob:uR,isRegExp:wR,isFunction:Ps,isStream:dR,isURLSearchParams:hR,isTypedArray:ER,isFileList:cR,forEach:Ol,merge:$c,extend:vR,trim:gR,stripBOM:pR,inherits:mR,toFlatObject:yR,kindOf:bd,kindOfTest:Vr,endsWith:_R,toArray:AR,forEachEntry:bR,matchAll:TR,isHTMLForm:SR,hasOwnProperty:mv,hasOwnProp:mv,reduceDescriptors:pm,freezeMethods:CR,toObjectSet:RR,toCamelCase:kR,noop:xR,toFiniteNumber:IR};function _e(t,e,n,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),s&&(this.response=s)}xt.inherits(_e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const mm=_e.prototype,ym={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{ym[t]={value:t}});Object.defineProperties(_e,ym);Object.defineProperty(mm,"isAxiosError",{value:!0});_e.from=(t,e,n,i,s,o)=>{const u=Object.create(mm);return xt.toFlatObject(t,u,function(p){return p!==Error.prototype},m=>m!=="isAxiosError"),_e.call(u,t.message,e,n,i,s),u.cause=t,u.name=t.name,o&&Object.assign(u,o),u};var ys=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function LR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var DR=typeof self=="object"?self.FormData:window.FormData;function Gc(t){return xt.isPlainObject(t)||xt.isArray(t)}function _m(t){return xt.endsWith(t,"[]")?t.slice(0,-2):t}function yv(t,e,n){return t?t.concat(e).map(function(s,o){return s=_m(s),!n&&o?"["+s+"]":s}).join(n?".":""):e}function OR(t){return xt.isArray(t)&&!t.some(Gc)}const PR=xt.toFlatObject(xt,{},null,function(e){return/^is[A-Z]/.test(e)});function FR(t){return t&&xt.isFunction(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator]}function Pl(t,e,n){if(!xt.isObject(t))throw new TypeError("target must be an object");e=e||new(DR||FormData),n=xt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(d,h){return!xt.isUndefined(h[d])});const i=n.metaTokens,s=n.visitor||y,o=n.dots,u=n.indexes,p=(n.Blob||typeof Blob<"u"&&Blob)&&FR(e);if(!xt.isFunction(s))throw new TypeError("visitor must be a function");function l(S){if(S===null)return"";if(xt.isDate(S))return S.toISOString();if(!p&&xt.isBlob(S))throw new _e("Blob is not supported. Use a Buffer instead.");return xt.isArrayBuffer(S)||xt.isTypedArray(S)?p&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function y(S,d,h){let c=S;if(S&&!h&&typeof S=="object"){if(xt.endsWith(d,"{}"))d=i?d:d.slice(0,-2),S=JSON.stringify(S);else if(xt.isArray(S)&&OR(S)||xt.isFileList(S)||xt.endsWith(d,"[]")&&(c=xt.toArray(S)))return d=_m(d),c.forEach(function(T,E){!xt.isUndefined(T)&&e.append(u===!0?yv([d],E,o):u===null?d:d+"[]",l(T))}),!1}return Gc(S)?!0:(e.append(yv(h,d,o),l(S)),!1)}const v=[],f=Object.assign(PR,{defaultVisitor:y,convertValue:l,isVisitable:Gc});function b(S,d){if(!xt.isUndefined(S)){if(v.indexOf(S)!==-1)throw Error("Circular reference detected in "+d.join("."));v.push(S),xt.forEach(S,function(c,g){(!xt.isUndefined(c)&&s.call(e,c,xt.isString(g)?g.trim():g,d,f))===!0&&b(c,d?d.concat(g):[g])}),v.pop()}}if(!xt.isObject(t))throw new TypeError("data must be an object");return b(t),e}function _v(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Td(t,e){this._pairs=[],t&&Pl(t,this,e)}const Am=Td.prototype;Am.append=function(e,n){this._pairs.push([e,n])};Am.toString=function(e){const n=e?function(i){return e.call(this,i,_v)}:_v;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function MR(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Em(t,e,n){if(!e)return t;const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i));const s=n&&n.encode||MR,o=xt.isURLSearchParams(e)?e.toString():new Td(e,n).toString(s);return o&&(t+=(t.indexOf("?")===-1?"?":"&")+o),t}class Av{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){xt.forEach(this.handlers,function(i){i!==null&&e(i)})}}const bm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},BR=typeof URLSearchParams<"u"?URLSearchParams:Td,NR=FormData,UR=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Ur={isBrowser:!0,classes:{URLSearchParams:BR,FormData:NR,Blob},isStandardBrowserEnv:UR,protocols:["http","https","file","blob","url","data"]};function $R(t,e){return Pl(t,new Ur.classes.URLSearchParams,Object.assign({visitor:function(n,i,s,o){return Ur.isNode&&xt.isBuffer(n)?(this.append(i,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function GR(t){return xt.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function HR(t){const e={},n=Object.keys(t);let i;const s=n.length;let o;for(i=0;i<s;i++)o=n[i],e[o]=t[o];return e}function Tm(t){function e(n,i,s,o){let u=n[o++];const m=Number.isFinite(+u),p=o>=n.length;return u=!u&&xt.isArray(s)?s.length:u,p?(xt.hasOwnProp(s,u)?s[u]=[s[u],i]:s[u]=i,!m):((!s[u]||!xt.isObject(s[u]))&&(s[u]=[]),e(n,i,s[u],o)&&xt.isArray(s[u])&&(s[u]=HR(s[u])),!m)}if(xt.isFormData(t)&&xt.isFunction(t.entries)){const n={};return xt.forEachEntry(t,(i,s)=>{e(GR(i),s,n,0)}),n}return null}function jR(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new _e("Request failed with status code "+n.status,[_e.ERR_BAD_REQUEST,_e.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const KR=Ur.isStandardBrowserEnv?function(){return{write:function(n,i,s,o,u,m){const p=[];p.push(n+"="+encodeURIComponent(i)),xt.isNumber(s)&&p.push("expires="+new Date(s).toGMTString()),xt.isString(o)&&p.push("path="+o),xt.isString(u)&&p.push("domain="+u),m===!0&&p.push("secure"),document.cookie=p.join("; ")},read:function(n){const i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function VR(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function WR(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function Sm(t,e){return t&&!VR(e)?WR(t,e):e}const zR=Ur.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let i;function s(o){let u=o;return e&&(n.setAttribute("href",u),u=n.href),n.setAttribute("href",u),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=s(window.location.href),function(u){const m=xt.isString(u)?s(u):u;return m.protocol===i.protocol&&m.host===i.host}}():function(){return function(){return!0}}();function Ga(t,e,n){_e.call(this,t==null?"canceled":t,_e.ERR_CANCELED,e,n),this.name="CanceledError"}xt.inherits(Ga,_e,{__CANCEL__:!0});function YR(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}const qR=xt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),QR=t=>{const e={};let n,i,s;return t&&t.split(`
`).forEach(function(u){s=u.indexOf(":"),n=u.substring(0,s).trim().toLowerCase(),i=u.substring(s+1).trim(),!(!n||e[n]&&qR[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},Ev=Symbol("internals"),km=Symbol("defaults");function ya(t){return t&&String(t).trim().toLowerCase()}function Wo(t){return t===!1||t==null?t:String(t)}function ZR(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}function bv(t,e,n,i){if(xt.isFunction(i))return i.call(this,e,n);if(!!xt.isString(e)){if(xt.isString(i))return e.indexOf(i)!==-1;if(xt.isRegExp(i))return i.test(e)}}function JR(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function XR(t,e){const n=xt.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(s,o,u){return this[i].call(this,e,s,o,u)},configurable:!0})})}function ua(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,s;for(;i-- >0;)if(s=n[i],e===s.toLowerCase())return s;return null}function er(t,e){t&&this.set(t),this[km]=e||null}Object.assign(er.prototype,{set:function(t,e,n){const i=this;function s(o,u,m){const p=ya(u);if(!p)throw new Error("header name must be a non-empty string");const l=ua(i,p);l&&m!==!0&&(i[l]===!1||m===!1)||(xt.isArray(o)?o=o.map(Wo):o=Wo(o),i[l||u]=o)}return xt.isPlainObject(t)?xt.forEach(t,(o,u)=>{s(o,u,e)}):s(e,t,n),this},get:function(t,e){if(t=ya(t),!t)return;const n=ua(this,t);if(n){const i=this[n];if(!e)return i;if(e===!0)return ZR(i);if(xt.isFunction(e))return e.call(this,i,n);if(xt.isRegExp(e))return e.exec(i);throw new TypeError("parser must be boolean|regexp|function")}},has:function(t,e){if(t=ya(t),t){const n=ua(this,t);return!!(n&&(!e||bv(this,this[n],n,e)))}return!1},delete:function(t,e){const n=this;let i=!1;function s(o){if(o=ya(o),o){const u=ua(n,o);u&&(!e||bv(n,n[u],u,e))&&(delete n[u],i=!0)}}return xt.isArray(t)?t.forEach(s):s(t),i},clear:function(){return Object.keys(this).forEach(this.delete.bind(this))},normalize:function(t){const e=this,n={};return xt.forEach(this,(i,s)=>{const o=ua(n,s);if(o){e[o]=Wo(i),delete e[s];return}const u=t?JR(s):String(s).trim();u!==s&&delete e[s],e[u]=Wo(i),n[u]=!0}),this},toJSON:function(){const t=Object.create(null);return xt.forEach(Object.assign({},this[km]||null,this),(e,n)=>{e==null||e===!1||(t[n]=xt.isArray(e)?e.join(", "):e)}),t}});Object.assign(er,{from:function(t){return xt.isString(t)?new this(QR(t)):t instanceof this?t:new this(t)},accessor:function(t){const n=(this[Ev]=this[Ev]={accessors:{}}).accessors,i=this.prototype;function s(o){const u=ya(o);n[u]||(XR(i,o),n[u]=!0)}return xt.isArray(t)?t.forEach(s):s(t),this}});er.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);xt.freezeMethods(er.prototype);xt.freezeMethods(er);function tx(t,e){t=t||10;const n=new Array(t),i=new Array(t);let s=0,o=0,u;return e=e!==void 0?e:1e3,function(p){const l=Date.now(),y=i[o];u||(u=l),n[s]=p,i[s]=l;let v=o,f=0;for(;v!==s;)f+=n[v++],v=v%t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),l-u<e)return;const b=y&&l-y;return b?Math.round(f*1e3/b):void 0}}function Tv(t,e){let n=0;const i=tx(50,250);return s=>{const o=s.loaded,u=s.lengthComputable?s.total:void 0,m=o-n,p=i(m),l=o<=u;n=o;const y={loaded:o,total:u,progress:u?o/u:void 0,bytes:m,rate:p||void 0,estimated:p&&u&&l?(u-o)/p:void 0};y[e?"download":"upload"]=!0,t(y)}}function Sv(t){return new Promise(function(n,i){let s=t.data;const o=er.from(t.headers).normalize(),u=t.responseType;let m;function p(){t.cancelToken&&t.cancelToken.unsubscribe(m),t.signal&&t.signal.removeEventListener("abort",m)}xt.isFormData(s)&&Ur.isStandardBrowserEnv&&o.setContentType(!1);let l=new XMLHttpRequest;if(t.auth){const b=t.auth.username||"",S=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(b+":"+S))}const y=Sm(t.baseURL,t.url);l.open(t.method.toUpperCase(),Em(y,t.params,t.paramsSerializer),!0),l.timeout=t.timeout;function v(){if(!l)return;const b=er.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),d={data:!u||u==="text"||u==="json"?l.responseText:l.response,status:l.status,statusText:l.statusText,headers:b,config:t,request:l};jR(function(c){n(c),p()},function(c){i(c),p()},d),l=null}if("onloadend"in l?l.onloadend=v:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(v)},l.onabort=function(){!l||(i(new _e("Request aborted",_e.ECONNABORTED,t,l)),l=null)},l.onerror=function(){i(new _e("Network Error",_e.ERR_NETWORK,t,l)),l=null},l.ontimeout=function(){let S=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const d=t.transitional||bm;t.timeoutErrorMessage&&(S=t.timeoutErrorMessage),i(new _e(S,d.clarifyTimeoutError?_e.ETIMEDOUT:_e.ECONNABORTED,t,l)),l=null},Ur.isStandardBrowserEnv){const b=(t.withCredentials||zR(y))&&t.xsrfCookieName&&KR.read(t.xsrfCookieName);b&&o.set(t.xsrfHeaderName,b)}s===void 0&&o.setContentType(null),"setRequestHeader"in l&&xt.forEach(o.toJSON(),function(S,d){l.setRequestHeader(d,S)}),xt.isUndefined(t.withCredentials)||(l.withCredentials=!!t.withCredentials),u&&u!=="json"&&(l.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&l.addEventListener("progress",Tv(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",Tv(t.onUploadProgress)),(t.cancelToken||t.signal)&&(m=b=>{!l||(i(!b||b.type?new Ga(null,t,l):b),l.abort(),l=null)},t.cancelToken&&t.cancelToken.subscribe(m),t.signal&&(t.signal.aborted?m():t.signal.addEventListener("abort",m)));const f=YR(y);if(f&&Ur.protocols.indexOf(f)===-1){i(new _e("Unsupported protocol "+f+":",_e.ERR_BAD_REQUEST,t));return}l.send(s||null)})}const kv={http:Sv,xhr:Sv},wv={getAdapter:t=>{if(xt.isString(t)){const e=kv[t];if(!t)throw Error(xt.hasOwnProp(t)?`Adapter '${t}' is not available in the build`:`Can not resolve adapter '${t}'`);return e}if(!xt.isFunction(t))throw new TypeError("adapter is not a function");return t},adapters:kv},ex={"Content-Type":"application/x-www-form-urlencoded"};function nx(){let t;return typeof XMLHttpRequest<"u"?t=wv.getAdapter("xhr"):typeof process<"u"&&xt.kindOf(process)==="process"&&(t=wv.getAdapter("http")),t}function rx(t,e,n){if(xt.isString(t))try{return(e||JSON.parse)(t),xt.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const Fs={transitional:bm,adapter:nx(),transformRequest:[function(e,n){const i=n.getContentType()||"",s=i.indexOf("application/json")>-1,o=xt.isObject(e);if(o&&xt.isHTMLForm(e)&&(e=new FormData(e)),xt.isFormData(e))return s&&s?JSON.stringify(Tm(e)):e;if(xt.isArrayBuffer(e)||xt.isBuffer(e)||xt.isStream(e)||xt.isFile(e)||xt.isBlob(e))return e;if(xt.isArrayBufferView(e))return e.buffer;if(xt.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let m;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return $R(e,this.formSerializer).toString();if((m=xt.isFileList(e))||i.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Pl(m?{"files[]":e}:e,p&&new p,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),rx(e)):e}],transformResponse:[function(e){const n=this.transitional||Fs.transitional,i=n&&n.forcedJSONParsing,s=this.responseType==="json";if(e&&xt.isString(e)&&(i&&!this.responseType||s)){const u=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(m){if(u)throw m.name==="SyntaxError"?_e.from(m,_e.ERR_BAD_RESPONSE,this,null,this.response):m}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ur.classes.FormData,Blob:Ur.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};xt.forEach(["delete","get","head"],function(e){Fs.headers[e]={}});xt.forEach(["post","put","patch"],function(e){Fs.headers[e]=xt.merge(ex)});function uc(t,e){const n=this||Fs,i=e||n,s=er.from(i.headers);let o=i.data;return xt.forEach(t,function(m){o=m.call(n,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function wm(t){return!!(t&&t.__CANCEL__)}function cc(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ga}function Cv(t){return cc(t),t.headers=er.from(t.headers),t.data=uc.call(t,t.transformRequest),(t.adapter||Fs.adapter)(t).then(function(i){return cc(t),i.data=uc.call(t,t.transformResponse,i),i.headers=er.from(i.headers),i},function(i){return wm(i)||(cc(t),i&&i.response&&(i.response.data=uc.call(t,t.transformResponse,i.response),i.response.headers=er.from(i.response.headers))),Promise.reject(i)})}function Fa(t,e){e=e||{};const n={};function i(l,y){return xt.isPlainObject(l)&&xt.isPlainObject(y)?xt.merge(l,y):xt.isPlainObject(y)?xt.merge({},y):xt.isArray(y)?y.slice():y}function s(l){if(xt.isUndefined(e[l])){if(!xt.isUndefined(t[l]))return i(void 0,t[l])}else return i(t[l],e[l])}function o(l){if(!xt.isUndefined(e[l]))return i(void 0,e[l])}function u(l){if(xt.isUndefined(e[l])){if(!xt.isUndefined(t[l]))return i(void 0,t[l])}else return i(void 0,e[l])}function m(l){if(l in e)return i(t[l],e[l]);if(l in t)return i(void 0,t[l])}const p={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:m};return xt.forEach(Object.keys(t).concat(Object.keys(e)),function(y){const v=p[y]||s,f=v(y);xt.isUndefined(f)&&v!==m||(n[y]=f)}),n}const Cm="1.1.2",Sd={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Sd[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const Rv={};Sd.transitional=function(e,n,i){function s(o,u){return"[Axios v"+Cm+"] Transitional option '"+o+"'"+u+(i?". "+i:"")}return(o,u,m)=>{if(e===!1)throw new _e(s(u," has been removed"+(n?" in "+n:"")),_e.ERR_DEPRECATED);return n&&!Rv[u]&&(Rv[u]=!0,console.warn(s(u," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,u,m):!0}};function ix(t,e,n){if(typeof t!="object")throw new _e("options must be an object",_e.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let s=i.length;for(;s-- >0;){const o=i[s],u=e[o];if(u){const m=t[o],p=m===void 0||u(m,o,t);if(p!==!0)throw new _e("option "+o+" must be "+p,_e.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new _e("Unknown option "+o,_e.ERR_BAD_OPTION)}}const Rm={assertOptions:ix,validators:Sd},ds=Rm.validators;class Ki{constructor(e){this.defaults=e,this.interceptors={request:new Av,response:new Av}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Fa(this.defaults,n);const i=n.transitional;i!==void 0&&Rm.assertOptions(i,{silentJSONParsing:ds.transitional(ds.boolean),forcedJSONParsing:ds.transitional(ds.boolean),clarifyTimeoutError:ds.transitional(ds.boolean)},!1),n.method=(n.method||this.defaults.method||"get").toLowerCase();const s=n.headers&&xt.merge(n.headers.common,n.headers[n.method]);s&&xt.forEach(["delete","get","head","post","put","patch","common"],function(b){delete n.headers[b]}),n.headers=new er(n.headers,s);const o=[];let u=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(u=u&&b.synchronous,o.unshift(b.fulfilled,b.rejected))});const m=[];this.interceptors.response.forEach(function(b){m.push(b.fulfilled,b.rejected)});let p,l=0,y;if(!u){const f=[Cv.bind(this),void 0];for(f.unshift.apply(f,o),f.push.apply(f,m),y=f.length,p=Promise.resolve(n);l<y;)p=p.then(f[l++],f[l++]);return p}y=o.length;let v=n;for(l=0;l<y;){const f=o[l++],b=o[l++];try{v=f(v)}catch(S){b.call(this,S);break}}try{p=Cv.call(this,v)}catch(f){return Promise.reject(f)}for(l=0,y=m.length;l<y;)p=p.then(m[l++],m[l++]);return p}getUri(e){e=Fa(this.defaults,e);const n=Sm(e.baseURL,e.url);return Em(n,e.params,e.paramsSerializer)}}xt.forEach(["delete","get","head","options"],function(e){Ki.prototype[e]=function(n,i){return this.request(Fa(i||{},{method:e,url:n,data:(i||{}).data}))}});xt.forEach(["post","put","patch"],function(e){function n(i){return function(o,u,m){return this.request(Fa(m||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}Ki.prototype[e]=n(),Ki.prototype[e+"Form"]=n(!0)});class kd{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const i=this;this.promise.then(s=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](s);i._listeners=null}),this.promise.then=s=>{let o;const u=new Promise(m=>{i.subscribe(m),o=m}).then(s);return u.cancel=function(){i.unsubscribe(o)},u},e(function(o,u,m){i.reason||(i.reason=new Ga(o,u,m),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new kd(function(s){e=s}),cancel:e}}}function sx(t){return function(n){return t.apply(null,n)}}function ax(t){return xt.isObject(t)&&t.isAxiosError===!0}function xm(t){const e=new Ki(t),n=dm(Ki.prototype.request,e);return xt.extend(n,Ki.prototype,e,{allOwnKeys:!0}),xt.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return xm(Fa(t,s))},n}const Sn=xm(Fs);Sn.Axios=Ki;Sn.CanceledError=Ga;Sn.CancelToken=kd;Sn.isCancel=wm;Sn.VERSION=Cm;Sn.toFormData=Pl;Sn.AxiosError=_e;Sn.Cancel=Sn.CanceledError;Sn.all=function(e){return Promise.all(e)};Sn.spread=sx;Sn.isAxiosError=ax;Sn.formToJSON=t=>Tm(xt.isHTMLForm(t)?new FormData(t):t);let ox={baseURL:"https://apis.netstart.cn/maoyan/"};const Se=Sn.create(ox);Se.interceptors.request.use(function(t){return t.headers={token:localStorage.getItem("token")},t},function(t){return Promise.reject(t)});Se.interceptors.response.use(function(t){return t},function(t){return Promise.reject(t)});const lx=()=>Se.get("index/topRatedMovies"),ux=()=>Se.get("index/movieOnInfoList"),cx=({movieIds:t}={})=>Se.get(`index/moreComingList?movieIds=${t}`),Im=({movieId:t}={})=>Se.get(`movie/detail?movieId=${t}`),dx=({id:t}={})=>Se.get(`movie/intro?movieId=${t}`),fx=()=>Se.get("cities.json"),wd=({lat:t,lng:e}={})=>Se.get(`city/latlng?lat=${t}&lng=${e}`),hx=({limit:t=20,offset:e=0,showDate:n,movieId:i,cityId:s,lat:o,lng:u,districtId:m=-1,areaId:p=-1,lineId:l=-1,stationId:y=-1,brandIds:v=[-1],serviceIds:f=[-1]}={})=>Se.get(`movie/select/cinemas?limit=${t}&offset=${e}&showDate=${n}&movieId=${i}&cityId=${s}&lat=${o}&lng=${u}&districtId=${m}&areaId=${p}&lineId=${l}&stationId=${y}&brandIds=${v}&serviceIds=${f}`),gx=({movieid:t,cityId:e,showDate:n})=>Se.get(`movie/select/items?movieid=${t}&cityId=${e}&showDate=${n}`),vx=({id:t})=>Se.get(`index/filterCinemas?ci=${t}`),px=({offset:t=0}={})=>Se.get(`video/short/${t}`),xv=({feedChannelId:t=4,limit:e=0}={})=>Se.get(`video/${t}?${e}`),mx=({feedChannelId:t=1067226,limit:e=0}={})=>Se.get(`video/${t}?${e}`),yx=({feedChannelId:t=1331498,limit:e=0}={})=>Se.get(`video/${t}?${e}`),_x=({feedChannelId:t=1074953,limit:e=0}={})=>Se.get(`video/${t}?${e}`),Ax=({feedChannelId:t=1307354,limit:e=0}={})=>Se.get(`video/${t}?${e}`),yi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAAe1BMVEUAAAD////9/f38/Pz////////8/Pz////////////////6+vr////////////////6+vr5+fn5+fnr6+v////////////q6urs7Ozq6ur////q6urr6+v8/Pzx8fHu7u7+/v76+vrz8/P39/f19fX4+Pjt7e3w8PD5+fnLYNVsAAAAGnRSTlMA8aJmzzwf5FLzxRCuvQZcSS8Y8YVsc5jH3g4CV8UAAAZWSURBVGjevJjbcqowFIYNhyJ4ajvWiz8hhMjp/Z9w785YFzEkgka/u04l36xDFktXi9mk8THaJRljAGNZsouOcbpZvZR9etpmmCTbntL96iV8x1sGL/k2/g5t3cQ7hRmoXRwy62mUYzZ5lAbSrgsspFiH0CZ4gORZdUrapepnEv4R4Qmij0e9PwxPwX4eC7fA0xQPBH1gCAA7LB2OEQIR7cOnOXy6vzIEJPua6/3MEZT8c+asKhGYcj2rnRWCow4z4lV4AWp9t74lXkJ5p85f7PrJind6wBMMuuPVNY7c29sfdI96/ouQNR6iloL/0uOPzHOf9wUVhf9RtVhMW/E/qGUK9wyLcOXMia5dqO04ccaVyHmRQEg+pqoXJLniYySIg6PADITgJlphFkpzEwGCTZe5AFHzW7r6xqDK/ygFg7qzHqxBFJP7BkY03EKcL8ahkf3o/K6XzXDxnwW3aDDix5loKrGNhmolKQ062SpoPoGEP9lbwFFigqQL/i0wZmvtsWYBeUBKjElvxInZIyHFZlcmpncNgyakuIHB2hMwdEixhkHiCRgypFjCHXIBkyqkuIJJYbU0IUKKBQBHY0dvFdNbamOtszwoCib55iKOcYN6rRjxRbyzNrOwYmt/3F1+R1LvFqtvyvT7xJTr7VvF9I7aM7y7ucD2ND18YtFr3WhZ3Z1RUjda98Inphlygo0YW3WNC6rtPdb2Kqi1cQBsTpMlhhL0VKPM8pPatwCrZnSEwmSRM1hoOs9ujFY4FkGTkgqjYZGtVht4mlpigrKzvDUm0J62xmaqt6Tl9ZtFiUm055yUxoe9cPVjWaMH+kM44tVdVU9FUE+MkKMd8FQglfF4O71TDZzzDoTqnCEfV5Gzwi1GCPOLXz+5YJxvL8/grHJkv5oa+0BbXJO4tsX2DtXYL6gEjn3r7BOjp4B94oE+ZZJY11jRtfeIqcqNT0wzsLQuMoNJSy3tEyuqnlcsqWEMmCXWFIkttisi4BefHdMrX7lKPPjEFEp/R1y7ivyve6vdahuGoaYpYUAZdGWnQC35I3aS93/CDdOgOjpyulA4dPdXmrZSIvlDvr5W0sTkSo4pMjjhGKQpioV692+OveCYtQUW6gv+hKd/Y96sL9QV/+Hpc8wdX6kl/+HpWzWP4FLdCY7xNP3YC47v1EIItS46puG/KTtuhVAv1KNUYMaiYzxurHZSqfmoKqEfl2cnOHJ2QqnUrNSlSAb0BcdIjruCYyfSApdU7DGTrc1va8gN8pyAHjVKI5aNt6y8DQJr4iJINdfBFyEK5FFg5a1agYsheETsTIfYMaKIwZo9fYnt2wV5Ftkyg2hezaMPTXSwUuppiqISSnUdqbo3IPiV8aQWZY7K8uq3PYxdkCp6i0XDC1Wxe8XFCQx5i3nBgsAWOkVUqn7eoA+xd4lwB3DOjMjgcGDTUTe31G7HL23DyIZxLhkHcH0MHjfP9ZiKsC7yGBkMTWxs3n+NG9JNfcA2sQne8IxFl+WsysgX13ijJxiFNu+//WgZDKWkdb5xA/ky0E02ks8i76zzz5A7nua5tfG9Heim9ZM5mnc2B7l/ySNgjua5zWKdHFfZE6EP/WEERcupuUf+XBx9HBMobzm+3Qw56CHlOgh0Q5/Wf9SWAA5aW2ulSGtskl14z+dmT2Zu03dDP213HGQbDI1pXYqBfucsrPxXM/RJF1DvtoM2rb6h/ldCZ1+ji6ZLZvxbF4KABhtayAmgXdmb9a98awC8pqafrhkMjIZEtNkQzqG90XQNbDdk+QKULe9ojGJ2IKeT9D6GMNzgtIztvaa/j/Z/KmR0mtMifYdGuCHSQT3qwf59pkDcZHkgz7PBx++m3b03acI2JczxiXc++DTdp9a3VYTUlxGEOXUGxLnc7F+Y8PDA2GOaVmcgVSgc1z8eihvXBJj50il+HL9LW/U8PEdiWsxwI4sTZHnFNGT5RlmcoO5LgpJpTAtW7ssCFA4aT2XQ+CNiIUtuirrTfsq3LouSlj+LIqMiIMiqiAAvAkhkJGM9LdezrvFo2mHsbQ36hmpIEdfr7ykk+zzp3PcVC36OPPJ7C0K/XgJLqJen87usz0HmfEJh9/lI2b9QvM9Rrz7id1Wf3wGNjxxJOd9DOHOOHZ3/QasZR8v+h8N07Pjg37xfzz8++AcY5Z33pBs76QAAAABJRU5ErkJggg==",_i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAA+CAYAAABzwahEAAAF/UlEQVR42u1bb2xTVRQvsA1QN0KCSox+sJfNwiZZX9d2G9Nk7fwzcTAlWca26MTEWI0xkkiMCTGDTRyoH3SJMSYaE4l+ICT6yfCBuJglQ6jre2VMqOAfYhwStIPMiBmrv3PfKXvWlqwrj7bv+eHk9t33Xt/93XPuOfece47j0dBLDrNIdTvvUN2iXVXE62gPRNzOY/h9DjQFShCh7w+0v+L+KNrPcN2H91pBq8wc23X/Qwy8DgD2gSYARoKjFv2Skn3G34ZJ0Pv161maKNBO/F5XkMDBneWgEAY4ZgTCnD0E2g2QHSA/gKxGW254dwVJBvo3oL8bz+7F9Ve4nk75r6/R3wMqzTtwCVgRL5KoRtwiycFzaN/BvQAGX5LDfy+TIq+ID/A/8aQ0gE6jrxffKMkLcAzgIR5EkiNHJVcVsfT66wpxM+ipiCJOGJaJiolpvGHA8bEKfHy/YV2qaDeaqYgME7AYtBXf+56l6wpoiKTDVOD4WC3oFCugS2i35yLOOS4xaH9xmSdgDH2VpgEHyClVX8vhbD9kkgTUAvRJZsRZM4EPAHC/Ges4B+7fgnEN0djyaseLha55c6z27kW2Aw7RccsNiNu5p9hAYdxvYPxn0YqsgLPJirG5Gig24LTmWdt/m8nUZZqx/by/DheSIpsvRduDN2Hc47zTG5oXcDy4iTl9qRBM1kJJa6xeD+b9BRxX0u3w/rMxwINnGPj2YldgqmfNLua6mrrRShXxlyP62lBzdQIKgus+FxwdEWPwT6cFDrDkCJxnpbDRKmYLUtzJTs0Zo0trfCDEjscRK9lrcmwA/LgeEHH2pON4hPe8W6y2WSGXlpk68i/guOFlhTZphbWdxjyTeYtLjIqoNgB37uEZeduqW1Qw9X0p0Z7KnXPAYeyZ4/dZFTiHsQh4WAKXIWA9Evo72iWWBY4dKGgatn02Gqi7ldZ3Oyu1Q1Z3RYHxMDFZa/G3zq1vt9hleeBu5yBhjT5Y30ccPyCBe6s6bAC8i6Q7GvR9Suw/JmfhAb/PBsAbCbgW9B4hjk8S8BOhJ2+3AXA6y0tEA95J4vhFqPhEbOitchsAr5DSHfTGHdIp8bkSdgkySq0e9CYc8jSiYV3ix+HDi+0AnJVbgjge1zbcS8BXWF/URbkEHqi76JDRSIj6D18cvNMGYn6bXONSuVEmApTbqcE+vw2Um08Cb/GrMqJK7B/veKTbBsA7deXm+5yA90mjXl+91wbA+yXHW5v6Cfjm1OiEhTU6paWQdD9Gs7CKEm0oBk1RSQtzuxQYp0ifTTzfuzqp7Y7yyckmCwMPyGBLXaV2NQIDwK+yT/6RhW34u1Kx1a8dMAAXVbzO43TQbkH7XQbGnpebl2aPJyWuLkY48P6cBYFv5ZhiON2BQg+L+wRay8TeKLkhqcOg2J5JA1yU0IFhRFdyvRbidhtz+xetaf3yTKelXcz1nxaSO1aQJkwRUQb+wjWOiWUCXZjB77YAt3cwllhqgkPajTwenoHI/41J8BSx+bqH4uj66cmalvnmwAxyIl+MsouLUMQp8zHCR94fZ5P8swwvJEX+y2LT8pz1RGOnM/GKbNO97gL9ptt2Z6jIgJPHSUkOtQtK8Isoogkvf2PFw8T/Uzqz8GlLyOwVVIKPIt4kMi9fXRFLSGHA1J1E25D3wIK3ynU1v0URF0wDTvtefGiUT1dnSHvmw5s73tYMb0u8grH8mfQvMI4as0szSrmObIZnmmrGtt2I3JnxbZ2LtMaaxw21KbNoP1zI5OcWqqXQ9Fzt2GlyaTPZzZwAd29eqvldXfCuVEP92ncUVcmLVpcun14cM2EomCPx+0QGMXNYBgQ2GvQ9rHqr3qP1ayi/+hnXz+K7ZQVQcAfnRhFbQMOGSkHiymVcj+h1aHI5NFNiMO6tlClY+g5xZUSpdGr+tfdrDTVPqF7XPnB2GPvr6ZSqxFFZguV2lhWkHafkeFI8PAkzkZQyS2M5ZabfTLOctPBatoor7xsYeR6tRzd3kLNApZNUvkWiS+Vb7D1dkHVkVEKJZ7iWtM3sotp/ACsRnJZ1PPsHAAAAAElFTkSuQmCC";const Cd=t=>(de("data-v-ef1dbec6"),t=t(),fe(),t),Ex={class:"fit-view"},bx={class:"wrap"},Tx={class:"wrap-top"},Sx={class:"title"},kx={class:"item"},wx=["onClick"],Cx=Cd(()=>_("div",{class:"mask"},null,-1)),Rx={key:0},xx={class:"wrap-content"},Ix={class:"item"},Lx=["onClick"],Dx={class:"img"},Ox={key:1,class:"card"},Px={class:"box"},Fx={class:"title"},Mx={key:0,class:"bg"},Bx={key:0},Nx=Cd(()=>_("span",null,"\u89C2\u4F17\u8BC4",-1)),Ux={key:1},$x={class:"star"},Gx={class:"showInfo"},Hx=["onClick"],jx={key:0,class:"lodaing"},Kx=Cd(()=>_("div",{class:"img"},[_("img",{class:"img1",src:yi,alt:""}),_("img",{class:"img2",src:_i,alt:""})],-1)),Vx=[Kx],Wx={__name:"FitView",props:{lat:Number,lng:Number,cityId:Number},setup(t){const e=Z(!1),n=Z(null);lx().then(y=>{n.value=y.data});const i=Z(!1),s=Z(!1),o=Z([]),u=Z([]);let m=Z(12);e.value=!0,ux().then(y=>{e.value=!1,o.value=y.data.movieList,u.value=y.data.movieIds});const p=y=>{y!=null&&cx({movieIds:y==null?void 0:y.slice(m.value,m.value+10).toString()}).then(v=>{var f;o.value=[...o.value,...(f=v==null?void 0:v.data)==null?void 0:f.coming],console.log("\u5F53\u524D\u52A0\u8F7D\u6570\u91CF",o.value.length),Xt(()=>{m.value+=10,m.value>=52&&(s.value=!0)}).finally(()=>{Xt(()=>{i.value=!1})})})};ce([u],([y])=>{p(y)});const l=()=>{console.log("\u89E6\u5E95\u4E86"),p(u.value)};return(y,v)=>{var d,h;const f=Wt("van-image"),b=Wt("van-skeleton"),S=Wt("van-list");return N(),$(ht,null,[_("div",Ex,[_("div",bx,[_("div",Tx,[_("h3",Sx,Q((d=n.value)==null?void 0:d.title),1),_("ul",kx,[(N(!0),$(ht,null,At((h=n.value)==null?void 0:h.movieList,c=>(N(),$("li",{key:c.movieId},[_("div",{class:"img",onClick:g=>y.$router.push({path:"/filmdetails",query:{id:c.movieId}})},[at(f,{width:"85rem",height:"115rem",src:c?`${c==null?void 0:c.poster}`:""},null,8,["src"]),Cx,c.score?(N(),$("p",Rx,"\u4F17\u4EBA\u8BC4\u5206 "+Q(c==null?void 0:c.score),1)):pt("",!0)],8,wx),_("span",null,Q(c.name),1)]))),128))])]),_("div",xx,[o.value.length?(N(),ie(S,{key:0,loading:i.value,"onUpdate:loading":v[0]||(v[0]=c=>i.value=c),finished:s.value,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:l},{default:Jt(()=>[_("ul",Ix,[(N(!0),$(ht,null,At(o.value,c=>{var g,T;return N(),$("li",{key:c.id,onClick:E=>y.$router.push({path:"/filmdetails",query:{id:c.id}})},[_("div",Dx,[at(f,{width:"64",height:"90",src:c?`${c==null?void 0:c.img}`:""},null,8,["src"])]),o.value.length?(N(),$("div",Ox,[_("div",Px,[_("div",Fx,[_("p",null,Q(c==null?void 0:c.nm),1),c.version?(N(),$("div",Mx)):pt("",!0)]),c.sc?(N(),$("span",Bx,[Nx,_("span",null,Q(c==null?void 0:c.sc),1)])):(N(),$("span",Ux,"\u6682\u65E0\u8BC4\u5206")),_("div",$x,"\u4E3B\u6F14:"+Q(c==null?void 0:c.star),1),_("p",Gx,Q(c==null?void 0:c.showInfo),1)]),_("div",{class:"btn",style:cn({backgroundColor:(g=c==null?void 0:c.showStateButton)==null?void 0:g.color}),onClick:Qe(E=>y.$router.push({path:"/ticket",query:{id:c.id,lat:t.lat,lng:t.lng,cityId:t.cityId}}),["stop"])},[_("span",null,Q((T=c==null?void 0:c.showStateButton)==null?void 0:T.content),1)],12,Hx)])):(N(),ie(b,{key:0,title:"",row:3}))],8,Lx)}),128))])]),_:1},8,["loading","finished"])):pt("",!0)])])]),e.value?(N(),$("div",jx,Vx)):pt("",!0)],64)}}},zx=Te(Wx,[["__scopeId","data-v-ef1dbec6"]]),Ms="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAaCAYAAAA9rOU8AAAABGdBTUEAALGPC/xhBQAABFlJREFUSA3dlltoXFUUhtda+8zMmUnStJPLSSdiUmwrSbAIuZEmNo3RQkFEX0pffBIEfVCkgvRmM7ShWk2q9FkQFF+ib1JNWyQXm5BOhpRACpKHIpZQTYg2t5k5c85erpM6YUhTY0aSgPtl7zP79s2/1/r3Rtimwh0dtDB0rTi1pPcoQhsocFdtEwu8nbhXwI7/ZUUQRdYtQHrS2A4Yrqw05wPhV1HjOwzwrEac15prtxzGA/mzwmryMb4PxFWaMaWBB9HlW7SVyngg98uXQU4SYhUDppC411HOxV2RiiHcKpip2kgoFKpoUuCeRMR2Zkxo5D4G/qTQqujHnh53S45pKhIJ7TD3NDPqqAJqchgcB3SvgHwctipHPBBPlE1XhkWRxeCTBxnhjEHQqgVEYmRcs/vmjsHRmABIDD8smxoz9w8cyJsLlh9i4rNE3GozpGXn8bSL3TvaXxrNBvFwNk0ZD6SgKNgKaYqi4rq05rSIcDsButMqG/0Oe2D5aP4WZbky+DAY09M1ZolppjAelwn/vUzu3RsI7vS3ug6d9gmIy5xGxjFHDM4aGP1+tSKZHWnebqg3wwVvzQaMtl+bmoKZjlxrD8TaXVxnsO+MIn0wzWzLAYylye3aZY30Pg7E248cws9Nwo8MhV/lk3tsqrY2lCvIXfGRJ8qK6iUQu8Q/miRSbQnP2BK55648H/tmraPJ3stAoBkHICWNEo3UnRdELUDfRuLxpeyB67VZVF0wjAYXnKgibpSASBHSrSVXn7cGY9ehb70VRBki/brNfJUQbCII+4guBYP+4xtRaKKmJn/Op9skWa7I0SxnjePqIZedqHVz5Pr6GA9HUOHAyCRo9z0xon4UIIl4i1B3BoLGcS8j1luIxdCscH67wXTBR/BMmtEh5jtJggs7B2M/rjc/u38ltaeb6572KbxsomoTPzBR82/imGeXHqS+LhsfX8yelGl7sL5w3nMBB7qU4moxNMlgvpNAOFU6MHI1M+7f1iumV3Jz9Gc/5b2RdPUPPvIuMLQMNDr9heZraynEcjRG2HxRQLqRdLVkTVpi73bCyA3EA15RJkOfbGnZ76Dzmby+2uRfBlytp7Xic/bM0pelExML3rjfBSS/KHREszovj6Nql8F2NY8nyTltDcSvZdbaaP0IjNg1zTbXV8kV/2FQUbutwfOeWXHRD/JnE1/cm53V4ad2v+Bqo8tHvM/LGnkYxRJKR62+2I2NAmSPfwTG6xQgfHCooRJcvBgw8BUJ7gAB/mGDHVWsfgFQlwzU+1zEFLs8aiv1bnH/UCx74Vzaa8JkAyngT31oHBFLNyU658QCkgqh1HsYMUM8CXiqZHC4P5fNV895LEwGaKa5eb8P7E7TUEflfRiS9Ad5xSc16OF54I7IQGxg9aK5fv8jTAYocbixPJnmzoCiYy6yIZfeYMKPJ0pvDI/luvFa89aFyQAtNjaWOn44wYgRR/Plkp9G4mst+L/57S+eQuIEp8oPOAAAAABJRU5ErkJggg==",Lm="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAeCAYAAABNChwpAAAAAXNSR0IArs4c6QAAAgFJREFUSA3Nlz1LA0EQhmf3kouFEQwi+FEYQ+xEsImFoCDoL/CLaKd/QbC0sbCzFVuxsRS1jEVAsUqrIILRQAhaBGKMuawzwpGAm83mNhddCHfZnd3n3Z2ZuxsG2JI3YtQpVw6AiTkhYJj6/GqMwSsIdm312DsnMyzLCF79rGRAiIhfUOm6jL0FQvZU4Gfn0GU4KcINE5vjsc9LFXajE9kcfT7UDZaMQWwuG9Dpi/YyiIWZjqnSxrOAtWgANsYDysV1Bj0L0Flcx8ZoC1F0wf50UMo5fqjCY1FIxxo7jQSUHWgK+ag2YprfGwnIlQTQTk3a/46B2UEOIUu+v0gIIMgZLLTIZHJTOl+TL4K9ShckMc36Q+pc356QB6FLLJQFCqi4f39d2WoKLTy03ckg2OjAvcyXh9n1KX8eA0YC4n0MtuLoJru+o3bvjAS8o2vpfXCYsGEzZkFYHQ5SbcoglM5o6KQAoxhIDHBYiVqYERZcZB04f3aghNGv04wEuIDbQg3u8Lc4YsHymAVLeD17cuDypbWKjgggIZTpVwhM5x1YxzdlpaaXXB0T4J5GEbPy6F7/8WwUhC7U5OpZgIPfU5qnrNTn+UmoXLWNQc8n0AZDacqxUskpLXwcJDbHMinlI0O9NLI51WiAZZLa0odRZBKbU4FINRoDdtoNdxCDWMQk9jePWpE8hVOLbwAAAABJRU5ErkJggg==",Yx=({counts:t=0}={})=>Se.get(`index/moreClassicList?sortId=1&showType=3&limit=10&offset=${t}`),qx=({counts:t=0}={})=>Se.get(`index/mostExpected?ci=1&limit=10&offset=${t}`),Qx=()=>Se.get("index/comingList?ci=1&limit=10"),Zx=({movieIds:t}={})=>Se.get(`index/moreComingList?ci=1&limit=10&movieIds=${t}`),Jx=({date:t,count:e=0,cityId:n=1,lat:i,lng:s}={})=>Se.get(`index/moreCinemas?day=${t}&offset=${e}&limit=20&districtId=-1&lineId=-1&hallType=-1&brandId=-1&serviceId=-1&areaId=-1&stationId=-1&item&updateShowDay=true&reqId=1636710166221&cityId=${n}&lat=${i}&lng=${s}`),Iv=({cinemaId:t}={})=>Se.get(`cinema/shows?cinemaId=${t}&ci=1&channelId=4`),Xx=({cinemaId:t}={})=>Se.get(`cinema/detail?cinemaId=${t}`),tI=()=>Se.get("cinema/seat.json"),eI=({limit:t=20,offset:e=0,showDate:n,movieId:i,cityId:s,lat:o,lng:u,districtId:m=-1,areaId:p=-1,lineId:l=-1,stationId:y=-1,brandIds:v=[-1],serviceIds:f=[-1]}={})=>Se.get(`movie/select/cinemas?limit=${t}&offset=${e}&showDate=${n}&movieId=${i}&cityId=${s}&lat=${o}&lng=${u}&districtId=${m}&areaId=${p}&lineId=${l}&stationId=${y}&brandIds=${v}&serviceIds=${f}`),nI=({cityId:t})=>Se.get(`/index/filterCinemas?ci=${t}`);const Bs=t=>(de("data-v-42b9e1af"),t=t(),fe(),t),rI={class:"cinema-view"},iI={class:"s-wrap"},sI=["onClick"],aI={class:"card"},oI={class:"rm-item"},lI=["onClick"],uI={key:0,class:"circle-box"},cI={class:"ci-box"},dI={class:"rm-list"},fI=["onClick"],hI={class:"list-box"},gI={class:"subItems"},vI=["onClick"],pI={key:0,src:Ms,alt:""},mI={key:1,class:"subway-box"},yI={class:"su-list"},_I=["onClick"],AI={class:"list-box"},EI={class:"subItems"},bI=["onClick"],TI={key:0,src:Ms,alt:""},SI={class:"card"},kI={class:"rm-item"},wI=["onClick"],CI={key:0,src:Ms,alt:""},RI={class:"card"},xI={class:"one-box"},II=Bs(()=>_("h3",null,"\u5F71\u9662\u670D\u52A1",-1)),LI={class:"rm-item"},DI=["onClick"],OI={class:"tow-box"},PI=Bs(()=>_("h3",null,"\u5F71\u9662\u7C7B\u578B",-1)),FI={class:"rm-item"},MI=["onClick"],BI={class:"btn"},NI=Bs(()=>_("span",null,"\u91CD\u7F6E",-1)),UI=[NI],$I=Bs(()=>_("span",null,"\u786E\u8BA4",-1)),GI=[$I],HI={class:"cinema"},jI={class:"item"},KI=["onClick"],VI={key:0,class:"card"},WI={class:"card-box"},zI={class:"title"},YI={key:0,class:"text"},qI={class:"text-ple"},QI={class:"score"},ZI={key:1,class:"text"},JI={class:"text-ple"},XI={key:0,class:"score"},tL={key:0,class:"deta"},eL={class:"service"},nL={key:0,class:"img"},rL={key:1,class:"deta"},iL={class:"service"},sL={class:"img"},aL=Bs(()=>_("img",{src:Lm,alt:""},null,-1)),oL={key:3,class:"lodaing"},lL=Bs(()=>_("div",{class:"img"},[_("img",{class:"img1",src:yi,alt:""}),_("img",{class:"img2",src:_i,alt:""})],-1)),uL=[lL],cL={__name:"CinemaView",props:{lat:Number,lng:Number},setup(t){const e=t,n=Ua(),i=J=>{console.log(J),n.push({path:"/cinema",query:{cinemaId:J}})};let s=Z(0),o=Z(new Date().getFullYear()),u=Z(new Date().getMonth()),m=Z(new Date().getDate()),p=Z(o.value+"-"+(u.value+1)+"-"+m.value),l=Z(20);Z(1224712);let y=Z(113.655699),v=Z(23.525238);const f=()=>{S.value=!0,Jx({date:p.value,count:s.value,cityId:l.value,lat:e.lat?e.lat:y,lng:e.lng?e.lng:v}).then(J=>{h.value=[...h.value,...J.data],console.log("\u589E\u52A0\u5230\u4E86",h.value.length),Xt(()=>{s.value=s.value+10}).finally(()=>{Xt(()=>{S.value=!1})})})},b=()=>{console.log("\u89E6\u5E95"),f(),rt(l.value)};Z(0),Z(!1);const S=Z(!1),d=Z(!1),h=Z([]);Z("");const c=Z(["\u5168\u57CE","\u54C1\u724C","\u7B5B\u9009"]),g=Z(["\u5546\u533A","\u5730\u94C1\u7AD9"]),T=Z(-1),E=Z(!1),A=Z(0),w=Z(!1),L=Z(!1),x=Z(null),D=Z(0);Z(null);const k=Z([]),R=Z(-1),I=Z(-1),O=Z([]),P=Z(-1),F=Z(-1),U=Z([]),B=Z(-1),H=Z([]),V=Z(-1),q=Z([]),et=Z(-1);function rt(J){nI({cityId:J}).then(W=>{var st,it,j,gt,bt,It,z,tt,ut,ft;k.value=(it=(st=W==null?void 0:W.data)==null?void 0:st.district)==null?void 0:it.subItems,O.value=(gt=(j=W==null?void 0:W.data)==null?void 0:j.subway)==null?void 0:gt.subItems,U.value=(It=(bt=W==null?void 0:W.data)==null?void 0:bt.brand)==null?void 0:It.subItems,H.value=(tt=(z=W==null?void 0:W.data)==null?void 0:z.service)==null?void 0:tt.subItems,q.value=(ft=(ut=W==null?void 0:W.data)==null?void 0:ut.hallType)==null?void 0:ft.subItems})}p.value;function ot(J,W,st,it,j,gt,bt,It,z,tt,ut){S.value=!0,h.value=[],console.log(h.value),eI({showDate:J,movieId:W,cityId:st,lat:it,lng:j,districtId:gt,areaId:bt,lineId:It,stationId:z,brandIds:tt,serviceIds:ut}).then(ft=>{h.value=ft.data.data.cinemas,S.value=!1,console.log(h.value)})}return ce([l,L,R,I,P,F,B,V,et],([J,W,st,it,j,gt,bt,It,z])=>{console.log(W),W||(console.log(W,st,it,j,gt,bt,It,z),ot(p.value,1224712,l.value,y.value,v.value,st,it,j,gt,`[${bt}]`,`[${It},${z}]`))}),(J,W)=>{const st=Wt("van-image"),it=Wt("van-list");return N(),$("div",rI,[_("div",{class:"select-sticky",ref_key:"selecTsticky",ref:x},[_("div",iI,[_("div",{class:Kt(["s-tag",{active:D.value>=240}])},[(N(!0),$(ht,null,At(c.value,(j,gt)=>(N(),$("div",{class:"item",key:gt,onClick:bt=>{T.value=gt,E.value=!E.value,w.value=!w.value,L.value=!L.value}},[_("p",null,Q(j),1),_("span",{class:Kt({active:T.value==gt&&(E.value||w.value||L.value)})},null,2)],8,sI))),128))],2)])],512),T.value==0&&E.value?(N(),$("div",{key:0,class:Kt(["region-mask",{active:D.value>=240}])},[_("div",aI,[_("ul",oI,[(N(!0),$(ht,null,At(g.value,(j,gt)=>(N(),$("li",{key:gt,onClick:bt=>A.value=gt,class:Kt({active:A.value==gt})},[_("p",null,Q(j),1)],10,lI))),128))]),A.value==0?(N(),$("div",uI,[_("div",cI,[_("ul",dI,[(N(!0),$(ht,null,At(k.value,j=>(N(),$("li",{key:j==null?void 0:j.id,onClick:gt=>R.value=j==null?void 0:j.id,class:Kt({active:R.value==(j==null?void 0:j.id)})},[_("p",null,[Vt(Q(j==null?void 0:j.name)+" ",1),_("span",null," ( "+Q(j==null?void 0:j.count)+") ",1)])],10,fI))),128))])]),_("div",hI,[(N(!0),$(ht,null,At(k.value,(j,gt)=>(N(),$("div",{key:gt},[_("ul",gI,[R.value==(j==null?void 0:j.id)?(N(!0),$(ht,{key:0},At(j==null?void 0:j.subItems,bt=>(N(),$("li",{onClick:It=>{I.value=bt==null?void 0:bt.id,L.value=!1,T.value=-1},class:Kt({active:I.value==(bt==null?void 0:bt.id)}),key:bt.id},[I.value==(bt==null?void 0:bt.id)?(N(),$("img",pI)):pt("",!0),_("p",null,Q(bt==null?void 0:bt.name),1),_("span",null,Q(bt==null?void 0:bt.count),1)],10,vI))),128)):pt("",!0)])]))),128))])])):pt("",!0),A.value==1?(N(),$("div",mI,[_("ul",yI,[(N(!0),$(ht,null,At(O.value,j=>(N(),$("li",{key:j==null?void 0:j.id,onClick:gt=>P.value=j==null?void 0:j.id,class:Kt({active:P.value==(j==null?void 0:j.id)})},[_("p",null,[Vt(Q(j==null?void 0:j.name)+" ",1),_("span",null," ( "+Q(j==null?void 0:j.count)+") ",1)])],10,_I))),128))]),_("div",AI,[(N(!0),$(ht,null,At(O.value,j=>(N(),$("div",null,[_("ul",EI,[P.value==(j==null?void 0:j.id)?(N(!0),$(ht,{key:0},At(j==null?void 0:j.subItems,gt=>(N(),$("li",{onClick:bt=>{F.value=gt==null?void 0:gt.id,L.value=!1,T.value=-1},class:Kt({active:F.value==(gt==null?void 0:gt.id)}),key:gt.id},[F.value==(gt==null?void 0:gt.id)?(N(),$("img",TI)):pt("",!0),_("p",null,Q(gt==null?void 0:gt.name),1),_("span",null,Q(gt==null?void 0:gt.count),1)],10,bI))),128)):pt("",!0)])]))),256))])])):pt("",!0)]),_("div",{class:"show-mask",onClick:W[0]||(W[0]=j=>{L.value=!1,T.value=-1})})],2)):pt("",!0),T.value==1&&w.value?(N(),$("div",{key:1,class:Kt(["cinema-mask",{active:D.value>=240}])},[_("div",SI,[_("ul",kI,[(N(!0),$(ht,null,At(U.value,j=>(N(),$("li",{onClick:gt=>{B.value=j==null?void 0:j.id,L.value=!1,T.value=-1},class:Kt({active:B.value==(j==null?void 0:j.id)}),key:j.id},[B.value==(j==null?void 0:j.id)?(N(),$("img",CI)):pt("",!0),_("p",null,Q(j==null?void 0:j.name),1),_("span",null,Q(j==null?void 0:j.count),1)],10,wI))),128))])]),_("div",{class:"show-mask",onClick:W[1]||(W[1]=j=>{L.value=!1,T.value=-1})})],2)):pt("",!0),T.value==2&&L.value?(N(),$("div",{key:2,class:Kt(["screening-mask",{active:D.value>=240}])},[_("div",RI,[_("div",xI,[II,_("ul",LI,[(N(!0),$(ht,null,At(H.value,j=>(N(),$("li",{onClick:gt=>V.value=j==null?void 0:j.id,class:Kt({active:V.value==(j==null?void 0:j.id)}),key:j.id},[_("p",null,Q(j==null?void 0:j.name),1)],10,DI))),128))])]),_("div",OI,[PI,_("ul",FI,[(N(!0),$(ht,null,At(q.value,j=>(N(),$("li",{onClick:gt=>et.value=j==null?void 0:j.id,class:Kt({active:et.value==(j==null?void 0:j.id)}),key:j.id},[_("p",null,Q(j==null?void 0:j.name),1)],10,MI))),128))])]),_("div",BI,[_("div",{class:"l-btn",onClick:W[2]||(W[2]=j=>{et.value=-1,V.value=-1})},UI),_("div",{class:"r-btn",onClick:W[3]||(W[3]=j=>{L.value=!1,T.value=-1})},GI)])]),_("div",{class:"show-mask",onClick:W[4]||(W[4]=j=>{L.value=!1,T.value=-1})})],2)):pt("",!0),_("div",HI,[at(it,{loading:S.value,"onUpdate:loading":W[5]||(W[5]=j=>S.value=j),finished:d.value,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:b},{default:Jt(()=>[_("ul",jI,[(N(!0),$(ht,null,At(h.value,(j,gt)=>{var bt,It,z,tt,ut,ft,mt;return N(),$("li",{class:"item-li",key:gt,onClick:Qe(_t=>i(j.cinemaId?j.cinemaId:j.id),["stop"])},[(bt=h.value)!=null&&bt.length?(N(),$("div",VI,[_("div",WI,[_("div",zI,[j.title?(N(),$("p",YI,[Vt(Q(j.title)+" ",1),_("span",qI,Q((It=j==null?void 0:j.price)==null?void 0:It.n),1),_("span",QI,Q((z=j==null?void 0:j.price)==null?void 0:z.q),1)])):(N(),$("p",ZI,[Vt(Q(j.name)+" ",1),_("span",JI,Q(j.sellPrice),1),j.sellPrice?(N(),$("span",XI,"\u5143\u8D77")):pt("",!0)]))]),j!=null&&j.location?(N(),$("div",tL,[_("p",null,Q(j==null?void 0:j.location),1),_("ul",eL,[(N(!0),$(ht,null,At(j.services,(_t,wt)=>(N(),$("li",{class:Kt(["ser",_t.code]),key:wt},[_("span",null,Q(_t==null?void 0:_t.text),1)],2))),128))]),(tt=j==null?void 0:j.discount)!=null&&tt.length?(N(),$("div",nL,[at(st,{width:"15",height:"14",src:j.discount[0]?`${(ut=j==null?void 0:j.discount[0])==null?void 0:ut.card}`:""},null,8,["src"]),_("span",null,Q((ft=j==null?void 0:j.discount[0])==null?void 0:ft.text),1)])):pt("",!0)])):(N(),$("div",rL,[_("p",null,Q(j==null?void 0:j.addr),1),_("ul",iL,[(N(!0),$(ht,null,At(j.labels,(_t,wt)=>(N(),$("li",{class:"ser endorse",key:wt},[_("span",null,Q(_t==null?void 0:_t.name),1)]))),128))]),_("div",sL,[aL,_("span",null,Q((mt=j==null?void 0:j.promotion)==null?void 0:mt.cardPromotionTag),1)])]))])])):pt("",!0)],8,KI)}),128))])]),_:1},8,["loading","finished"])]),S.value?(N(),$("div",oL,uL)):pt("",!0)])}}},dL=Te(cL,[["__scopeId","data-v-42b9e1af"]]);const fL=t=>(de("data-v-fd609492"),t=t(),fe(),t),hL={class:"classict-view"},gL={class:"classict"},vL={class:"item"},pL=["onClick"],mL={class:"img"},yL={key:1,class:"card"},_L={class:"card-box"},AL={class:"title"},EL={class:"text"},bL={key:0,class:"fen"},TL={class:"score"},SL={key:1,class:"fen"},kL={class:"deta"},wL={key:0,class:"lodaing"},CL=fL(()=>_("div",{class:"img"},[_("img",{class:"img1",src:yi,alt:""}),_("img",{class:"img2",src:_i,alt:""})],-1)),RL=[CL],xL={__name:"ClassictView",setup(t){const e=Z(!1),n=Z(!1),i=Z([]);let s=Z(0);const o=()=>{e.value=!0,Yx({counts:s.value}).then(m=>{i.value=[...i.value,...m.data],console.log("\u603B\u5171\u6709",i.value.length),Xt(()=>{s.value=s.value+10}).finally(()=>{Xt(()=>{e.value=!1})})})},u=()=>{console.log("\u89E6\u5E95"),o()};return(m,p)=>{const l=Wt("van-image"),y=Wt("van-skeleton"),v=Wt("van-list");return N(),$("div",hL,[_("div",gL,[at(v,{loading:e.value,"onUpdate:loading":p[0]||(p[0]=f=>e.value=f),finished:n.value,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:u},{default:Jt(()=>[_("ul",vL,[(N(!0),$(ht,null,At(i.value,f=>(N(),$("li",{key:f.movieId,onClick:b=>m.$router.push({path:"/filmdetails",query:{id:f.movieId}})},[_("div",mL,[at(l,{width:"64",height:"90",src:f?`${f==null?void 0:f.poster}`:""},null,8,["src"])]),i.value.length?(N(),$("div",yL,[_("div",_L,[_("div",AL,[_("p",EL,Q(f.movieInfo.title),1),f.score.length?(N(),$("p",bL,[_("span",TL,Q(f.score),1),Vt("\u5206 ")])):(N(),$("p",SL,"\u6682\u65E0\u8BC4\u5206"))]),_("div",kL,[_("p",null,Q(f.movieInfo.englishTitle),1),_("p",null,Q(f.movieInfo.actors),1),_("p",null,Q(f.movieInfo.showInfo),1)])])])):(N(),ie(y,{key:0,title:"",row:3}))],8,pL))),128))])]),_:1},8,["loading","finished"])]),e.value?(N(),$("div",wL,RL)):pt("",!0)])}}},IL=Te(xL,[["__scopeId","data-v-fd609492"]]),LL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAoCAYAAACFFRgXAAAABGdBTUEAALGPC/xhBQAAAytJREFUWAnVmLtrFFEUh3cWFAtRE5FEEUREsFAkooUIgl3+CUEU7LVR1LBIMERCLFLZRG1CrFJYpLBQENRGC4n4wBeKRUQ2PlAQX+v3m70z7MzemZ3HZp05cPbce86553w7O7Mzc51KjDQaDYfwDvSAseux69Cv6Ef0LXoHXXAc5y82UqhVJbgLPYhuQTega9DPaB19ht6VpVYDaxUBWYUGewkcQzdbE4LOJabXaHQ76G7OqHWI0RG0v+mJ/XxPdJpaD2xZbcAUX0XiSXS/bUEH3yPil2imL1Chln6RE+huzVPKffJV60frugAwDfoI1tBtrUkpx4vknzVrLmAHU65vTX/F5DzQnzynDwzsCpwX0e1eMIfV+S3ReZpXXlDgFNC/VEgXgifHGXQDVvUE2g1Y1RKT2FxxgTm6cg4bXxHNsGH0j/DhIlKGmFzGKuSbCAyFgkWcDsG6UaeE/m/LIvsEvKcstGIV8ECJgAcErJtFWaRPwCvLQitWAbv3/ZJALwlYj3ZlkbqA9YBRFnkp4HtloRWrgJ+g/uNbgeHF+LTKY5tebWYLDOqhzYpVR1hyE33njor5ITYxNp/WIP/DeBINvI4ooQAipknD6D9eVnC8JjCOxr799vgLiGXcsLmtvVPCnRB4yGDanRTjQ2/PYvIlACwvCTcwM37G/xvMGJYAQRuwoiRex8wFMns7mTMMbV2twMpiwVXMfNuK5XfMm97WTpHAJvsy9pZ15fI41Us9IyUWmG+qPa4ptBe3b/WYMj2zAWsVBfQfPYEGrlbFuiiqPWF6xZaNPcLeSgr9ZjyGLni+LlrVHDM9OpZNBKwqFPyJGUWfa94lUa1RUztRSX9vLVE2SewNrMboaG9NuiYi7w3+M8B+i4hb3amBVQXotRjdxpPsHWtJWLQHfBrYL+FAp3kmYBUFWnu/2u1Mu03wgTXajaxjU0tmYHUCehAj6H7NE4ggBSvoTJL4orNVp/Eifm1eJ/lplXMuD6wYcgGrAAA6H0fQ75pHiGIjJjciJZk7N7DaAKIrvobarnj5aiaHYT7JdQ6HW5sL8Sj+nSb2GHsF2EwXWLi+5v8ArR6xIZ+h44wAAAAASUVORK5CYII=",DL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAA4CAMAAAB+M959AAABJlBMVEUAAAD/g4X/VHP/bn7/X4D/h4//g4X/TXD/hIb/goX/T3L/ior/b33/VXP/hIX/TXD/e4L/anv/VnP/aHr/hob/RW3/XXb/U3P/UXT/fYX/Ynr/hob/TXP/fIP/R27/eYL/goT/Xnf/hob/VHL/R27/hYb/fIP/YXj/hof/gIP/cn//hYb/dH//hYb/a3v/goT/Znv/SG7/RG7/hYX/eIH/dID/eoP/R2//a3v/T3L/Ynn/hob/Ynj/gIT/VXb/VYD/Sm7/SG7/Xnf/W3f/aHr/a3v/eoH/d4D/dH//bnz/cn7/cH3/ZHn/f4P/fYL/Xnb/XHb/Ynj/YXf/WnX/V3T/U3L/VXP/UXH/TnD/gYT/Znn/WXT/TG//g4X/SW7/Rm3/eYD/R25qKvTfAAAARHRSTlMA9vMXCwjEk3hYLhDq4t7c1s/Jtq+tqkA6MC8qHvj48u/s6uro4NzQzszHpaOVlYmJh4eEf313ZF9eTkpGOicG0NBcXAxIQcQAAAKeSURBVEjHtc6FciJBEAbgHw0S3AkXd3eXE1wTJLBwBHj/l7hmYBmWzS6ydV91Vf/T2zs1kFix+M07us19/4nVhAkm64l/f1O3Y/ZbVqDAfuVsc7qjJ4x5OtK1OeeVHXJGy7pA2kKbatDNK6PXmdtkOGfWLUZMiDgFOd2ZCcR0phPknBFIWHUFQSgIBUbg2WwH7GaBncW5SGfFGEthUrFQpCoUDuz2g4ISC0as7BeGAtVYd7slV0r76B0vP4oL+vECxrSbLBaTxaREkc+oKX7fNaHvNqnBLYhhTTx2k12q2XIqmUp1U93umgHAdUqTawDulCZuIJJmUukUVVqCz9VmEdykNbrBcXYknU1T8TOfqe0c4zCbzWVzVFlF/DvP3CGWc0SyIkNDKmnmlpHjMrkMVU6dfBfLGY2W4UkkMgmWqfGsgu+x7IEvoZEPpwmNTnEfn1sinqAST/cwxDUyAJ54M95kKDAUqCSd8CzZ8wA4b+abeaom60TMshmRz88BRPOaREF8H0P5jzwV75w4k5996HsWx+WPMkOBatD5N9mc5WcwexSl+PqU2R4GHkvlcqlcohp0js8Uzo8YCpYWFITIsPG+kA0DRn6/V94rDAUJGvAZN9j/gzHByhStSotKOgtinMnbYmtMZSLzK1gXeU2QMDiq1Va1RSXvUuLcYcCEqL46F30UMiH95xz0IXwjrP+sMZ81tkVNMevD+JZti62xdXVbNih4ddRr9RpDQTk7XqEo5q3PwBuDirelOteoN/qoiWeWl96g7kHfUKV/wFQ2V0OFy4YZGJf+KloyYjYh1/cXuELgpj/kS4Y9YQ7hX19M76vXR+1nGPO62+70OlS9Xr9v32EBxovVztDqhRGLiQU6TCCGxdkuA4FLG/63f3C4JEEsS3ERAAAAAElFTkSuQmCC";const Ns=t=>(de("data-v-d793bb1a"),t=t(),fe(),t),OL={class:"reded-view"},PL={class:"recomded"},FL={class:"recomded-top"},ML=Ns(()=>_("h3",{class:"title"},"\u8FD1\u671F\u6700\u53D7\u671F\u5F85",-1)),BL={class:"item",ref:"recom_item"},NL=["onClick"],UL={class:"img"},$L=["onClick"],GL=Ns(()=>_("img",{src:LL,alt:""},null,-1)),HL=[GL],jL=["onClick"],KL=Ns(()=>_("img",{src:DL,alt:""},null,-1)),VL=[KL],WL={class:"people"},zL={class:"recomded-main"},YL={class:"item"},qL=["onClick"],QL={key:0},ZL={class:"box"},JL={class:"img"},XL={class:"card"},tD={class:"title"},eD={class:"name"},nD={key:1},rD=["onClick"],iD=Ns(()=>_("span",null,"\u60F3\u770B",-1)),sD=[iD],aD=["onClick"],oD=Ns(()=>_("span",null,"\u5DF2\u60F3\u770B",-1)),lD=[oD],uD={key:0,class:"lodaing"},cD=Ns(()=>_("div",{class:"img"},[_("img",{class:"img1",src:yi,alt:""}),_("img",{class:"img2",src:_i,alt:""})],-1)),dD=[cD],fD={__name:"RecommendedView",setup(t){const e=ze();ze().Movies;const n=Z(!1),i=Z(!1),s=Z(null),o=Z([]),u=Z([]);let m=Z(12);qx().then(y=>{s.value=y.data.coming}),Qx().then(y=>{console.log(y),o.value=y.data.coming,u.value=y.data.movieIds});const p=y=>{y!=null&&(n.value=!0,Zx({movieIds:y==null?void 0:y.slice(m.value,m.value+10).toString()}).then(v=>{o.value=[...o.value,...v.data.coming],Xt(()=>{m.value+=10,m.value>=90&&(i.value=!0)}).finally(()=>{Xt(()=>{n.value=!1})})}))},l=()=>{console.log("\u89E6\u5E95"),p(u.value)};return(y,v)=>{var S;const f=Wt("van-image"),b=Wt("van-list");return N(),$("div",OL,[_("div",PL,[_("div",FL,[ML,_("ul",BL,[(N(!0),$(ht,null,At(s.value,d=>{var h;return N(),$("li",{key:d.id,onClick:c=>y.$router.push({path:"/filmdetails",query:{id:d.id}})},[_("div",UL,[at(f,{width:"85",height:"115",src:d?`${d==null?void 0:d.img}`:""},null,8,["src"]),X(e).Movies.map(c=>c.id).includes(d==null?void 0:d.id)?(N(),$("div",{key:1,class:"mask",onClick:Qe(c=>X(e).removeMovie(d),["stop"])},VL,8,jL)):(N(),$("div",{key:0,class:"mask",onClick:Qe(c=>X(e).getMovie(d),["stop"])},HL,8,$L)),_("p",WL,Q(d.wish)+"\u4EBA\u60F3\u770B",1)]),_("span",null,Q(d.nm),1),_("p",null,Q((h=d==null?void 0:d.comingTitle)==null?void 0:h.split(" ")[0]),1)],8,NL)}),128))],512)]),_("div",zL,[(S=o.value)!=null&&S.length?(N(),ie(b,{key:0,loading:n.value,"onUpdate:loading":v[0]||(v[0]=d=>n.value=d),finished:i.value,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:l},{default:Jt(()=>[_("ul",YL,[(N(!0),$(ht,null,At(o.value,d=>{var h,c;return N(),$("li",{key:d.id,onClick:g=>y.$router.push({path:"/filmdetails",query:{id:d==null?void 0:d.id}})},[d.comingTitle?(N(),$("h3",QL,Q(d==null?void 0:d.comingTitle),1)):pt("",!0),_("div",ZL,[_("div",JL,[at(f,{width:"64",height:"90",src:d?`${d==null?void 0:d.img}`:""},null,8,["src"])]),_("div",XL,[_("div",tD,[_("p",eD,Q(d==null?void 0:d.nm),1),_("p",null,[_("span",null,Q(d==null?void 0:d.wish),1),Vt("\u4EBA\u60F3\u770B ")]),_("p",null,"\u4E3B\u6F14:"+Q(d==null?void 0:d.star),1),_("p",null,Q(d==null?void 0:d.rt)+"\u4E0A\u6620",1)]),d!=null&&d.showStateButton?(N(),$("div",{key:0,class:"btn",style:cn({background:(h=d==null?void 0:d.showStateButton)==null?void 0:h.color})},[_("span",null,Q((c=d==null?void 0:d.showStateButton)==null?void 0:c.content),1)],4)):(N(),$("div",nD,[X(e).Movies.map(g=>g.id).includes(d==null?void 0:d.id)?(N(),$("div",{key:1,class:"btn-y",onClick:Qe(g=>X(e).removeMovie(d),["stop"])},lD,8,aD)):(N(),$("div",{key:0,class:"btn",onClick:Qe(g=>X(e).getMovie(d),["stop"])},sD,8,rD))]))])])],8,qL)}),128))])]),_:1},8,["loading","finished"])):pt("",!0)])]),n.value?(N(),$("div",uD,dD)):pt("",!0)])}}},hD=Te(fD,[["__scopeId","data-v-d793bb1a"]]);const Dm=t=>(de("data-v-963517e5"),t=t(),fe(),t),gD={class:"home-view"},vD={class:"wrap"},pD={class:"wrap-card"},mD={class:"box"},yD={key:0},_D={key:0},AD={key:1},ED={key:0},bD={key:1},TD={key:1},SD=Dm(()=>_("span",null,null,-1)),kD={class:"item"},wD=["onClick"],CD=Dm(()=>_("img",{src:nR,alt:""},null,-1)),RD=[CD],xD={__name:"HomeView",setup(t){const e=ze();let n=Z([{id:1,text:"\u70ED\u6620"},{id:2,text:"\u5F71\u9662"},{id:3,text:"\u5F85\u6620"},{id:4,text:"\u7ECF\u5178\u7535\u5F71"}]),i=Z(1);const s=Z(23.4),o=Z(113.3),u=Z(20),m=Z(null),p=Z(0);var l=new BMapGL.Geolocation;return l.getCurrentPosition(function(y){this.getStatus()==BMAP_STATUS_SUCCESS?(console.log("\u4F4D\u7F6E:",y.point.lng+","+y.point.lat),wd({lat:y.point.lat,lng:y.point.lng}).then(v=>{var f,b;m.value=(b=(f=v==null?void 0:v.data)==null?void 0:f.data)==null?void 0:b.city})):(console.log("\u5B9A\u4F4D\u8D85\u65F6"+this.getStatus()),p.value=this.getStatus())}),(y,v)=>{const f=Wt("RouterView");return N(),$(ht,null,[_("div",gD,[_("div",vD,[_("div",pD,[_("div",{class:"region",onClick:v[0]||(v[0]=b=>y.$router.push({path:"/region"}))},[_("div",mD,[X(e).getCity?(N(),$("span",TD,Q(X(e).getCity),1)):(N(),$("span",yD,[m.value?(N(),$("span",_D,Q(m.value?m.value:"\u5317\u4EAC"),1)):(N(),$("span",AD,[p.value!=8?(N(),$("span",ED,"\u6B63\u5728\u5B9A\u4F4D")):(N(),$("span",bD,"\u5B9A\u4F4D\u8D85\u65F6"))]))])),SD])]),_("ul",kD,[(N(!0),$(ht,null,At(X(n),b=>(N(),$("li",{key:b.id,onClick:S=>Fe(i)?i.value=b.id:i=b.id},[_("h2",{class:Kt({active:X(i)==b.id})},Q(b.text),3)],8,wD))),128))]),_("div",{class:"search",onClick:v[1]||(v[1]=b=>y.$router.push({path:"/search"}))},RD)])]),X(i)==1?(N(),ie(zx,{key:0,lat:s.value,lng:o.value,cityId:u.value},null,8,["lat","lng","cityId"])):pt("",!0),X(i)==2?(N(),ie(dL,{key:1})):pt("",!0),X(i)==3?(N(),ie(hD,{key:2})):pt("",!0),X(i)==4?(N(),ie(IL,{key:3})):pt("",!0)]),at(f)],64)}}},ID=Te(xD,[["__scopeId","data-v-963517e5"]]),Us=""+new URL("video-btn-play.0cb73143.png",import.meta.url).href,Ha="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABsCAYAAACPZlfNAAAABGdBTUEAALGPC/xhBQAADu9JREFUeAHtnQtwFtUVx8MzgqYBW0fAZ0FLfVWNqXbs4AgyxdGi2FZaSq1KLRAeBS2l1VaNdWqnWC2I4SGiterUEUdFUKdClAIz0JKg1Y7SirbV8rAgCsgjhEB/J2aX/TZ7z90v335fNuTuzJe9e8+55949/z33nnv27k1RkTucBpwG8qeBDvkTnazk0aNHd0fiMH4X8TurQ4cOxzTVsIGz/N7p1KnTM7NmzXqtKf+wPKUesIkTJxbX19fffODAgckgUGpDASD/cfDgwcc7d+78O8D7xMbf1uipBmzSpEnH7tmz5yWU+qVsFQtw7/MbN2fOnMXZlk0zf2oBu/HGG7vt3r27Bms5PUcFPjJ48OAfDB8+vCFHOako3jEVrYhoBGDdngBYIvna6urquRFVtMmsTmlsdWVlZdedO3c+QduOSKh9ZeXl5UfW1tYuSUheq4lJpYVt3Ljxq2ikR5JawVp/Mnbs2CFJymwNWakErGPHjifFUMZeeLbH4PNZ8DSrsN6krNaXW8hEKgFDsb00JeD9TX7ggQe68euB+14C71X8xJu0Hf02bdr0cxtTmumpBAxAjrYo7U2PLnMtgHuW3xAs8/vkq94gXePUMWPGnOqVb2vnVAKGEvtZFPlRFJ0516OAJhNs7egqoGkMaaalFbAyTWko/G0Tffbs2VVY6CoTXfKhXzNu3Di129XKtyYtdYChyBMA5GRFKe/R/RmdDcCg+MExnPebZEAvZpycaKKnOT91gO3fv//rFoWttdCLAPQNQJmn8UGvIKDcReNJIy11gGEZ39QUBX2JRvdoRO5/S9rogABYT2RJ5L9NHakCjIntyShykKZBgIjjvhcxlr0LIE9psqDZrNlSvPDkVAHGuHIDKjAGpAHgTdz49XHVhMf4oMbLwzFUo6eRlhrAJk+eLKGoCRYl/cFCzyA3NDT8GZB3ZGRmXvRjHDsxMyvdV6kBbO/eveoLShR/gN9j2agT56MeK/qTVgaZ/TV62mipAIynvJTucJKmHBS/mImxLAXI6qBbVOdkyD0lK4GtzJwKwNCBWJd0icYDS7jHSFQIlHtHIQupTYWpWh0w1mzIYhoBzHig9Jq5c+cuNzIoBCzMBtjxSvHUkVodsH379t2LVlTrgv7LlmqOLu/DlpZNY7lWBayiomIwCv2ephisaxXWtUjj0WjM2zprdOQf1Ohpo7UaYLLIBrd7jk0hKPQWG49G54GwhZ8cYJoCPRqLbG4lbXuNsgDPcJlXpiVnHooSS7l6Cz1V5FaxMF4gns2TP8WiCYnIq66+pXwjmenCFyx8/7bQU0UuOGBTpkw5ErBkRZTaVUlXyMR3UwLa+qImg7bEDnVpcgpFKzhgO3bsqOLmVCUC1urevXtbx7c4SgKQ0zQ+3H4HmElBROOvgXatiS75gLUfJY9mddMBjS8L2sUab3FxsQMsSkG8ST4NIGZF0UJ598gLyFBeiy4JeZ1FwT5K4X/NmDHjA4WeOlJBusTx48d/ljfJiwDsKIsGXqcrrLTwxCZjrUM0ZuhLNXoaaXkHTJZdA9bT3LzNhd/FJHc4/HsTVNQVmqy2CJjxZaF2o9nQcOEfxrKui1HmOrrCR2LwxWKhCz6FB8W4ukqE4HCU8dsaS2ALmbp06bKPT6a2cW+JzPfUsE0L2+gXA6w7Y4L1aJJgSQOYMI/yG2JIMEdby89ATSabh6ZREOPpThISiF7JQ7KCehdzz7uzrSVvFkYDJaT0qxgNWsdy6y8n+bXkk08+2Wnp0qXvUbfmcMRoWl5ZPkb6w/ymA5y0NdaROGDiDfJ0/wjLGhujBR/TZVxQVVX1zxi8sVkkqEwbYq2uii00f4y7EH1Lnz597o8zlUkEMCrqyEcGVwOSLIFWV+0G7ruB9GU8XS8F8hJJ0hXfTFvuSkRYgYTgAFWXlpZeNW3aNOk6jUfOXiLKuZTvud5CQRJuiguWTJDH5AMsuVNkJxHSMiotHwT0d8n27dtfZij5nCa/xYDxeuRohP+Ril6kAluANdyG23jHNT+cmdQ13axMI5KcHiTVNFUOuiyHYSF6NcZZWwQY49Q5u3btqkH4d9QWRBDxkO7Csu6MICWWNXPmTFna9i0sbU9iQgsn6ELafbepuqzHMOKBg3gSFvPrZhKq5N+Wb7CCddPWM2nn9fxOIr9TkFbAtER3JGgg6x9jt4EHe2DUu8CsAEMB53Pz1fxsIaawPnbRgAr5fitMaC/X0s0RybmQ+ZfMTQfEuO+1DBvlWFvGG/HYgBEPPIMdaZZT0dExKmtkoTKJvD/FWcYsNeoQV+bhwIejNhS9iJMm2zEZDx7yETzkwucfsQCbMGHC51ndtJJSsSaiALSZBs2jwrlUuMGvzSV8DQDalVw8jZ6MfgR6XMGDfpFfiIQVMOZYnXHb18B7TrCgIb0PkH6G2d/PWJVI7MxQz2GRzRAzFV39RrsZPN7+wcCCNZa4efPmmxBoBYun4V34vo1FiffojhgaAIwZdXV1ot9jTewMQyOg3eHRjeYoDIR4+mKylR6zcn4FvjLM14GlKClMYvpRx4Nue6l7YbCcChjxuLkAobrvVPh3BF5FF2j87jhYoUtnaqBr166zydGGD/HM/aHLCBj960gEDc4U3+xqI66qxAMdWM1UEy8DK9vCQ/83hbsHDkp/j24EjMHwpx6T4dxARVfyWuR9A91lx9fAXy2sF3j0SMCwrothkAUs2jHbjVmaeuLTePDFC9eOMo8YCRh95kSPwXDe0r1791sNNJedvQZUZw1A/WBFM8AI7MrGJjKpMx4y15o+fbq8MXVHAhrAvVeX2oHHZ7xqmgGGZ1gB0RikBO0NgwYNesQT4M65a4C5mLx1Nh7o3AwYpb5hLPkpYf7hsn+u5T4LRsbL3g0oxtVARgvD2TgOou9ChlssQnHjHwznu+vcNYDeNSsr9WoId4mDPELUGaEvOjc+SjOJ5BknzxiKP0RlAAYgKmA069lEmuaEZGhAFjEBSo+MzMyLD73LDMDIvMQjRJ3xZpZH5bu83DSwZcuWnhhLGAtfKLTmgDF+ycZcJ/hcoQRPwOZgmD9Edpc5aICI/DFacXTfHDDA6qcVguasy6KgHMjq0jbkbvNkB81QFokYD1BebSQ6Qk4aQLe9LAKaWxgFjN2hCMMC/2MR6sgt1ACAnakVhb7Ro8e2MABzazM8rSV8RrfqG31Cgf4XqbEB41tgB1jCQHniAOxcLx1xlmVur3v5PmAU0lZENQwYMKDNrVf3bjLNZ5Zh9KR9Rv+B7nB98FMsHzAI/mvoiBv8xMUPI7SSQBbBdrU7pIqMt9E+YBCMoRFoxsX5CbS5XYvATtRVwNBfCyooCNin33YGqYfSDrBDukg6dbkmkKUaRsCchWmaywOtaXNP+cTIdNTj7K0IEoMWpgFWpH2zFBTo0vE1QEjqUpy9IAbhwiubPp3y84PMKmDMBcSbcUeCGqC7u8wi7vkwPQjYf8PE4DWDn/HFZpDPpeNpQL5ZQKdDLNwqYOu0wrifDjBNQVnS+Ij/CrpDY68FmO+ydKAZJr6FwdCMGGyDs7CgNhJJ/1CTApgvRNF9wOhP34piCOQ5CwsoI5ckH0fKJ7xfs8hYFEX3AYP4DlakzcVsM/Io+S4vQgNsZ3SD5h2Cw/v8d/fqiKJFPmD0l/J/StZHMUketBNk9wAT3eXH04Bsq4QuR2nc0OeZQoE+YCIAZF/VBOF4XKHRHc2ugerq6pFwGQPtTb2ccSlhGLBntSpBXl3CrZV1tCIv+HC7pgt0vJDebpOJJwMwJscvgHCdiZn8MsIpxyt0R1I0gH5HAUhfhaWIhbpzNHoGYE3vXZZoBdhNYJxGd7RoDTBRPgKwbo2m+rny7ivS2fA4MgBrynzaI0adqXSC7OEbRXN5Zg0wUR6H7o4zczTukDqNHi5jI5UwfzPA2GzyOZgawoyB6xKcj5sC1y5p0QCB8xMBq9LCto6vgh6y8Bxy6z1GFot+CMqLveuoM5PsibKbWxTN5UVqYD65JZGUQ5k3m1z5QyxYYfAikBZPRjPNEv7ZzX0Bfpc0aIAV1WMgqR/3YyCr8AxVD90THwkY3y7LOoKnPKaoMyY+ksao8bCocu0pT0JQ9EbGrfQ8XaBL2ck11hEJmJRkLLsd5I0fmQkPjbmPLQnOlrQ7MjVAVOgoQlDPkGvrCp/DulZmljZfGQHDvZRtYR83F22kHMHfBQyqvS187Yos77pwzBagv3O1G8cgPmIJwHiNJ0wzAiaMTOIqOe2WtOmgUadCW42lnW7iaW/5bKY2G71cGuO+R7MEQH1xHJahrUVs5GWcGknX91i4YPhanhbyhjH+LQ/T2su1fJgHWNO43x/b7hl9PYyuRtn4wnT/U8wwwbuuqal5o7y8XL5fOt/LM5y70YjvnnfeefuHDh1as2zZMu1VjUFE282eOnVqydatWxdwB9fFuIv1+AjD1qxZsy8GbwaL2iV6nPzHIZko/8W7Np3pBoqh/ZqnbB1d5AiurRZsktWW8hnD+7GF+Wrud2iMdtcTUxwZXH4do4zPEluhEvRlP4m1lFS/FvQlk8DiariJhxhYF2XbVwflpDUt/ymXf4RzE0PGLbSxe5x2Atb17Cn5+zi8UTyxAZPCPEllgPA8IPSKEmbJW0vZhZStxZmRLWY39+rV6wP6/TbVdfLgFhMAl826ZN9eGYOyifjkvKt4VoAJIBIX4yQLRM6Q6xyPg4C4jRvPui/Psd4WFaetEnE3rnTShFL2bpyM2BNkk6ysARNBgFbKSSIhashFeN3RGIW/g26wMgldWL3EqEpqa2vr8Aaf4KmRV91lUTwur1EDsmm17Nd/b1L6aJGFBSvH2i7nuorfScH89p7mYd6ADq6mG1yVpC5aZGHBBmBtbw8cOHAeA7EsLZC4orpHcLDsYZx+iP0kh/Gqan3S95izhQUbJJNH/rF2BW6uRPFPCdLaQxqrWsF9/gKrylu0J1HAgqDw7e5XCIDKnuuX8JM4Y97qCtZb6DQg7cFzXMhYNY+x6uV8118QJcqHa3SZ8m+W+mN9p3Luy42Jp3kUN3sk55y75nwrSuTT7jrau43z/7h8FZBWl5SUvGL7r3qFaJurw2nAaSAJDfwfgbjxosTXmIQAAAAASUVORK5CYII=",Yi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAMAAAArteDzAAAAgVBMVEUAAADzQDj/YWHwPTfxPTfxPTfyPzjxPTf1QDn/Z2fxPjjyRj7/R0fwPjfxPjfxPjjyPjj1PzvxPTfxPjfxPjfxPTjzQTvzQDrxPTfxPTfxPTjyPjnxQDnyQTr3QD7xPjfwPTfxPjfxPjjxPjjyQDj/SUPxPjfxPTjxPzjxPjjwPTeFEOHDAAAAKnRSTlMAQAX1+9U7qS8C+BIJ45l9TxjdzLmMKyK0onZeNScc57+xkmlEDu7HblqDfk8xAAABo0lEQVRYw+3XWZaCMBAF0NIkgAyKOM+zrW//C+yv7qNUEKTKP+8C3kk4eQlFX18v9WbrbZdUrecxABPmpOeEP+MZKQks/u20UkM8KBJS4fCoTyoMngSkYIhnP6SgA+gvdYKSkOQylJiUpAIw8mIdwExIKAI3ly+Uc/Ivyu1IpOs+EDqAT0YSmxg+I9HmR2DElTrCbyDIzFHhLDj2Bn5x++4PM1TYd8t61Ezi8AZThHl98szhXW71MraXz9HG4kXqdo+WwsrU+xUNNT/BNwiYIfmsINInj7OFiL0Qk2YQyv1vvPb+IwupgoUuIGbZHRJDLuEvkty0FFpAQafUeWgIWJn0t7+Ahi09GUFDqadXKDCl3kOMjxkbMPLur6HhxP6Z9Y/pFAri9APfdMzHRbkbH2zlZkTqjXKfuPeXLHQJKTtkoRGkQuIK+a2v/+qPiJG3/0w+e3mbuAASEfmNBZlHqjA1aMulxEif6Tiian35jc+lc/kEwfXarHVCdZYW77EDqrc54B1ZQI10xhYNmWNCTSX3MItRyy1ZZG3ytPNSdKGvL+4XFZ0lgtMTyQoAAAAASUVORK5CYII=",ja="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAMAAAANxBKoAAAAhFBMVEUAAABmZmZmZmZnZ2doaGiAgIBmZmZmZmZpaWloaGh6enpnZ2dnZ2dnZ2doaGhqampmZmZmZmZnZ2dtbW1zc3NmZmZmZmZmZmZnZ2doaGhnZ2dmZmZmZmZnZ2doaGhqampnZ2dnZ2dmZmZnZ2dnZ2dnZ2dnZ2dmZmZnZ2dmZmZoaGhmZmZkB7/1AAAAK3RSTlMA0/eJOwT78SoUB8aulTIf6uFMEAvbwadnQrWajXklGc69o35tWFHkoHBfVJiOVwAAAZZJREFUSMfllNmWgjAQRJMIhGGRTQFFwA23+v//mwRGgiAZ371PdJ+i6BQN5Hv5sY04Nqqf/5XLchvij2t2tzXSVb7HiLQxZ8RN62rR26LM83KRrSFZG2+n9aTUi5NBqzlA4DtTMZX9etyupMfWmYjnnnkJp3IPoDOR2Vdg8WognGfzrTisYZRmBGzILDmQDsoNcCQaXCBQ1Q0wdOoHUKoqRER0JAyuKuQgWvYIVUZ9RM7OvcuF8d1cuhTuow/YHBxSaCRntCcoASwJWQBW1fZ9oB6oT93VCUAsZN1NhbzpGUPST9LPnaTsKB5Zu8wXVbBnu65/AFN7bcElWiKsVUHBTe0XBWSq2mlffHuOi6oMwNeIAw7uqNIMEapywvaZmRrlrJuDvnjVDNcZc1OI2Wjnijlz2wWseHwQBh68ia6wADYU9+9825ltglU7QXDZUQjSauriUKCRFxkAFkUcHeucvMOwwG2xBRwK7sW6oFbyo0qzA6WpV5yXmnUwD4BXR7CCz/7bESQ++YwlQzvNp/Js7yfky/kF12kwgK2+lN4AAAAASUVORK5CYII=",Ka="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAMAAADUivDaAAAAgVBMVEUAAABmZmZmZmZnZ2dmZmZmZmZnZ2dmZmaFhYVmZmZmZmZoaGhmZmZmZmZnZ2dycnJmZmZnZ2dmZmZoaGhnZ2dnZ2dnZ2dra2tsbGxmZmZnZ2doaGhpaWlqampnZ2dmZmZnZ2dnZ2dnZ2doaGhmZmZnZ2dnZ2dpaWloaGhmZmZmZmbCiVCBAAAAKnRSTlMAvcKrm/rk1QTR1y3u56QI9vNxIciJghIO3GI/Jxm2empbU0ixkUw5MpW8GF2PAAACLUlEQVRYw+2WyZaqMBBAowgyTzIKKKionf//wGcl/UzTGc9h0wvvMgmXpCpJBX34YEqQl/HGIxTvxsFi7I4NUvCYW8zImBf/xLnKJ3DCgEYB3MWCOraxqSKqRYb+vYS03d4sIH53Hvb/aSMM5ALDNcMEr3oiKf0MAsASGGwquCM51+9QwdANrw9J3+gqku1hBq+ofWgOO7nAPbNYpyLFjhh6ueFQYEpbXeutQNHbsIpOYXC+p3+HlYoUN5ImraF9IECkeEK/78oNdMd8JUiqKGHARR5Jj2QLBkgVPkwCSamYQaboYUgpNTxJrCekUhxB8VAvo0RKxRn+Igom+4GfLPZp13XBYtAXHF4ko4Af8HPkd4WHGHzCY7WAXxq/9bs1Cjflp2iuYBfeuEZB8xGsUkC2UneVAlJaoFUKuG136xSZSHF71YLSWGGLFD4UAWNFuF6x3cYlV4P3OoUe/88olofXerXszQU0xvOiZYZKhsxJ8Iszd/HhxFxxgPHTommiLx9jjvwtNNAtaAy8MrKEP46Ra2poUsEjJ9dUZUH5nH7HB1YSNmaGIYV1NPzdZB6NG0kpb864W1ZZoyMaTH5r2HfDhOKjqFxsiCPXz0Fe3Gqfdg7KbUnfnQVdhuThidNKmph6tjHgDNJf+Jhgn8ag5j4P8g0V4EIx0eaE36SR84PIZj2x8jy6Y4Q1OJN2+1epShDmickZmqxM8n18Mb5T3MclL3cLqvHydNEHDf8AMIJ4U26LtJ4AAAAASUVORK5CYII=";const Om=t=>(de("data-v-d93d937b"),t=t(),fe(),t),LD={class:"recommend"},DD={class:"cover"},OD=["src"],PD=["onClick"],FD={class:"info"},MD={class:"user"},BD=["src"],ND={class:"right"},UD={class:"like"},$D=["onClick"],GD={key:0,src:Ha,alt:""},HD={key:1,src:Yi,alt:""},jD=["textContent"],KD=Om(()=>_("div",{class:"comments"},[_("img",{class:"pg",src:ja,alt:""}),_("p",null,"0")],-1)),VD=["onClick"],WD=Om(()=>_("img",{src:Ka,alt:""},null,-1)),zD=[WD],YD={__name:"ReCommended",setup(t){const e=ze();let n=Z(0);const i=()=>{var p;console.log(11111),console.log(xv({limit:n.value*10})),(p=xv({limit:n.value*10}))==null||p.then(l=>{console.log(l),s.value=[...s.value,l.data.data.feeds],Xt(()=>{n.value++,n.value>=10&&(u.value=!0)}).finally(()=>{Xt(()=>{o.value=!1})})})};let s=Z([]);const o=Z(!1),u=Z(!1),m=()=>{console.log("\u89E6\u5E95\u4E86",n.value),i()};return(p,l)=>{const y=Wt("van-list");return N(),$("div",LD,[at(y,{loading:o.value,"onUpdate:loading":l[0]||(l[0]=v=>o.value=v),finished:u.value,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:m},{default:Jt(()=>[(N(!0),$(ht,null,At(X(s),v=>(N(),$("div",{class:"recommendvideo",key:v},[(N(!0),$(ht,null,At(v,f=>(N(),$("div",{class:"video",key:f},[_("div",DD,[_("img",{class:"page",src:`${f.shareInfo.img}`,alt:""},null,8,OD),_("span",null,Q(f.title),1),_("img",{class:"playpage",src:Us,alt:"",onClick:b=>p.$router.push({path:"./PlayBigVideo",query:{url:f.video.url,img:f.user.avatarurl,name:f.user.nickName,title:f.title}})},null,8,PD),_("p",null,Q(String(Math.floor(f.video.dur/60)).padStart(2,"0"))+":"+Q(String(f.video.dur%60).padStart(2,"0")),1)]),_("div",FD,[_("div",MD,[_("img",{class:"avatarurl",src:`${f.user.avatarurl}`,alt:""},null,8,BD),_("p",null,Q(f.user.nickName),1)]),_("div",ND,[_("div",UD,[_("div",{class:"praise",onClick:b=>X(e).givelike({id:f.id})},[X(e).feeds.includes(f.id)?pt("",!0):(N(),$("img",GD)),X(e).feeds.includes(f.id)?(N(),$("img",HD)):pt("",!0)],8,$D),_("div",{class:"text",textContent:Q(X(e).feeds.includes(f.id)?f.upCount+1:f.upCount)},null,8,jD)]),KD,_("div",{class:"share",onClick:b=>p.share(v.video.url)},zD,8,VD)])])]))),128))]))),128))]),_:1},8,["loading","finished"])])}}},qD=Te(YD,[["__scopeId","data-v-d93d937b"]]);const Pm=t=>(de("data-v-42bee3c4"),t=t(),fe(),t),QD={class:"recommend"},ZD={class:"cover"},JD=["src"],XD=["onClick"],t2={class:"info"},e2={class:"user"},n2=["src"],r2={class:"right"},i2={class:"like"},s2=["onClick"],a2={key:0,src:Ha,alt:""},o2={key:1,src:Yi,alt:""},l2=["textContent"],u2=Pm(()=>_("div",{class:"comments"},[_("img",{class:"pg",src:ja,alt:""}),_("p",null,"0")],-1)),c2=Pm(()=>_("div",{class:"share"},[_("img",{src:Ka,alt:""})],-1)),d2={__name:"InterPretation",setup(t){const e=ze();let n=Z(0);const i=()=>{var p;(p=mx({limit:n.value*10}))==null||p.then(l=>{console.log(l),s.value=[...s.value,l.data.data.feeds],Xt(()=>{n.value++,n.value>=10&&(u.value=!0)}).finally(()=>{Xt(()=>{o.value=!1})})})};let s=Z([]);const o=Z(!1),u=Z(!1),m=()=>{console.log("\u89E6\u5E95\u4E86",n.value),i()};return(p,l)=>{const y=Wt("van-list");return N(),$("div",QD,[at(y,{loading:o.value,"onUpdate:loading":l[0]||(l[0]=v=>o.value=v),finished:u.value,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:m},{default:Jt(()=>[(N(!0),$(ht,null,At(X(s),v=>(N(),$("div",{class:"recommendvideo",key:v},[(N(!0),$(ht,null,At(v,f=>(N(),$("div",{class:"video",key:f},[_("div",ZD,[_("img",{class:"page",src:`${f.shareInfo.img}`,alt:""},null,8,JD),_("span",null,Q(f.title),1),_("img",{class:"playpage",src:Us,alt:"",onClick:b=>p.$router.push({path:"./PlayBigVideo",query:{url:f.video.url,img:f.user.avatarurl,name:f.user.nickName,title:f.title}})},null,8,XD),_("p",null,Q(String(Math.floor(f.video.dur/60)).padStart(2,"0"))+":"+Q(String(f.video.dur%60).padStart(2,"0")),1)]),_("div",t2,[_("div",e2,[_("img",{class:"avatarurl",src:`${f.user.avatarurl}`,alt:""},null,8,n2),_("p",null,Q(f.user.nickName),1)]),_("div",r2,[_("div",i2,[_("div",{class:"praise",onClick:b=>X(e).givelike({id:f.id})},[X(e).feeds.includes(f.id)?pt("",!0):(N(),$("img",a2)),X(e).feeds.includes(f.id)?(N(),$("img",o2)):pt("",!0)],8,s2),_("div",{class:"text",textContent:Q(X(e).feeds.includes(f.id)?f.upCount+1:f.upCount)},null,8,l2)]),u2,c2])])]))),128))]))),128))]),_:1},8,["loading","finished"])])}}},f2=Te(d2,[["__scopeId","data-v-42bee3c4"]]);const Fm=t=>(de("data-v-e2d0932d"),t=t(),fe(),t),h2={class:"recommend"},g2={class:"cover"},v2=["src"],p2=["onClick"],m2={class:"info"},y2={class:"user"},_2=["src"],A2={class:"right"},E2={class:"like"},b2=["onClick"],T2={key:0,src:Ha,alt:""},S2={key:1,src:Yi,alt:""},k2=["textContent"],w2=Fm(()=>_("div",{class:"comments"},[_("img",{class:"pg",src:ja,alt:""}),_("p",null,"0")],-1)),C2=Fm(()=>_("div",{class:"share"},[_("img",{src:Ka,alt:""})],-1)),R2={__name:"QuickView",setup(t){const e=ze();let n=Z(0);const i=()=>{var p;(p=_x({limit:n.value*10}))==null||p.then(l=>{console.log(l),s.value=[...s.value,l.data.data.feeds],Xt(()=>{n.value++,n.value>=10&&(u.value=!0)}).finally(()=>{Xt(()=>{o.value=!1})})})};let s=Z([]);const o=Z(!1),u=Z(!1),m=()=>{console.log("\u89E6\u5E95\u4E86",n.value),i()};return(p,l)=>{const y=Wt("van-list");return N(),$("div",h2,[at(y,{loading:o.value,"onUpdate:loading":l[0]||(l[0]=v=>o.value=v),finished:u.value,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:m},{default:Jt(()=>[(N(!0),$(ht,null,At(X(s),v=>(N(),$("div",{class:"recommendvideo",key:v},[(N(!0),$(ht,null,At(v,f=>(N(),$("div",{class:"video",key:f},[_("div",g2,[_("img",{class:"page",src:`${f.shareInfo.img}`,alt:""},null,8,v2),_("span",null,Q(f.title),1),_("img",{class:"playpage",src:Us,alt:"",onClick:b=>p.$router.push({path:"./PlayBigVideo",query:{url:f.video.url,img:f.user.avatarurl,name:f.user.nickName,title:f.title}})},null,8,p2),_("p",null,Q(String(Math.floor(f.video.dur/60)).padStart(2,"0"))+":"+Q(String(f.video.dur%60).padStart(2,"0")),1)]),_("div",m2,[_("div",y2,[_("img",{class:"avatarurl",src:`${f.user.avatarurl}`,alt:""},null,8,_2),_("p",null,Q(f.user.nickName),1)]),_("div",A2,[_("div",E2,[_("div",{class:"praise",onClick:b=>X(e).givelike({id:f.id})},[X(e).feeds.includes(f.id)?pt("",!0):(N(),$("img",T2)),X(e).feeds.includes(f.id)?(N(),$("img",S2)):pt("",!0)],8,b2),_("div",{class:"text",textContent:Q(X(e).feeds.includes(f.id)?f.upCount+1:f.upCount)},null,8,k2)]),w2,C2])])]))),128))]))),128))]),_:1},8,["loading","finished"])])}}},x2=Te(R2,[["__scopeId","data-v-e2d0932d"]]);const Mm=t=>(de("data-v-78ca32f8"),t=t(),fe(),t),I2={class:"recommend"},L2={class:"cover"},D2=["src"],O2=["onClick"],P2={class:"info"},F2={class:"user"},M2=["src"],B2={class:"right"},N2={class:"like"},U2=["onClick"],$2={key:0,src:Ha,alt:""},G2={key:1,src:Yi,alt:""},H2=["textContent"],j2=Mm(()=>_("div",{class:"comments"},[_("img",{class:"pg",src:ja,alt:""}),_("p",null,"0")],-1)),K2=Mm(()=>_("div",{class:"share"},[_("img",{src:Ka,alt:""})],-1)),V2={__name:"PlotView",setup(t){const e=ze();let n=Z(0);const i=()=>{var p;(p=Ax({limit:n.value*10}))==null||p.then(l=>{console.log(l),s.value=[...s.value,l.data.data.feeds],Xt(()=>{n.value++,n.value>=10&&(u.value=!0)}).finally(()=>{Xt(()=>{o.value=!1})})})};let s=Z([]);const o=Z(!1),u=Z(!1),m=()=>{console.log("\u89E6\u5E95\u4E86",n.value),i()};return(p,l)=>{const y=Wt("van-list");return N(),$("div",I2,[at(y,{loading:o.value,"onUpdate:loading":l[0]||(l[0]=v=>o.value=v),finished:u.value,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:m},{default:Jt(()=>[(N(!0),$(ht,null,At(X(s),v=>(N(),$("div",{class:"recommendvideo",key:v},[(N(!0),$(ht,null,At(v,f=>(N(),$("div",{class:"video",key:f},[_("div",L2,[_("img",{class:"page",src:`${f.shareInfo.img}`,alt:""},null,8,D2),_("span",null,Q(f.title),1),_("img",{class:"playpage",src:Us,alt:"",onClick:b=>p.$router.push({path:"./PlayBigVideo",query:{url:f.video.url,img:f.user.avatarurl,name:f.user.nickName,title:f.title}})},null,8,O2),_("p",null,Q(String(Math.floor(f.video.dur/60)).padStart(2,"0"))+":"+Q(String(f.video.dur%60).padStart(2,"0")),1)]),_("div",P2,[_("div",F2,[_("img",{class:"avatarurl",src:`${f.user.avatarurl}`,alt:""},null,8,M2),_("p",null,Q(f.user.nickName),1)]),_("div",B2,[_("div",N2,[_("div",{class:"praise",onClick:b=>X(e).givelike({id:f.id})},[X(e).feeds.includes(f.id)?pt("",!0):(N(),$("img",$2)),X(e).feeds.includes(f.id)?(N(),$("img",G2)):pt("",!0)],8,U2),_("div",{class:"text",textContent:Q(X(e).feeds.includes(f.id)?f.upCount+1:f.upCount)},null,8,H2)]),j2,K2])])]))),128))]))),128))]),_:1},8,["loading","finished"])])}}},W2=Te(V2,[["__scopeId","data-v-78ca32f8"]]);const Bm=t=>(de("data-v-c2eb95b4"),t=t(),fe(),t),z2={class:"recommend"},Y2={class:"cover"},q2=["src"],Q2=["onClick"],Z2={class:"info"},J2={class:"user"},X2=["src"],tO={class:"right"},eO={class:"like"},nO=["onClick"],rO={key:0,src:Ha,alt:""},iO={key:1,src:Yi,alt:""},sO=["textContent"],aO=Bm(()=>_("div",{class:"comments"},[_("img",{class:"pg",src:ja,alt:""}),_("p",null,"0")],-1)),oO=Bm(()=>_("div",{class:"share"},[_("img",{src:Ka,alt:""})],-1)),lO={__name:"TrailerView",setup(t){const e=ze();let n=Z(0);const i=()=>{var p;(p=yx({limit:n.value*10}))==null||p.then(l=>{console.log(l),s.value=[...s.value,l.data.data.feeds],Xt(()=>{n.value++,n.value>=10&&(u.value=!0)}).finally(()=>{Xt(()=>{o.value=!1})})})};let s=Z([]);const o=Z(!1),u=Z(!1),m=()=>{console.log("\u89E6\u5E95\u4E86",n.value),i()};return(p,l)=>{const y=Wt("van-list");return N(),$("div",z2,[at(y,{loading:o.value,"onUpdate:loading":l[0]||(l[0]=v=>o.value=v),finished:u.value,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:m},{default:Jt(()=>[(N(!0),$(ht,null,At(X(s),v=>(N(),$("div",{class:"recommendvideo",key:v},[(N(!0),$(ht,null,At(v,f=>(N(),$("div",{class:"video",key:f},[_("div",Y2,[_("img",{class:"page",src:`${f.shareInfo.img}`,alt:""},null,8,q2),_("span",null,Q(f.title),1),_("img",{class:"playpage",src:Us,alt:"",onClick:b=>p.$router.push({path:"./PlayBigVideo",query:{url:f.video.url,img:f.user.avatarurl,name:f.user.nickName,title:f.title}})},null,8,Q2),_("p",null,Q(String(Math.floor(f.video.dur/60)).padStart(2,"0"))+":"+Q(String(f.video.dur%60).padStart(2,"0")),1)]),_("div",Z2,[_("div",J2,[_("img",{class:"avatarurl",src:`${f.user.avatarurl}`,alt:""},null,8,X2),_("p",null,Q(f.user.nickName),1)]),_("div",tO,[_("div",eO,[_("div",{class:"praise",onClick:b=>X(e).givelike({id:f.id})},[X(e).feeds.includes(f.id)?pt("",!0):(N(),$("img",rO)),X(e).feeds.includes(f.id)?(N(),$("img",iO)):pt("",!0)],8,nO),_("div",{class:"text",textContent:Q(X(e).feeds.includes(f.id)?f.upCount+1:f.upCount)},null,8,sO)]),aO,oO])])]))),128))]))),128))]),_:1},8,["loading","finished"])])}}},uO=Te(lO,[["__scopeId","data-v-c2eb95b4"]]);const cO=t=>(de("data-v-eb8be72c"),t=t(),fe(),t),dO={key:0,class:"lodaing"},fO=cO(()=>_("div",{class:"img"},[_("img",{class:"img1",src:yi,alt:""}),_("img",{class:"img2",src:_i,alt:""})],-1)),hO=[fO],gO={__name:"VideoView",setup(t){const e=Z(!1),n=Z(0);return(i,s)=>{const o=Wt("van-tab"),u=Wt("van-tabs");return N(),$("div",null,[at(u,{active:n.value,"onUpdate:active":s[0]||(s[0]=m=>n.value=m),class:"van"},{default:Jt(()=>[at(o,{title:"\u63A8\u8350"},{default:Jt(()=>[at(qD)]),_:1}),at(o,{title:"\u70ED\u7247\u89E3\u8BFB"},{default:Jt(()=>[at(f2)]),_:1}),at(o,{title:"\u65B0\u7247\u9884\u544A"},{default:Jt(()=>[at(uO)]),_:1}),at(o,{title:"\u901F\u770B\u7535\u5F71"},{default:Jt(()=>[at(x2)]),_:1}),at(o,{title:"\u5267\u60C5\u7EFC\u5408"},{default:Jt(()=>[at(W2)]),_:1})]),_:1},8,["active"]),e.value?(N(),$("div",dO,hO)):pt("",!0)])}}},vO=Te(gO,[["__scopeId","data-v-eb8be72c"]]),Fl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAA/FBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////rACn////rBS3+/f3++vrsDDP70tn0e5DsEjj2j6HtGD395+v84+f2lab+8/T6wMrwSmfvNVXuMFH4qbbuJkj97vD82d/yW3XxUGzvPVz7ztXuK0396u35ucT5tcH4sb3xVXDvOln//Pz71tz6yND1g5b0dIrwRGL+9vf6xM34rbr83OHzbYT3nazzaYHyYHntHkL3man1iZv84OT3o7H1h5rwP133nKvAjPGOAAAAHHRSTlMA0K9vBmHu+ffs6+XfyLeNbFlQPjgyHxgKiO+J+k7jUgAABXBJREFUWMOc1WlT4kAQxnEO8T7X2+3/jJggGFApQClRwKsotbR84ff/LpvM5FhYjrC/d0rx0D3TnWSm2S8c57LrK0tLK+vZ3HFhP/M/DrdzJ4w4yW0fzpeysLOpsbRXbjTKXvzn5s5C6pij/BoBr+O02koM1W45HY/AWv4oXU5+FV+51FUyQnVLZXyr+RQxe1l8dzUlY6naHb7s3qzD2cJ3fylTXN7j25p6VAcbQP9FZnjpAxsHk3N2F6HnKJlJOaewuDsp59cyVG4klZsKLP8an1PQUHUlJbcKujC2Hg0DJampAegxNe0uw7vMQ73D8u4/97UIA5nTABYPRuZnA6qmr3fnU2b6dEzxqgobw/O0BRXXTBvoalNNbalZ1WBm1q3A1tBeQM/eu0Og0ZSJmg0Cjp2CU/h7W7LRB1LFOovmya13W61u3Y3m5wyrKtEPZ5OcPPRtN8VTIj9Ft1W67RHq3ZZabvGHyGnR9tmHfPz8WYVwv2okPM0I7ZGohXsHq0dJQfcSVZqaI9Z9XNLCmrkD45rUrsW6hDU7AjtwJ6EzUjuT0B3smKBN06/1SmqvEqrBpnnvaMpKrHPmcC6WKqODt9Q2lCR0xRyuJFSCbT8oB92kyvSS8+hCzg86wVPx+DOHeI2Ux4n/foeORD5IvBKZ8M8PiXRgP1MARyKPWBWnraR4U3odCindFEW1nQrWo0QcKGR+Q0tCDxj6Kb7FDrFOfEtPGuNBQi04Ds66PTyOuimJL0Jfkmjq4ZFsB6edRat42I0nCdTf3OghCNHj032rS+AJ4zKqUZPNrONJ6ILAt83th8vU7uHrtcNV7NtvfhO4kJDHemaFsoT6BJ7FiCvv4OvEvYvxjM+kGmVWMks0xHJt5/UkKBmJj5GgOgHtitVg6U8p5raUOBCE4Vq31itr7/auO8yoBIbDJAEJCQQNsDEoiMD7P8yGmcr02q6Ctd8VlQp/ZQ59+PsvoZHNfMCEDlhxYEJgM+mIhKqltekQKyIupE1ccaEIEenitKulXbm/ru3neiRElytjQp7dhrWTvaqPnwJNkxBl3xsmpOtwo+O/sNtLoT9nQjFWxExoTgnAbv3FMUQW2WreVOoRDZE9igJVvXO0GwoLe8ARGh6Vas5X2eIYIj+Qs7MVbmTv8gANA3vPR7aa7ZDzo0ojFZ0y7qZpgpY9OGSM2Hh4aCDGEhx7tCRp2o1LU+x+mcR2S9fVMN3UGXOAmGgAnSAO6oy4maLBBYHs4KVNtYc6ZdaIYNiXcJuagHJJIL0F2R8GVNVn7iZf1Mk/XKu8wyvp1ia5McDYJrOtfUR0crUOTfK35Shq43u61QtWCbw2GprQxfe0I1OOTIGsKIPFnX5BQoRamKueSZk1zBM9Fki86LtFUOKRn3XJTjLfbluEROzpQjSuexAE0LtuiEJ7MRKRtNk4S+qS7ZqIvvE+RK7Bk+BPEac+SA90/HZJzb5rIlxbk4JcDZAjCrWdCvNrulW5QM5gJSE1bY1rtFRyfH3yPB7+PquDGI6fJ0fhRFGjZT6por3wzae28CQtsyh/YU/z+5tmNFm7YhbjCWJX4tYJ4re37bE4UIA1xafLalLYUXtMDXvLB8fm6R4/4P5pAw6/RQ07WYjCAyJ8vP+nTBAC4RVkIcjUcJPlrwrBb8PK50bLmhpuswLmQeTyZpe/RkJEr/nuZimZJwnIZnHjx5U4XIeMH7eiuQ9n4ufMijJz3JrBWcxa3Bxzuy7m59j1Odn1jwcI5ekBQmkHCKdHGrNPV0UjjdNDlm4PPqDXpSHLeWMftXw/9lkqGvt8YRAVTfZZKMEgw2w/iWgQ9fXRGIqkLBOBXx+N0bDuEhmXp4d1/z8+/AMCpvk8GZjF1AAAAABJRU5ErkJggg==",Nm="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAVFBMVEX///////////////////////////9MaXH///////////////////////////////////////////////////////////////////////////////9PSapkAAAAHHRSTlPkmKSwFxBzANnhjGm7Qsstgl/RAwgmNlEgw1lKNHtxkwAAAtdJREFUeNqFlt3SqyAMRTcCBhAE8b++/3ueCVrb+rWedWEpZQFJZkxBV/qpS6KSlajnhf5yEYbgMl74Ot4KQ20AW9VdiOM0N8kDWLefQt9lWDFrerE0EpDTd2FcYZ2iK5MHxPBFCAbVSN+YW3j1R2gsavqBlsjTRahhNvpJ72Dih7DxxB0NWvUmRGMD0RT67zd6KCIHOZyCbtEQkUdba7oyCsu/9hLuFGoI1gDAND0PxynEhXdUwgKQ+67xEJQxirOHgu9Ei4L1qTH7iN0H5CG4PaEJv5k4VR6hCIvNJZzqRniU0sIXoTkq1t4IiRiPhQWJsRTH3giCmJrTBYWVGIUbJDGRP9Ed5424YaVCazXBIRzFB5C7qKfGYMfPo56SBWAXYngtJGIJgWOuNDFKgkk9MVPm8RkEWig6ypY1kXKKS3ncO9T8AGDKVnx9GNs/q9CVuUfZChjLrOLnsxIbHMFmYgwvOYUJMHQKrDsq04JP4OEAAMMpKEC+hJnD22vtCBm6rLie0H6eIM8YPMb9hPsYqjNLAtK3OeM9S5ojEs8sbQBgc7vKFRuhgamESx58riZGe6zCINGrDqicE9JiISzwex2Y3MSBOoO1pwj4SDqUSsPyVmUpyCM0YrU4cJF/D5TAgWccGO/mGjULHGCuksPOWso8a8H3iM/ljZO8ZWQhIo98VYOdNDoRHjk2ol48dirF7+qSanDWOt20702hExYmdcngRG69xLwLozUGbR2VxHeSDs6ghe93gRzyxuNB4Av2UVJdWwQ6BGWwUWFeceHsAQIVPQUK1sRnF/pQbDW93sb6FMpX9WpT1crRZv/WvjZrxo/+4NBGemNQPb3RWWz0IQwOZr7pJ3amU3j1rKTpG1Hy8VehdEXTDHRlEYBUX/u0Tpbrd/ljYJG793hw3Q1tmqdlID2GhzCAqQeii3Bt/YwFY0pmbwRGPVLl27x6UQfe/F74P/8ATZg8QbC+EK8AAAAASUVORK5CYII=",Um="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAP8A/wD/oL2nkwAAA+1JREFUeNrtmk+IVVUcxz8/HUlLq6kII5VpoRIhROIi+jv+RcXcGLrSRSC4EkbERdugRULQoly5spY5ENYimiIQF4oiin/GGMY/kCioQZql874tzn31vHP/vHn33nN8d94HZjHn3Pfu73zu79zz5x3o0aNHAubrRpJeA7YBi4H7wBjwnZmdCi3BG5L2SWoomRFJr4aO0YeEJZGECaXzh6Q3QsY5w8M93sZ1wax7zQOOSHq2ziKWtHGNAfOBT+ss4pU2rxOwM3qp1lLE61Ej82h2n70hRFSKpGWaGg1J/0h6znesVWfEh1O83oBZwPraiJA0C9hBe90izjrfIvoq/O4dwKIOPifA+wSrkim2pD5gFBjo8B63zczre6KqjNhJ+8NmEnN8SoAKMkLSS8B53Gyx03fQPTN7yqeIKjLiC+CZAp8XcMunBCh51JD0AbCFzkaKJgZc6loRkl4GDkYSina5875FlNI1JM0EvgGeLymun32LKAVJn09xKp3FRIgpdhkSPmpZJ5TBSIh2FOrLkjYAw8BMynvfHKZ413gIXAZ+A8bM7GFJsSVKWCPprxIzoSp+lzQk6cms9kwpI+SmzpuBXcDKTr4jAM1RbBwYNLPxQiIkLQe+BpaGblkBxoH3zOxKvKKtfi1pCDjW5RLALQIPJFXkZoSkPcB+ypkoPS4MmtkvrQWZGSFpO/BZzSQA7IsXpDZO0gBwDngCP5u8vhDwN9BvZvebhVkN/BK3L1AnCeAe/mzgrdbCxEZK2kiADVTPrMgVAewOHaUHXswUIWkpsDp0lB54IVMEbve5TiNEGv15IlZRbIepW7iXKkLS08BypkdG3EkVAbyJW1JPBzJFFPktotu4niViYejoPHImS8SC0NF55HTrP/Fd7Nmho/OAgOtmdrO1MJ4RD0JH6QEDjscLp6MIgB/yRNwNHaEnjsQL4u+I0dARVoyAs2Z2NV4Rz4gLoSOtGAO+Tav4D0mLcD+M1BEBDWDAzK7FKx/JiGib+yr1XHQZ8H2ShEkiIg5T30XXgbSKJBHDoaOtiJMkDJtNJj15ubMOY7h1R50yY62Z/ZhWOSkjzGwC+KRmEkayJJDWWLlTsxdwy/JuFtLAzZZXmNmZrAsTd7HN7AEwFEno5hFkBvBxngTIedqS9gN7QremACPAajPLfZh5IvqAn4B3Q7eoA0aBd8zsRjsXZ/6cFx252cj/i5Ru6SbXgDXtSsgVEcn4E3dK5iu648V5EViZdBikNCS9L+lEy/mkx+381CFJc73olmSStkoalnQ3dMsjfpW0qUi7ih4vnAMM4o4UzY/++ot+bxs0cIvDi8BRMztZ8f169Jiu/AtJfd3zcxJ0FgAAAABJRU5ErkJggg==",dn=t=>t!=null,Hc=t=>typeof t=="function",Va=t=>t!==null&&typeof t=="object",pO=t=>Va(t)&&Hc(t.then)&&Hc(t.catch),$m=t=>typeof t=="number"||/^\d+(\.\d+)?$/.test(t),mO=()=>Wa?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function Rd(){}const kn=Object.assign,Wa=typeof window<"u";function Lv(t,e){const n=e.split(".");let i=t;return n.forEach(s=>{var o;i=Va(i)&&(o=i[s])!=null?o:""}),i}function Gm(t,e,n){return e.reduce((i,s)=>((!n||t[s]!==void 0)&&(i[s]=t[s]),i),{})}const vi=null,me=[Number,String],He={type:Boolean,default:!0},dc=t=>({type:t,required:!0}),Hm=t=>({type:Number,default:t}),Dn=t=>({type:me,default:t}),We=t=>({type:String,default:t});var vr=typeof window<"u";function Ma(t){return vr?requestAnimationFrame(t):-1}function _a(t){Ma(()=>Ma(t))}var yO=t=>t===window,Dv=(t,e)=>({top:0,left:0,right:t,bottom:e,width:t,height:e}),On=t=>{const e=X(t);if(yO(e)){const n=e.innerWidth,i=e.innerHeight;return Dv(n,i)}return e!=null&&e.getBoundingClientRect?e.getBoundingClientRect():Dv(0,0)};function xd(t){const e=Tn(t,null);if(e){const n=jn(),{link:i,unlink:s,internalChildren:o}=e;i(n),jr(()=>s(n));const u=jt(()=>o.indexOf(n));return{parent:e,index:u}}return{parent:null,index:Z(-1)}}function _O(t){const e=[],n=i=>{Array.isArray(i)&&i.forEach(s=>{var o;ul(s)&&(e.push(s),(o=s.component)!=null&&o.subTree&&(e.push(s.component.subTree),n(s.component.subTree.children)),s.children&&n(s.children))})};return n(t),e}function AO(t,e,n){const i=_O(t.subTree.children);n.sort((o,u)=>i.indexOf(o.vnode)-i.indexOf(u.vnode));const s=n.map(o=>o.proxy);e.sort((o,u)=>{const m=s.indexOf(o),p=s.indexOf(u);return m-p})}function Id(t){const e=Je([]),n=Je([]),i=jn();return{children:e,linkChildren:o=>{gi(t,Object.assign({link:p=>{p.proxy&&(n.push(p),e.push(p.proxy),AO(i,e,n))},unlink:p=>{const l=n.indexOf(p);e.splice(l,1),n.splice(l,1)},children:e,internalChildren:n},o))}}}function Ml(t){let e;hn(()=>{t(),Xt(()=>{e=!0})}),Na(()=>{e&&t()})}function Gr(t,e,n={}){if(!vr)return;const{target:i=window,passive:s=!1,capture:o=!1}=n;let u;const m=l=>{const y=X(l);y&&!u&&(y.addEventListener(t,e,{capture:o,passive:s}),u=!0)},p=l=>{const y=X(l);y&&u&&(y.removeEventListener(t,e,o),u=!1)};jr(()=>p(i)),Ds(()=>p(i)),Ml(()=>m(i)),Fe(i)&&ce(i,(l,y)=>{p(y),m(l)})}var zo,fc;function EO(){if(!zo&&(zo=Z(0),fc=Z(0),vr)){const t=()=>{zo.value=window.innerWidth,fc.value=window.innerHeight};t(),window.addEventListener("resize",t,{passive:!0}),window.addEventListener("orientationchange",t,{passive:!0})}return{width:zo,height:fc}}var bO=/scroll|auto|overlay/i,jm=vr?window:void 0;function TO(t){return t.tagName!=="HTML"&&t.tagName!=="BODY"&&t.nodeType===1}function Ld(t,e=jm){let n=t;for(;n&&n!==e&&TO(n);){const{overflowY:i}=window.getComputedStyle(n);if(bO.test(i))return n;n=n.parentNode}return e}function za(t,e=jm){const n=Z();return hn(()=>{t.value&&(n.value=Ld(t.value,e))}),n}var Yo;function SO(){if(!Yo&&(Yo=Z("visible"),vr)){const t=()=>{Yo.value=document.hidden?"hidden":"visible"};t(),window.addEventListener("visibilitychange",t)}return Yo}function Wi(t){const e="scrollTop"in t?t.scrollTop:t.pageYOffset;return Math.max(e,0)}function jc(t,e){"scrollTop"in t?t.scrollTop=e:t.scrollTo(t.scrollX,e)}function Dd(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function Km(t){jc(window,t),jc(document.body,t)}function Ov(t,e){if(t===window)return 0;const n=e?Wi(e):Dd();return On(t).top+n}mO();const kO=t=>t.stopPropagation();function $s(t,e){(typeof t.cancelable!="boolean"||t.cancelable)&&t.preventDefault(),e&&kO(t)}function Rs(t){const e=X(t);if(!e)return!1;const n=window.getComputedStyle(e),i=n.display==="none",s=e.offsetParent===null&&n.position!=="fixed";return i||s}const{width:Od,height:Vm}=EO();function mn(t){if(dn(t))return $m(t)?`${t}px`:String(t)}function Wm(t){if(dn(t)){if(Array.isArray(t))return{width:mn(t[0]),height:mn(t[1])};const e=mn(t);return{width:e,height:e}}}function Pd(t){const e={};return t!==void 0&&(e.zIndex=+t),e}let hc;function wO(){if(!hc){const t=document.documentElement,e=t.style.fontSize||window.getComputedStyle(t).fontSize;hc=parseFloat(e)}return hc}function CO(t){return t=t.replace(/rem/g,""),+t*wO()}function RO(t){return t=t.replace(/vw/g,""),+t*Od.value/100}function xO(t){return t=t.replace(/vh/g,""),+t*Vm.value/100}function zm(t){if(typeof t=="number")return t;if(Wa){if(t.includes("rem"))return CO(t);if(t.includes("vw"))return RO(t);if(t.includes("vh"))return xO(t)}return parseFloat(t)}const IO=/-(\w)/g,Ym=t=>t.replace(IO,(e,n)=>n.toUpperCase()),LO=t=>t.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,""),gc=(t,e,n)=>Math.min(Math.max(t,e),n),{hasOwnProperty:DO}=Object.prototype;function OO(t,e,n){const i=e[n];!dn(i)||(!DO.call(t,n)||!Va(i)?t[n]=i:t[n]=qm(Object(t[n]),i))}function qm(t,e){return Object.keys(e).forEach(n=>{OO(t,e,n)}),t}var PO={name:"\u59D3\u540D",tel:"\u7535\u8BDD",save:"\u4FDD\u5B58",confirm:"\u786E\u8BA4",cancel:"\u53D6\u6D88",delete:"\u5220\u9664",loading:"\u52A0\u8F7D\u4E2D...",noCoupon:"\u6682\u65E0\u4F18\u60E0\u5238",nameEmpty:"\u8BF7\u586B\u5199\u59D3\u540D",addContact:"\u6DFB\u52A0\u8054\u7CFB\u4EBA",telInvalid:"\u8BF7\u586B\u5199\u6B63\u786E\u7684\u7535\u8BDD",vanCalendar:{end:"\u7ED3\u675F",start:"\u5F00\u59CB",title:"\u65E5\u671F\u9009\u62E9",weekdays:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],monthTitle:(t,e)=>`${t}\u5E74${e}\u6708`,rangePrompt:t=>`\u6700\u591A\u9009\u62E9 ${t} \u5929`},vanCascader:{select:"\u8BF7\u9009\u62E9"},vanPagination:{prev:"\u4E0A\u4E00\u9875",next:"\u4E0B\u4E00\u9875"},vanPullRefresh:{pulling:"\u4E0B\u62C9\u5373\u53EF\u5237\u65B0...",loosing:"\u91CA\u653E\u5373\u53EF\u5237\u65B0..."},vanSubmitBar:{label:"\u5408\u8BA1:"},vanCoupon:{unlimited:"\u65E0\u95E8\u69DB",discount:t=>`${t}\u6298`,condition:t=>`\u6EE1${t}\u5143\u53EF\u7528`},vanCouponCell:{title:"\u4F18\u60E0\u5238",count:t=>`${t}\u5F20\u53EF\u7528`},vanCouponList:{exchange:"\u5151\u6362",close:"\u4E0D\u4F7F\u7528",enable:"\u53EF\u7528",disabled:"\u4E0D\u53EF\u7528",placeholder:"\u8F93\u5165\u4F18\u60E0\u7801"},vanAddressEdit:{area:"\u5730\u533A",postal:"\u90AE\u653F\u7F16\u7801",areaEmpty:"\u8BF7\u9009\u62E9\u5730\u533A",addressEmpty:"\u8BF7\u586B\u5199\u8BE6\u7EC6\u5730\u5740",postalEmpty:"\u90AE\u653F\u7F16\u7801\u4E0D\u6B63\u786E",addressDetail:"\u8BE6\u7EC6\u5730\u5740",defaultAddress:"\u8BBE\u4E3A\u9ED8\u8BA4\u6536\u8D27\u5730\u5740"},vanAddressList:{add:"\u65B0\u589E\u5730\u5740"}};const Pv=Z("zh-CN"),Fv=Je({"zh-CN":PO}),FO={messages(){return Fv[Pv.value]},use(t,e){Pv.value=t,this.add({[t]:e})},add(t={}){qm(Fv,t)}};var MO=FO;function BO(t){const e=Ym(t)+".";return(n,...i)=>{const s=MO.messages(),o=Lv(s,e+n)||Lv(s,n);return Hc(o)?o(...i):o}}function Kc(t,e){return e?typeof e=="string"?` ${t}--${e}`:Array.isArray(e)?e.reduce((n,i)=>n+Kc(t,i),""):Object.keys(e).reduce((n,i)=>n+(e[i]?Kc(t,i):""),""):""}function NO(t){return(e,n)=>(e&&typeof e!="string"&&(n=e,e=""),e=e?`${t}__${e}`:t,`${e}${Kc(e,n)}`)}function je(t){const e=`van-${t}`;return[e,NO(e),BO(e)]}const Fd="van-hairline",UO=`${Fd}--bottom`,$O=`${Fd}--surround`,Qm=`${Fd}--top-bottom`,GO="van-haptics-feedback";function Zm(t,{args:e=[],done:n,canceled:i}){if(t){const s=t.apply(null,e);pO(s)?s.then(o=>{o?n():i&&i()}).catch(Rd):s?n():i&&i()}else n()}function Xe(t){return t.install=e=>{const{name:n}=t;n&&(e.component(n,t),e.component(Ym(`-${n}`),t))},t}const Jm=Symbol();function Xm(t){const e=Tn(Jm,null);e&&ce(e,n=>{n&&t()})}function wr(t){const e=jn();e&&kn(e.proxy,t)}const Md={to:[String,Object],url:String,replace:Boolean};function t0({to:t,url:e,replace:n,$router:i}){t&&i?i[n?"replace":"push"](t):e&&(n?location.replace(e):location.href=e)}function e0(){const t=jn().proxy;return()=>t0(t)}const[HO,Mv]=je("badge"),jO={dot:Boolean,max:me,tag:We("div"),color:String,offset:Array,content:me,showZero:He,position:We("top-right")};var KO=Ee({name:HO,props:jO,setup(t,{slots:e}){const n=()=>{if(e.content)return!0;const{content:u,showZero:m}=t;return dn(u)&&u!==""&&(m||u!==0&&u!=="0")},i=()=>{const{dot:u,max:m,content:p}=t;if(!u&&n())return e.content?e.content():dn(m)&&$m(p)&&+p>m?`${m}+`:p},s=jt(()=>{const u={background:t.color};if(t.offset){const[m,p]=t.offset;e.default?(u.top=mn(p),typeof m=="number"?u.right=mn(-m):u.right=m.startsWith("-")?m.replace("-",""):`-${m}`):(u.marginTop=mn(p),u.marginLeft=mn(m))}return u}),o=()=>{if(n()||t.dot)return at("div",{class:Mv([t.position,{dot:t.dot,fixed:!!e.default}]),style:s.value},[i()])};return()=>{if(e.default){const{tag:u}=t;return at(u,{class:Mv("wrapper")},{default:()=>[e.default(),o()]})}return o()}}});const n0=Xe(KO);let r0=2e3;const VO=()=>++r0,WO=t=>{r0=t},[i0,zO]=je("config-provider"),s0=Symbol(i0),YO={tag:We("div"),zIndex:Number,themeVars:Object,iconPrefix:String};function qO(t){const e={};return Object.keys(t).forEach(n=>{e[`--van-${LO(n)}`]=t[n]}),e}Ee({name:i0,props:YO,setup(t,{slots:e}){const n=jt(()=>{if(t.themeVars)return qO(t.themeVars)});return gi(s0,t),fk(()=>{t.zIndex!==void 0&&WO(t.zIndex)}),()=>at(t.tag,{class:zO(),style:n.value},{default:()=>{var i;return[(i=e.default)==null?void 0:i.call(e)]}})}});const[QO,Bv]=je("icon"),ZO=t=>t==null?void 0:t.includes("/"),JO={dot:Boolean,tag:We("i"),name:String,size:me,badge:me,color:String,badgeProps:Object,classPrefix:String};var XO=Ee({name:QO,props:JO,setup(t,{slots:e}){const n=Tn(s0,null),i=jt(()=>t.classPrefix||(n==null?void 0:n.iconPrefix)||Bv());return()=>{const{tag:s,dot:o,name:u,size:m,badge:p,color:l}=t,y=ZO(u);return at(n0,nr({dot:o,tag:s,class:[i.value,y?"":`${i.value}-${u}`],style:{color:l,fontSize:mn(m)},content:p},t.badgeProps),{default:()=>{var v;return[(v=e.default)==null?void 0:v.call(e),y&&at("img",{class:Bv("image"),src:u},null)]}})}}});const xs=Xe(XO),[tP,Ca]=je("loading"),eP=Array(12).fill(null).map((t,e)=>at("i",{class:Ca("line",String(e+1))},null)),nP=at("svg",{class:Ca("circular"),viewBox:"25 25 50 50"},[at("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),rP={size:me,type:We("circular"),color:String,vertical:Boolean,textSize:me,textColor:String};var iP=Ee({name:tP,props:rP,setup(t,{slots:e}){const n=jt(()=>kn({color:t.color},Wm(t.size))),i=()=>{var s;if(e.default)return at("span",{class:Ca("text"),style:{fontSize:mn(t.textSize),color:(s=t.textColor)!=null?s:t.color}},[e.default()])};return()=>{const{type:s,vertical:o}=t;return at("div",{class:Ca([s,{vertical:o}]),"aria-live":"polite","aria-busy":!0},[at("span",{class:Ca("spinner",s),style:n.value},[s==="spinner"?eP:nP]),i()])}}});const Bl=Xe(iP),[sP,fs]=je("button"),aP=kn({},Md,{tag:We("button"),text:String,icon:String,type:We("default"),size:We("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:We("button"),loadingSize:me,loadingText:String,loadingType:String,iconPosition:We("left")});var oP=Ee({name:sP,props:aP,emits:["click"],setup(t,{emit:e,slots:n}){const i=e0(),s=()=>n.loading?n.loading():at(Bl,{size:t.loadingSize,type:t.loadingType,class:fs("loading")},null),o=()=>{if(t.loading)return s();if(n.icon)return at("div",{class:fs("icon")},[n.icon()]);if(t.icon)return at(xs,{name:t.icon,class:fs("icon"),classPrefix:t.iconPrefix},null)},u=()=>{let l;if(t.loading?l=t.loadingText:l=n.default?n.default():t.text,l)return at("span",{class:fs("text")},[l])},m=()=>{const{color:l,plain:y}=t;if(l){const v={color:y?l:"white"};return y||(v.background=l),l.includes("gradient")?v.border=0:v.borderColor=l,v}},p=l=>{t.loading?$s(l):t.disabled||(e("click",l),i())};return()=>{const{tag:l,type:y,size:v,block:f,round:b,plain:S,square:d,loading:h,disabled:c,hairline:g,nativeType:T,iconPosition:E}=t,A=[fs([y,v,{plain:S,block:f,round:b,square:d,loading:h,disabled:c,hairline:g}]),{[$O]:g}];return at(l,{type:T,class:A,style:m(),disabled:c,onClick:p},{default:()=>[at("div",{class:fs("content")},[E==="left"&&o(),u(),E==="right"&&o()])]})}}});const lP=Xe(oP),uP={show:Boolean,zIndex:me,overlay:He,duration:me,teleport:[String,Object],lockScroll:He,lazyRender:He,beforeClose:Function,overlayStyle:Object,overlayClass:vi,transitionAppear:Boolean,closeOnClickOverlay:He};function cP(t,e){return t>e?"horizontal":e>t?"vertical":""}function Nl(){const t=Z(0),e=Z(0),n=Z(0),i=Z(0),s=Z(0),o=Z(0),u=Z(""),m=()=>u.value==="vertical",p=()=>u.value==="horizontal",l=()=>{n.value=0,i.value=0,s.value=0,o.value=0,u.value=""};return{move:f=>{const b=f.touches[0];n.value=(b.clientX<0?0:b.clientX)-t.value,i.value=b.clientY-e.value,s.value=Math.abs(n.value),o.value=Math.abs(i.value);const S=10;(!u.value||s.value<S&&o.value<S)&&(u.value=cP(s.value,o.value))},start:f=>{l(),t.value=f.touches[0].clientX,e.value=f.touches[0].clientY},reset:l,startX:t,startY:e,deltaX:n,deltaY:i,offsetX:s,offsetY:o,direction:u,isVertical:m,isHorizontal:p}}let ca=0;const Nv="van-overflow-hidden";function dP(t,e){const n=Nl(),i="01",s="10",o=y=>{n.move(y);const v=n.deltaY.value>0?s:i,f=Ld(y.target,t.value),{scrollHeight:b,offsetHeight:S,scrollTop:d}=f;let h="11";d===0?h=S>=b?"00":"01":d+S>=b&&(h="10"),h!=="11"&&n.isVertical()&&!(parseInt(h,2)&parseInt(v,2))&&$s(y,!0)},u=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",o,{passive:!1}),ca||document.body.classList.add(Nv),ca++},m=()=>{ca&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",o),ca--,ca||document.body.classList.remove(Nv))},p=()=>e()&&u(),l=()=>e()&&m();Ml(p),Ds(l),Os(l),ce(e,y=>{y?u():m()})}function a0(t){const e=Z(!1);return ce(t,n=>{n&&(e.value=n)},{immediate:!0}),n=>()=>e.value?n():null}const[fP,hP]=je("overlay"),gP={show:Boolean,zIndex:me,duration:me,className:vi,lockScroll:He,lazyRender:He,customStyle:Object};var vP=Ee({name:fP,props:gP,setup(t,{slots:e}){const n=Z(),i=a0(()=>t.show||!t.lazyRender),s=u=>{t.lockScroll&&$s(u,!0)},o=i(()=>{var u;const m=kn(Pd(t.zIndex),t.customStyle);return dn(t.duration)&&(m.animationDuration=`${t.duration}s`),Le(at("div",{ref:n,style:m,class:[hP(),t.className]},[(u=e.default)==null?void 0:u.call(e)]),[[Ze,t.show]])});return Gr("touchmove",s,{target:n}),()=>at(Vi,{name:"van-fade",appear:!0},{default:o})}});const pP=Xe(vP),mP=kn({},uP,{round:Boolean,position:We("center"),closeIcon:We("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:We("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[yP,Uv]=je("popup");var _P=Ee({name:yP,inheritAttrs:!1,props:mP,emits:["open","close","opened","closed","keydown","update:show","click-overlay","click-close-icon"],setup(t,{emit:e,attrs:n,slots:i}){let s,o;const u=Z(),m=Z(),p=a0(()=>t.show||!t.lazyRender),l=jt(()=>{const A={zIndex:u.value};if(dn(t.duration)){const w=t.position==="center"?"animationDuration":"transitionDuration";A[w]=`${t.duration}s`}return A}),y=()=>{s||(s=!0,u.value=t.zIndex!==void 0?+t.zIndex:VO(),e("open"))},v=()=>{s&&Zm(t.beforeClose,{done(){s=!1,e("close"),e("update:show",!1)}})},f=A=>{e("click-overlay",A),t.closeOnClickOverlay&&v()},b=()=>{if(t.overlay)return at(pP,{show:t.show,class:t.overlayClass,zIndex:u.value,duration:t.duration,customStyle:t.overlayStyle,role:t.closeOnClickOverlay?"button":void 0,tabindex:t.closeOnClickOverlay?0:void 0,onClick:f},{default:i["overlay-content"]})},S=A=>{e("click-close-icon",A),v()},d=()=>{if(t.closeable)return at(xs,{role:"button",tabindex:0,name:t.closeIcon,class:[Uv("close-icon",t.closeIconPosition),GO],classPrefix:t.iconPrefix,onClick:S},null)},h=()=>e("opened"),c=()=>e("closed"),g=A=>e("keydown",A),T=p(()=>{var A;const{round:w,position:L,safeAreaInsetTop:x,safeAreaInsetBottom:D}=t;return Le(at("div",nr({ref:m,style:l.value,role:"dialog",tabindex:0,class:[Uv({round:w,[L]:L}),{"van-safe-area-top":x,"van-safe-area-bottom":D}],onKeydown:g},n),[(A=i.default)==null?void 0:A.call(i),d()]),[[Ze,t.show]])}),E=()=>{const{position:A,transition:w,transitionAppear:L}=t,x=A==="center"?"van-fade":`van-popup-slide-${A}`;return at(Vi,{name:w||x,appear:L,onAfterEnter:h,onAfterLeave:c},{default:T})};return ce(()=>t.show,A=>{A&&!s&&(y(),n.tabindex===0&&Xt(()=>{var w;(w=m.value)==null||w.focus()})),!A&&s&&(s=!1,e("close"))}),wr({popupRef:m}),dP(m,()=>t.show&&t.lockScroll),Gr("popstate",()=>{t.closeOnPopstate&&(v(),o=!1)}),hn(()=>{t.show&&y()}),Na(()=>{o&&(e("update:show",!0),o=!1)}),Ds(()=>{t.show&&t.teleport&&(v(),o=!0)}),gi(Jm,()=>t.show),()=>t.teleport?at(jp,{to:t.teleport},{default:()=>[b(),E()]}):at(ht,null,[b(),E()])}});const o0=Xe(_P),[AP,hs]=je("cell"),EP={icon:String,size:String,title:me,value:me,label:me,center:Boolean,isLink:Boolean,border:He,required:Boolean,iconPrefix:String,valueClass:vi,labelClass:vi,titleClass:vi,titleStyle:null,arrowDirection:String,clickable:{type:Boolean,default:null}},bP=kn({},EP,Md);var TP=Ee({name:AP,props:bP,setup(t,{slots:e}){const n=e0(),i=()=>{if(e.label||dn(t.label))return at("div",{class:[hs("label"),t.labelClass]},[e.label?e.label():t.label])},s=()=>{if(e.title||dn(t.title))return at("div",{class:[hs("title"),t.titleClass],style:t.titleStyle},[e.title?e.title():at("span",null,[t.title]),i()])},o=()=>{const p=e.value||e.default;if(p||dn(t.value)){const y=e.title||dn(t.title);return at("div",{class:[hs("value",{alone:!y}),t.valueClass]},[p?p():at("span",null,[t.value])])}},u=()=>{if(e.icon)return e.icon();if(t.icon)return at(xs,{name:t.icon,class:hs("left-icon"),classPrefix:t.iconPrefix},null)},m=()=>{if(e["right-icon"])return e["right-icon"]();if(t.isLink){const p=t.arrowDirection?`arrow-${t.arrowDirection}`:"arrow";return at(xs,{name:p,class:hs("right-icon")},null)}};return()=>{var p,l;const{size:y,center:v,border:f,isLink:b,required:S}=t,d=(p=t.clickable)!=null?p:b,h={center:v,required:S,clickable:d,borderless:!f};return y&&(h[y]=!!y),at("div",{class:hs(h),role:d?"button":void 0,tabindex:d?0:void 0,onClick:n},[u(),s(),o(),m(),(l=e.extra)==null?void 0:l.call(e)])}}});const SP=Xe(TP);let kP=0;function l0(){const t=jn(),{name:e="unknown"}=(t==null?void 0:t.type)||{};return`${e}-${++kP}`}function wP(){const t=Je({show:!1}),e=s=>{t.show=s},n=s=>{kn(t,s,{transitionAppear:!0}),e(!0)},i=()=>e(!1);return wr({open:n,close:i,toggle:e}),{open:n,close:i,state:t,toggle:e}}function CP(t){const e=yd(t),n=document.createElement("div");return document.body.appendChild(n),{instance:e.mount(n),unmount(){e.unmount(),document.body.removeChild(n)}}}let da=0;function RP(t){t?(da||document.body.classList.add("van-toast--unclickable"),da++):da&&(da--,da||document.body.classList.remove("van-toast--unclickable"))}const[xP,fa]=je("toast"),IP=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay"],LP={icon:String,show:Boolean,type:We("text"),overlay:Boolean,message:me,iconSize:me,duration:Hm(2e3),position:We("middle"),teleport:[String,Object],className:vi,iconPrefix:String,transition:We("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:vi,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean};var u0=Ee({name:xP,props:LP,emits:["update:show"],setup(t,{emit:e}){let n,i=!1;const s=()=>{const y=t.show&&t.forbidClick;i!==y&&(i=y,RP(i))},o=y=>e("update:show",y),u=()=>{t.closeOnClick&&o(!1)},m=()=>clearTimeout(n),p=()=>{const{icon:y,type:v,iconSize:f,iconPrefix:b,loadingType:S}=t;if(y||v==="success"||v==="fail")return at(xs,{name:y||v,size:f,class:fa("icon"),classPrefix:b},null);if(v==="loading")return at(Bl,{class:fa("loading"),size:f,type:S},null)},l=()=>{const{type:y,message:v}=t;if(dn(v)&&v!=="")return y==="html"?at("div",{key:0,class:fa("text"),innerHTML:String(v)},null):at("div",{class:fa("text")},[v])};return ce(()=>[t.show,t.forbidClick],s),ce(()=>[t.show,t.type,t.message,t.duration],()=>{m(),t.show&&t.duration>0&&(n=setTimeout(()=>{o(!1)},t.duration))}),hn(s),jr(s),()=>at(o0,nr({class:[fa([t.position,{[t.type]:!t.icon}]),t.className],lockScroll:!1,onClick:u,onClosed:m,"onUpdate:show":o},Gm(t,IP)),{default:()=>[p(),l()]})}});const c0={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let cr=[],Ul=!1,fl=kn({},c0);const hl=new Map;function d0(t){return Va(t)?t:{message:t}}function DP(){const{instance:t,unmount:e}=CP({setup(){const n=Z(""),{open:i,state:s,close:o,toggle:u}=wP(),m=()=>{Ul&&(cr=cr.filter(l=>l!==t),e())},p=()=>at(u0,nr(s,{onClosed:m,"onUpdate:show":u}),null);return ce(n,l=>{s.message=l}),jn().render=p,{open:i,clear:o,message:n}}});return t}function OP(){if(!cr.length||Ul){const t=DP();cr.push(t)}return cr[cr.length-1]}function rr(t={}){if(!Wa)return{};const e=OP(),n=d0(t);return e.open(kn({},fl,hl.get(n.type||fl.type),n)),e}const Bd=t=>e=>rr(kn({type:t},d0(e)));rr.loading=Bd("loading");rr.success=Bd("success");rr.fail=Bd("fail");rr.clear=t=>{var e;cr.length&&(t?(cr.forEach(n=>{n.clear()}),cr=[]):Ul?(e=cr.shift())==null||e.clear():cr[0].clear())};function PP(t,e){typeof t=="string"?hl.set(t,e):kn(fl,t)}rr.setDefaultOptions=PP;rr.resetDefaultOptions=t=>{typeof t=="string"?hl.delete(t):(fl=kn({},c0),hl.clear())};rr.allowMultiple=(t=!0)=>{Ul=t};rr.install=t=>{t.use(Xe(u0)),t.config.globalProperties.$toast=rr};function FP(){const t=Z([]),e=[];return Dp(()=>{t.value=[]}),[t,i=>(e[i]||(e[i]=s=>{t.value[i]=s}),e[i])]}const[MP,gs]=je("image"),BP={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:me,height:me,radius:me,lazyLoad:Boolean,iconSize:me,showError:He,errorIcon:We("photo-fail"),iconPrefix:String,showLoading:He,loadingIcon:We("photo")};var NP=Ee({name:MP,props:BP,emits:["load","error"],setup(t,{emit:e,slots:n}){const i=Z(!1),s=Z(!0),o=Z(),{$Lazyload:u}=jn().proxy,m=jt(()=>{const d={width:mn(t.width),height:mn(t.height)};return dn(t.radius)&&(d.overflow="hidden",d.borderRadius=mn(t.radius)),d});ce(()=>t.src,()=>{i.value=!1,s.value=!0});const p=d=>{s.value=!1,e("load",d)},l=d=>{i.value=!0,s.value=!1,e("error",d)},y=(d,h,c)=>c?c():at(xs,{name:d,size:t.iconSize,class:h,classPrefix:t.iconPrefix},null),v=()=>{if(s.value&&t.showLoading)return at("div",{class:gs("loading")},[y(t.loadingIcon,gs("loading-icon"),n.loading)]);if(i.value&&t.showError)return at("div",{class:gs("error")},[y(t.errorIcon,gs("error-icon"),n.error)])},f=()=>{if(i.value||!t.src)return;const d={alt:t.alt,class:gs("img"),style:{objectFit:t.fit,objectPosition:t.position}};return t.lazyLoad?Le(at("img",nr({ref:o},d),null),[[kk("lazy"),t.src]]):at("img",nr({src:t.src,onLoad:p,onError:l},d),null)},b=({el:d})=>{const h=()=>{d===o.value&&s.value&&p()};o.value?h():Xt(h)},S=({el:d})=>{d===o.value&&!i.value&&l()};return u&&Wa&&(u.$on("loaded",b),u.$on("error",S),Os(()=>{u.$off("loaded",b),u.$off("error",S)})),()=>{var d;return at("div",{class:gs({round:t.round,block:t.block}),style:m.value},[f(),v(),(d=n.default)==null?void 0:d.call(n)])}}});const UP=Xe(NP);function $P(t,e,n){let i=0;const s=t.scrollLeft,o=n===0?1:Math.round(n*1e3/16);function u(){t.scrollLeft+=(e-s)/o,++i<o&&Ma(u)}u()}function GP(t,e,n,i){let s=Wi(t);const o=s<e,u=n===0?1:Math.round(n*1e3/16),m=(e-s)/u;function p(){s+=m,(o&&s>e||!o&&s<e)&&(s=e),jc(t,s),o&&s<e||!o&&s>e?Ma(p):i&&Ma(i)}p()}function HP(t,e){if(!Wa||!window.IntersectionObserver)return;const n=new IntersectionObserver(o=>{e(o[0].intersectionRatio>0)},{root:document.body}),i=()=>{t.value&&n.observe(t.value)},s=()=>{t.value&&n.unobserve(t.value)};Ds(s),Os(s),Ml(i)}const[jP,KP]=je("sticky"),VP={zIndex:me,position:We("top"),container:Object,offsetTop:Dn(0),offsetBottom:Dn(0)};var WP=Ee({name:jP,props:VP,emits:["scroll","change"],setup(t,{emit:e,slots:n}){const i=Z(),s=za(i),o=Je({fixed:!1,width:0,height:0,transform:0}),u=jt(()=>zm(t.position==="top"?t.offsetTop:t.offsetBottom)),m=jt(()=>{const{fixed:v,height:f,width:b}=o;if(v)return{width:`${b}px`,height:`${f}px`}}),p=jt(()=>{if(!o.fixed)return;const v=kn(Pd(t.zIndex),{width:`${o.width}px`,height:`${o.height}px`,[t.position]:`${u.value}px`});return o.transform&&(v.transform=`translate3d(0, ${o.transform}px, 0)`),v}),l=v=>e("scroll",{scrollTop:v,isFixed:o.fixed}),y=()=>{if(!i.value||Rs(i))return;const{container:v,position:f}=t,b=On(i),S=Wi(window);if(o.width=b.width,o.height=b.height,f==="top")if(v){const d=On(v),h=d.bottom-u.value-o.height;o.fixed=u.value>b.top&&d.bottom>0,o.transform=h<0?h:0}else o.fixed=u.value>b.top;else{const{clientHeight:d}=document.documentElement;if(v){const h=On(v),c=d-h.top-u.value-o.height;o.fixed=d-u.value<b.bottom&&d>h.top,o.transform=c<0?-c:0}else o.fixed=d-u.value<b.bottom}l(S)};return ce(()=>o.fixed,v=>e("change",v)),Gr("scroll",y,{target:s,passive:!0}),HP(i,y),()=>{var v;return at("div",{ref:i,style:m.value},[at("div",{class:KP({fixed:o.fixed}),style:p.value},[(v=n.default)==null?void 0:v.call(n)])])}}});const zP=Xe(WP),[YP,$v]=je("tab");var qP=Ee({name:YP,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:me,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:He},setup(t,{slots:e}){const n=jt(()=>{const s={},{type:o,color:u,disabled:m,isActive:p,activeColor:l,inactiveColor:y}=t;u&&o==="card"&&(s.borderColor=u,m||(p?s.backgroundColor=u:s.color=u));const f=p?l:y;return f&&(s.color=f),s}),i=()=>{const s=at("span",{class:$v("text",{ellipsis:!t.scrollable})},[e.title?e.title():t.title]);return t.dot||dn(t.badge)&&t.badge!==""?at(n0,{dot:t.dot,content:t.badge,showZero:t.showZeroBadge},{default:()=>[s]}):s};return()=>at("div",{id:t.id,role:"tab",class:[$v([t.type,{grow:t.scrollable&&!t.shrink,shrink:t.shrink,active:t.isActive,disabled:t.disabled}])],style:n.value,tabindex:t.disabled?void 0:t.isActive?0:-1,"aria-selected":t.isActive,"aria-disabled":t.disabled||void 0,"aria-controls":t.controls},[i()])}});const[f0,qo]=je("swipe"),QP={loop:He,width:me,height:me,vertical:Boolean,autoplay:Dn(0),duration:Dn(500),touchable:He,lazyRender:Boolean,initialSwipe:Dn(0),indicatorColor:String,showIndicators:He,stopPropagation:He},h0=Symbol(f0);var ZP=Ee({name:f0,props:QP,emits:["change"],setup(t,{emit:e,slots:n}){const i=Z(),s=Z(),o=Je({rect:null,width:0,height:0,offset:0,active:0,swiping:!1}),u=Nl(),{children:m,linkChildren:p}=Id(h0),l=jt(()=>m.length),y=jt(()=>o[t.vertical?"height":"width"]),v=jt(()=>t.vertical?u.deltaY.value:u.deltaX.value),f=jt(()=>o.rect?(t.vertical?o.rect.height:o.rect.width)-y.value*l.value:0),b=jt(()=>Math.ceil(Math.abs(f.value)/y.value)),S=jt(()=>l.value*y.value),d=jt(()=>(o.active+l.value)%l.value),h=jt(()=>{const q=t.vertical?"vertical":"horizontal";return u.direction.value===q}),c=jt(()=>{const q={transitionDuration:`${o.swiping?0:t.duration}ms`,transform:`translate${t.vertical?"Y":"X"}(${o.offset}px)`};if(y.value){const et=t.vertical?"height":"width",rt=t.vertical?"width":"height";q[et]=`${S.value}px`,q[rt]=t[rt]?`${t[rt]}px`:""}return q}),g=q=>{const{active:et}=o;return q?t.loop?gc(et+q,-1,l.value):gc(et+q,0,b.value):et},T=(q,et=0)=>{let rt=q*y.value;t.loop||(rt=Math.min(rt,-f.value));let ot=et-rt;return t.loop||(ot=gc(ot,f.value,0)),ot},E=({pace:q=0,offset:et=0,emitChange:rt})=>{if(l.value<=1)return;const{active:ot}=o,J=g(q),W=T(J,et);if(t.loop){if(m[0]&&W!==f.value){const st=W<f.value;m[0].setOffset(st?S.value:0)}if(m[l.value-1]&&W!==0){const st=W>0;m[l.value-1].setOffset(st?-S.value:0)}}o.active=J,o.offset=W,rt&&J!==ot&&e("change",d.value)},A=()=>{o.swiping=!0,o.active<=-1?E({pace:l.value}):o.active>=l.value&&E({pace:-l.value})},w=()=>{A(),u.reset(),_a(()=>{o.swiping=!1,E({pace:-1,emitChange:!0})})},L=()=>{A(),u.reset(),_a(()=>{o.swiping=!1,E({pace:1,emitChange:!0})})};let x;const D=()=>clearTimeout(x),k=()=>{D(),t.autoplay>0&&l.value>1&&(x=setTimeout(()=>{L(),k()},+t.autoplay))},R=(q=+t.initialSwipe)=>{if(!i.value)return;const et=()=>{var rt,ot;if(!Rs(i)){const J={width:i.value.offsetWidth,height:i.value.offsetHeight};o.rect=J,o.width=+((rt=t.width)!=null?rt:J.width),o.height=+((ot=t.height)!=null?ot:J.height)}l.value&&(q=Math.min(l.value-1,q)),o.active=q,o.swiping=!0,o.offset=T(q),m.forEach(J=>{J.setOffset(0)}),k()};Rs(i)?Xt().then(et):et()},I=()=>R(o.active);let O;const P=q=>{!t.touchable||(u.start(q),O=Date.now(),D(),A())},F=q=>{t.touchable&&o.swiping&&(u.move(q),h.value&&(!t.loop&&(o.active===0&&v.value>0||o.active===l.value-1&&v.value<0)||($s(q,t.stopPropagation),E({offset:v.value}))))},U=()=>{if(!t.touchable||!o.swiping)return;const q=Date.now()-O,et=v.value/q;if((Math.abs(et)>.25||Math.abs(v.value)>y.value/2)&&h.value){const ot=t.vertical?u.offsetY.value:u.offsetX.value;let J=0;t.loop?J=ot>0?v.value>0?-1:1:0:J=-Math[v.value>0?"ceil":"floor"](v.value/y.value),E({pace:J,emitChange:!0})}else v.value&&E({pace:0});o.swiping=!1,k()},B=(q,et={})=>{A(),u.reset(),_a(()=>{let rt;t.loop&&q===l.value?rt=o.active===0?0:q:rt=q%l.value,et.immediate?_a(()=>{o.swiping=!1}):o.swiping=!1,E({pace:rt-o.active,emitChange:!0})})},H=(q,et)=>{const rt=et===d.value,ot=rt?{backgroundColor:t.indicatorColor}:void 0;return at("i",{style:ot,class:qo("indicator",{active:rt})},null)},V=()=>{if(n.indicator)return n.indicator({active:d.value,total:l.value});if(t.showIndicators&&l.value>1)return at("div",{class:qo("indicators",{vertical:t.vertical})},[Array(l.value).fill("").map(H)])};return wr({prev:w,next:L,state:o,resize:I,swipeTo:B}),p({size:y,props:t,count:l,activeIndicator:d}),ce(()=>t.initialSwipe,q=>R(+q)),ce(l,()=>R(o.active)),ce(()=>t.autoplay,k),ce([Od,Vm],I),ce(SO(),q=>{q==="visible"?k():D()}),hn(R),Na(()=>R(o.active)),Xm(()=>R(o.active)),Ds(D),Os(D),Gr("touchmove",F,{target:s}),()=>{var q;return at("div",{ref:i,class:qo()},[at("div",{ref:s,style:c.value,class:qo("track",{vertical:t.vertical}),onTouchstartPassive:P,onTouchend:U,onTouchcancel:U},[(q=n.default)==null?void 0:q.call(n)]),V()])}}});const g0=Xe(ZP),[JP,Gv]=je("tabs");var XP=Ee({name:JP,props:{count:dc(Number),inited:Boolean,animated:Boolean,duration:dc(me),swipeable:Boolean,lazyRender:Boolean,currentIndex:dc(Number)},emits:["change"],setup(t,{emit:e,slots:n}){const i=Z(),s=m=>e("change",m),o=()=>{var m;const p=(m=n.default)==null?void 0:m.call(n);return t.animated||t.swipeable?at(g0,{ref:i,loop:!1,class:Gv("track"),duration:+t.duration*1e3,touchable:t.swipeable,lazyRender:t.lazyRender,showIndicators:!1,onChange:s},{default:()=>[p]}):p},u=m=>{const p=i.value;p&&p.state.active!==m&&p.swipeTo(m,{immediate:!t.inited})};return ce(()=>t.currentIndex,u),hn(()=>{u(t.currentIndex)}),wr({swipeRef:i}),()=>at("div",{class:Gv("content",{animated:t.animated||t.swipeable})},[o()])}});const[v0,Qo]=je("tabs"),tF={type:We("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:Dn(0),duration:Dn(.3),animated:Boolean,ellipsis:He,swipeable:Boolean,scrollspy:Boolean,offsetTop:Dn(0),background:String,lazyRender:He,lineWidth:me,lineHeight:me,beforeChange:Function,swipeThreshold:Dn(5),titleActiveColor:String,titleInactiveColor:String},p0=Symbol(v0);var eF=Ee({name:v0,props:tF,emits:["click","change","scroll","disabled","rendered","click-tab","update:active"],setup(t,{emit:e,slots:n}){let i,s,o;const u=Z(),m=Z(),p=Z(),l=Z(),y=l0(),v=za(u),[f,b]=FP(),{children:S,linkChildren:d}=Id(p0),h=Je({inited:!1,position:"",lineStyle:{},currentIndex:-1}),c=jt(()=>S.length>t.swipeThreshold||!t.ellipsis||t.shrink),g=jt(()=>({borderColor:t.color,background:t.background})),T=(J,W)=>{var st;return(st=J.name)!=null?st:W},E=jt(()=>{const J=S[h.currentIndex];if(J)return T(J,h.currentIndex)}),A=jt(()=>zm(t.offsetTop)),w=jt(()=>t.sticky?A.value+i:0),L=J=>{const W=m.value,st=f.value;if(!c.value||!W||!st||!st[h.currentIndex])return;const it=st[h.currentIndex].$el,j=it.offsetLeft-(W.offsetWidth-it.offsetWidth)/2;$P(W,j,J?0:+t.duration)},x=()=>{const J=h.inited;Xt(()=>{const W=f.value;if(!W||!W[h.currentIndex]||t.type!=="line"||Rs(u.value))return;const st=W[h.currentIndex].$el,{lineWidth:it,lineHeight:j}=t,gt=st.offsetLeft+st.offsetWidth/2,bt={width:mn(it),backgroundColor:t.color,transform:`translateX(${gt}px) translateX(-50%)`};if(J&&(bt.transitionDuration=`${t.duration}s`),dn(j)){const It=mn(j);bt.height=It,bt.borderRadius=It}h.lineStyle=bt})},D=J=>{const W=J<h.currentIndex?-1:1;for(;J>=0&&J<S.length;){if(!S[J].disabled)return J;J+=W}},k=(J,W)=>{const st=D(J);if(!dn(st))return;const it=S[st],j=T(it,st),gt=h.currentIndex!==null;h.currentIndex!==st&&(h.currentIndex=st,W||L(),x()),j!==t.active&&(e("update:active",j),gt&&e("change",j,it.title)),o&&!t.scrollspy&&Km(Math.ceil(Ov(u.value)-A.value))},R=(J,W)=>{const st=S.find((j,gt)=>T(j,gt)===J),it=st?S.indexOf(st):0;k(it,W)},I=(J=!1)=>{if(t.scrollspy){const W=S[h.currentIndex].$el;if(W&&v.value){const st=Ov(W,v.value)-w.value;s=!0,GP(v.value,st,J?0:+t.duration,()=>{s=!1})}}},O=(J,W,st)=>{const{title:it,disabled:j}=S[W],gt=T(S[W],W);j?e("disabled",gt,it):(Zm(t.beforeChange,{args:[gt],done:()=>{k(W),I()}}),e("click",gt,it),t0(J)),e("click-tab",{name:gt,title:it,event:st,disabled:j})},P=J=>{o=J.isFixed,e("scroll",J)},F=J=>{Xt(()=>{R(J),I(!0)})},U=()=>{for(let J=0;J<S.length;J++){const{top:W}=On(S[J].$el);if(W>w.value)return J===0?0:J-1}return S.length-1},B=()=>{if(t.scrollspy&&!s){const J=U();k(J)}},H=()=>S.map((J,W)=>at(qP,nr({key:J.id,id:`${y}-${W}`,ref:b(W),type:t.type,color:t.color,style:J.titleStyle,class:J.titleClass,shrink:t.shrink,isActive:W===h.currentIndex,controls:J.id,scrollable:c.value,activeColor:t.titleActiveColor,inactiveColor:t.titleInactiveColor,onClick:st=>O(J,W,st)},Gm(J,["dot","badge","title","disabled","showZeroBadge"])),{title:J.$slots.title})),V=()=>{if(t.type==="line"&&S.length)return at("div",{class:Qo("line"),style:h.lineStyle},null)},q=()=>{var J,W,st;const{type:it,border:j,sticky:gt}=t,bt=[at("div",{ref:gt?void 0:p,class:[Qo("wrap"),{[Qm]:it==="line"&&j}]},[at("div",{ref:m,role:"tablist",class:Qo("nav",[it,{shrink:t.shrink,complete:c.value}]),style:g.value,"aria-orientation":"horizontal"},[(J=n["nav-left"])==null?void 0:J.call(n),H(),V(),(W=n["nav-right"])==null?void 0:W.call(n)])]),(st=n["nav-bottom"])==null?void 0:st.call(n)];return gt?at("div",{ref:p},[bt]):bt};ce([()=>t.color,Od],x),ce(()=>t.active,J=>{J!==E.value&&R(J)}),ce(()=>S.length,()=>{h.inited&&(R(t.active),x(),Xt(()=>{L(!0)}))});const et=()=>{R(t.active,!0),Xt(()=>{h.inited=!0,p.value&&(i=On(p.value).height),L(!0)})},rt=(J,W)=>e("rendered",J,W);return wr({resize:()=>{x(),Xt(()=>{var J,W;return(W=(J=l.value)==null?void 0:J.swipeRef.value)==null?void 0:W.resize()})},scrollTo:F}),Na(x),Xm(x),Ml(et),Gr("scroll",B,{target:v,passive:!0}),d({id:y,props:t,setLine:x,onRendered:rt,currentName:E,scrollIntoView:L}),()=>at("div",{ref:u,class:Qo([t.type])},[t.sticky?at(zP,{container:u.value,offsetTop:A.value,onScroll:P},{default:()=>[q()]}):q(),at(XP,{ref:l,count:S.length,inited:h.inited,animated:t.animated,duration:t.duration,swipeable:t.swipeable,lazyRender:t.lazyRender,currentIndex:h.currentIndex,onChange:k},{default:()=>{var J;return[(J=n.default)==null?void 0:J.call(n)]}})])}});const m0=Symbol(),nF=()=>Tn(m0,null),[rF,iF]=je("swipe-item");var sF=Ee({name:rF,setup(t,{slots:e}){let n;const i=Je({offset:0,inited:!1,mounted:!1}),{parent:s,index:o}=xd(h0);if(!s)return;const u=jt(()=>{const l={},{vertical:y}=s.props;return s.size.value&&(l[y?"height":"width"]=`${s.size.value}px`),i.offset&&(l.transform=`translate${y?"Y":"X"}(${i.offset}px)`),l}),m=jt(()=>{const{loop:l,lazyRender:y}=s.props;if(!y||n)return!0;if(!i.mounted)return!1;const v=s.activeIndicator.value,f=s.count.value-1,b=v===0&&l?f:v-1,S=v===f&&l?0:v+1;return n=o.value===v||o.value===b||o.value===S,n}),p=l=>{i.offset=l};return hn(()=>{Xt(()=>{i.mounted=!0})}),wr({setOffset:p}),()=>{var l;return at("div",{class:iF(),style:u.value},[m.value?(l=e.default)==null?void 0:l.call(e):null])}}});const y0=Xe(sF),[aF,vc]=je("tab"),oF=kn({},Md,{dot:Boolean,name:me,badge:me,title:String,disabled:Boolean,titleClass:vi,titleStyle:[String,Object],showZeroBadge:He});var lF=Ee({name:aF,props:oF,setup(t,{slots:e}){const n=l0(),i=Z(!1),{parent:s,index:o}=xd(p0);if(!s)return;const u=()=>{var y;return(y=t.name)!=null?y:o.value},m=()=>{i.value=!0,s.props.lazyRender&&Xt(()=>{s.onRendered(u(),t.title)})},p=jt(()=>{const y=u()===s.currentName.value;return y&&!i.value&&m(),y}),l=Z(!p.value);return ce(p,y=>{y?l.value=!1:_a(()=>{l.value=!0})}),ce(()=>t.title,()=>{s.setLine(),s.scrollIntoView()}),gi(m0,p),()=>{var y;const v=`${s.id}-${o.value}`,{animated:f,swipeable:b,scrollspy:S,lazyRender:d}=s.props;if(!e.default&&!f)return;const h=S||p.value;if(f||b)return at(y0,{id:n,role:"tabpanel",class:vc("panel-wrapper",{inactive:l.value}),tabindex:p.value?0:-1,"aria-hidden":!p.value,"aria-labelledby":v},{default:()=>{var T;return[at("div",{class:vc("panel")},[(T=e.default)==null?void 0:T.call(e)])]}});const g=i.value||S||!d?(y=e.default)==null?void 0:y.call(e):null;return wr({id:n}),Le(at("div",{id:n,role:"tabpanel",class:vc("panel"),tabindex:h?0:-1,"aria-labelledby":v},[g]),[[Ze,h]])}}});const uF=Xe(lF),cF=Xe(eF),[dF,Hv]=je("cell-group"),fF={title:String,inset:Boolean,border:He};var hF=Ee({name:dF,inheritAttrs:!1,props:fF,setup(t,{slots:e,attrs:n}){const i=()=>{var o;return at("div",nr({class:[Hv({inset:t.inset}),{[Qm]:t.border&&!t.inset}]},n),[(o=e.default)==null?void 0:o.call(e)])},s=()=>at("div",{class:Hv("title",{inset:t.inset})},[e.title?e.title():t.title]);return()=>t.title||e.title?at(ht,null,[s(),i()]):i()}});const gF=Xe(hF);function vF(){const t="A".charCodeAt(0);return Array(26).fill("").map((n,i)=>String.fromCharCode(t+i))}const[_0,pc]=je("index-bar"),pF={sticky:He,zIndex:me,teleport:[String,Object],highlightColor:String,stickyOffsetTop:Hm(0),indexList:{type:Array,default:vF}},A0=Symbol(_0);var mF=Ee({name:_0,props:pF,emits:["select","change"],setup(t,{emit:e,slots:n}){const i=Z(),s=Z(),o=Z(""),u=Nl(),m=za(i),{children:p,linkChildren:l}=Id(A0);let y;l({props:t});const v=jt(()=>{if(dn(t.zIndex))return{zIndex:+t.zIndex+1}}),f=jt(()=>{if(t.highlightColor)return{color:t.highlightColor}}),b=(x,D)=>{for(let k=p.length-1;k>=0;k--){const R=k>0?D[k-1].height:0,I=t.sticky?R+t.stickyOffsetTop:0;if(x+I>=D[k].top)return k}return-1},S=x=>p.find(D=>String(D.index)===x),d=()=>{if(Rs(i))return;const{sticky:x,indexList:D}=t,k=Wi(m.value),R=On(m),I=p.map(P=>P.getRect(m.value,R));let O=-1;if(y){const P=S(y);if(P){const F=P.getRect(m.value,R);O=b(F.top,I)}}else O=b(k,I);o.value=D[O],x&&p.forEach((P,F)=>{const{state:U,$el:B}=P;if(F===O||F===O-1){const H=B.getBoundingClientRect();U.left=H.left,U.width=H.width}else U.left=null,U.width=null;if(F===O)U.active=!0,U.top=Math.max(t.stickyOffsetTop,I[F].top-k)+R.top;else if(F===O-1&&y===""){const H=I[O].top-k;U.active=H>0,U.top=H+R.top-I[F].height}else U.active=!1}),y=""},h=()=>{Xt(d)};Gr("scroll",d,{target:m,passive:!0}),hn(h),ce(()=>t.indexList,h),ce(o,x=>{x&&e("change",x)});const c=()=>t.indexList.map(x=>{const D=x===o.value;return at("span",{class:pc("index",{active:D}),style:D?f.value:void 0,"data-index":x},[x])}),g=x=>{y=String(x);const D=S(y);if(D){const k=Wi(m.value),R=On(m),{offsetHeight:I}=document.documentElement;if(D.$el.scrollIntoView(),k===I-R.height){d();return}t.sticky&&t.stickyOffsetTop&&Km(Dd()-t.stickyOffsetTop),e("select",D.index)}},T=x=>{const{index:D}=x.dataset;D&&g(D)},E=x=>{T(x.target)};let A;const w=x=>{if(u.move(x),u.isVertical()){$s(x);const{clientX:D,clientY:k}=x.touches[0],R=document.elementFromPoint(D,k);if(R){const{index:I}=R.dataset;I&&A!==I&&(A=I,T(R))}}},L=()=>at("div",{ref:s,class:pc("sidebar"),style:v.value,onClick:E,onTouchstartPassive:u.start},[c()]);return wr({scrollTo:g}),Gr("touchmove",w,{target:s}),()=>{var x;return at("div",{ref:i,class:pc()},[t.teleport?at(jp,{to:t.teleport},{default:()=>[L()]}):L(),(x=n.default)==null?void 0:x.call(n)])}}});const[yF,_F]=je("index-anchor"),AF={index:me};var EF=Ee({name:yF,props:AF,setup(t,{slots:e}){const n=Je({top:0,left:null,rect:{top:0,height:0},width:null,active:!1}),i=Z(),{parent:s}=xd(A0);if(!s)return;const o=()=>n.active&&s.props.sticky,u=jt(()=>{const{zIndex:p,highlightColor:l}=s.props;if(o())return kn(Pd(p),{left:n.left?`${n.left}px`:void 0,width:n.width?`${n.width}px`:void 0,transform:n.top?`translate3d(0, ${n.top}px, 0)`:void 0,color:l})});return wr({state:n,getRect:(p,l)=>{const y=On(i);return n.rect.height=y.height,p===window||p===document.body?n.rect.top=y.top+Dd():n.rect.top=y.top+Wi(p)-l.top,n.rect}}),()=>{const p=o();return at("div",{ref:i,style:{height:p?`${n.rect.height}px`:void 0}},[at("div",{style:u.value,class:[_F({sticky:p}),{[UO]:p}]},[e.default?e.default():t.index])])}}});const bF=Xe(EF),TF=Xe(mF),[SF,vs,kF]=je("list"),wF={error:Boolean,offset:Dn(300),loading:Boolean,finished:Boolean,errorText:String,direction:We("down"),loadingText:String,finishedText:String,immediateCheck:He};var CF=Ee({name:SF,props:wF,emits:["load","update:error","update:loading"],setup(t,{emit:e,slots:n}){const i=Z(!1),s=Z(),o=Z(),u=nF(),m=za(s),p=()=>{Xt(()=>{if(i.value||t.finished||t.error||(u==null?void 0:u.value)===!1)return;const{offset:b,direction:S}=t,d=On(m);if(!d.height||Rs(s))return;let h=!1;const c=On(o);S==="up"?h=d.top-c.top<=b:h=c.bottom-d.bottom<=b,h&&(i.value=!0,e("update:loading",!0),e("load"))})},l=()=>{if(t.finished){const b=n.finished?n.finished():t.finishedText;if(b)return at("div",{class:vs("finished-text")},[b])}},y=()=>{e("update:error",!1),p()},v=()=>{if(t.error){const b=n.error?n.error():t.errorText;if(b)return at("div",{role:"button",class:vs("error-text"),tabindex:0,onClick:y},[b])}},f=()=>{if(i.value&&!t.finished)return at("div",{class:vs("loading")},[n.loading?n.loading():at(Bl,{class:vs("loading-icon")},{default:()=>[t.loadingText||kF("loading")]})])};return ce(()=>[t.loading,t.finished,t.error],p),u&&ce(u,b=>{b&&p()}),Op(()=>{i.value=t.loading}),hn(()=>{t.immediateCheck&&p()}),wr({check:p}),Gr("scroll",p,{target:m,passive:!0}),()=>{var b;const S=(b=n.default)==null?void 0:b.call(n),d=at("div",{ref:o,class:vs("placeholder")},null);return at("div",{ref:s,role:"feed",class:vs(),"aria-busy":i.value},[t.direction==="down"?S:d,f(),l(),v(),t.direction==="up"?S:d])}}});const E0=Xe(CF),[RF,ha,xF]=je("pull-refresh"),b0=50,IF=["pulling","loosing","success"],LF={disabled:Boolean,modelValue:Boolean,headHeight:Dn(b0),successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:me,successDuration:Dn(500),animationDuration:Dn(300)};var DF=Ee({name:RF,props:LF,emits:["change","refresh","update:modelValue"],setup(t,{emit:e,slots:n}){let i;const s=Z(),o=Z(),u=za(s),m=Je({status:"normal",distance:0,duration:0}),p=Nl(),l=()=>{if(t.headHeight!==b0)return{height:`${t.headHeight}px`}},y=()=>m.status!=="loading"&&m.status!=="success"&&!t.disabled,v=E=>{const A=+(t.pullDistance||t.headHeight);return E>A&&(E<A*2?E=A+(E-A)/2:E=A*1.5+(E-A*2)/4),Math.round(E)},f=(E,A)=>{const w=+(t.pullDistance||t.headHeight);m.distance=E,A?m.status="loading":E===0?m.status="normal":E<w?m.status="pulling":m.status="loosing",e("change",{status:m.status,distance:E})},b=()=>{const{status:E}=m;return E==="normal"?"":t[`${E}Text`]||xF(E)},S=()=>{const{status:E,distance:A}=m;if(n[E])return n[E]({distance:A});const w=[];return IF.includes(E)&&w.push(at("div",{class:ha("text")},[b()])),E==="loading"&&w.push(at(Bl,{class:ha("loading")},{default:b})),w},d=()=>{m.status="success",setTimeout(()=>{f(0)},+t.successDuration)},h=E=>{i=Wi(u.value)===0,i&&(m.duration=0,p.start(E))},c=E=>{y()&&h(E)},g=E=>{if(y()){i||h(E);const{deltaY:A}=p;p.move(E),i&&A.value>=0&&p.isVertical()&&($s(E),f(v(A.value)))}},T=()=>{i&&p.deltaY.value&&y()&&(m.duration=+t.animationDuration,m.status==="loosing"?(f(+t.headHeight,!0),e("update:modelValue",!0),Xt(()=>e("refresh"))):f(0))};return ce(()=>t.modelValue,E=>{m.duration=+t.animationDuration,E?f(+t.headHeight,!0):n.success||t.successText?d():f(0,!1)}),Gr("touchmove",g,{target:o}),()=>{var E;const A={transitionDuration:`${m.duration}ms`,transform:m.distance?`translate3d(0,${m.distance}px, 0)`:""};return at("div",{ref:s,class:ha()},[at("div",{ref:o,class:ha("track"),style:A,onTouchstartPassive:c,onTouchend:T,onTouchcancel:T},[at("div",{class:ha("head"),style:l()},[S()]),(E=n.default)==null?void 0:E.call(n)])])}}});const OF=Xe(DF),[PF,ga]=je("skeleton"),T0="100%",FF="60%",MF={row:Dn(0),title:Boolean,round:Boolean,avatar:Boolean,loading:He,animate:He,avatarSize:me,titleWidth:me,avatarShape:We("round"),rowWidth:{type:[Number,String,Array],default:T0}};var BF=Ee({name:PF,inheritAttrs:!1,props:MF,setup(t,{slots:e,attrs:n}){const i=()=>{if(t.avatar)return at("div",{class:ga("avatar",t.avatarShape),style:Wm(t.avatarSize)},null)},s=()=>{if(t.title)return at("h3",{class:ga("title"),style:{width:mn(t.titleWidth)}},null)},o=m=>{const{rowWidth:p}=t;return p===T0&&m===+t.row-1?FF:Array.isArray(p)?p[m]:p},u=()=>Array(+t.row).fill("").map((m,p)=>at("div",{class:ga("row"),style:{width:mn(o(p))}},null));return()=>{var m;return t.loading?at("div",nr({class:ga({animate:t.animate,round:t.round})},n),[i(),at("div",{class:ga("content")},[s(),u()])]):(m=e.default)==null?void 0:m.call(e)}}});const NF=Xe(BF),jv=vr&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,Fi={event:"event",observer:"observer"};function Aa(t,e){if(!t.length)return;const n=t.indexOf(e);if(n>-1)return t.splice(n,1)}function Kv(t,e){if(t.tagName!=="IMG"||!t.getAttribute("data-srcset"))return;let n=t.getAttribute("data-srcset");const s=t.parentNode.offsetWidth*e;let o,u,m;n=n.trim().split(",");const p=n.map(v=>(v=v.trim(),o=v.lastIndexOf(" "),o===-1?(u=v,m=999998):(u=v.substr(0,o),m=parseInt(v.substr(o+1,v.length-o-2),10)),[m,u]));p.sort((v,f)=>{if(v[0]<f[0])return 1;if(v[0]>f[0])return-1;if(v[0]===f[0]){if(f[1].indexOf(".webp",f[1].length-5)!==-1)return 1;if(v[1].indexOf(".webp",v[1].length-5)!==-1)return-1}return 0});let l="",y;for(let v=0;v<p.length;v++){y=p[v],l=y[1];const f=p[v+1];if(f&&f[0]<s){l=y[1];break}else if(!f){l=y[1];break}}return l}const UF=(t=1)=>vr&&window.devicePixelRatio||t;function $F(){if(!vr)return!1;let t=!0;try{const e=document.createElement("canvas");e.getContext&&e.getContext("2d")&&(t=e.toDataURL("image/webp").indexOf("data:image/webp")===0)}catch{t=!1}return t}function GF(t,e){let n=null,i=0;return function(...s){if(n)return;const o=Date.now()-i,u=()=>{i=Date.now(),n=!1,t.apply(this,s)};o>=e?u():n=setTimeout(u,e)}}function HF(t,e,n){t.addEventListener(e,n,{capture:!1,passive:!0})}function jF(t,e,n){t.removeEventListener(e,n,!1)}const Vc=(t,e,n)=>{const i=new Image;if(!t||!t.src)return n(new Error("image src is required"));i.src=t.src,t.cors&&(i.crossOrigin=t.cors),i.onload=()=>e({naturalHeight:i.naturalHeight,naturalWidth:i.naturalWidth,src:i.src}),i.onerror=s=>n(s)};class KF{constructor({max:e}){this.options={max:e||100},this.caches=[]}has(e){return this.caches.indexOf(e)>-1}add(e){this.has(e)||(this.caches.push(e),this.caches.length>this.options.max&&this.free())}free(){this.caches.shift()}}class VF{constructor({el:e,src:n,error:i,loading:s,bindType:o,$parent:u,options:m,cors:p,elRenderer:l,imageCache:y}){this.el=e,this.src=n,this.error=i,this.loading=s,this.bindType=o,this.attempt=0,this.cors=p,this.naturalHeight=0,this.naturalWidth=0,this.options=m,this.$parent=u,this.elRenderer=l,this.imageCache=y,this.performanceData={loadStart:0,loadEnd:0},this.filter(),this.initState(),this.render("loading",!1)}initState(){"dataset"in this.el?this.el.dataset.src=this.src:this.el.setAttribute("data-src",this.src),this.state={loading:!1,error:!1,loaded:!1,rendered:!1}}record(e){this.performanceData[e]=Date.now()}update({src:e,loading:n,error:i}){const s=this.src;this.src=e,this.loading=n,this.error=i,this.filter(),s!==this.src&&(this.attempt=0,this.initState())}checkInView(){const e=On(this.el);return e.top<window.innerHeight*this.options.preLoad&&e.bottom>this.options.preLoadTop&&e.left<window.innerWidth*this.options.preLoad&&e.right>0}filter(){Object.keys(this.options.filter).forEach(e=>{this.options.filter[e](this,this.options)})}renderLoading(e){this.state.loading=!0,Vc({src:this.loading,cors:this.cors},()=>{this.render("loading",!1),this.state.loading=!1,e()},()=>{e(),this.state.loading=!1})}load(e=Rd){if(this.attempt>this.options.attempt-1&&this.state.error){e();return}if(!(this.state.rendered&&this.state.loaded)){if(this.imageCache.has(this.src))return this.state.loaded=!0,this.render("loaded",!0),this.state.rendered=!0,e();this.renderLoading(()=>{var n,i;this.attempt++,(i=(n=this.options.adapter).beforeLoad)==null||i.call(n,this,this.options),this.record("loadStart"),Vc({src:this.src,cors:this.cors},s=>{this.naturalHeight=s.naturalHeight,this.naturalWidth=s.naturalWidth,this.state.loaded=!0,this.state.error=!1,this.record("loadEnd"),this.render("loaded",!1),this.state.rendered=!0,this.imageCache.add(this.src),e()},s=>{!this.options.silent&&console.error(s),this.state.error=!0,this.state.loaded=!1,this.render("error",!1)})})}}render(e,n){this.elRenderer(this,e,n)}performance(){let e="loading",n=0;return this.state.loaded&&(e="loaded",n=(this.performanceData.loadEnd-this.performanceData.loadStart)/1e3),this.state.error&&(e="error"),{src:this.src,state:e,time:n}}$destroy(){this.el=null,this.src=null,this.error=null,this.loading=null,this.bindType=null,this.attempt=0}}const Vv="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",WF=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],zF={rootMargin:"0px",threshold:0};function YF(){return class{constructor({preLoad:e,error:n,throttleWait:i,preLoadTop:s,dispatchEvent:o,loading:u,attempt:m,silent:p=!0,scale:l,listenEvents:y,filter:v,adapter:f,observer:b,observerOptions:S}){this.mode=Fi.event,this.listeners=[],this.targetIndex=0,this.targets=[],this.options={silent:p,dispatchEvent:!!o,throttleWait:i||200,preLoad:e||1.3,preLoadTop:s||0,error:n||Vv,loading:u||Vv,attempt:m||3,scale:l||UF(l),ListenEvents:y||WF,supportWebp:$F(),filter:v||{},adapter:f||{},observer:!!b,observerOptions:S||zF},this.initEvent(),this.imageCache=new KF({max:200}),this.lazyLoadHandler=GF(this.lazyLoadHandler.bind(this),this.options.throttleWait),this.setMode(this.options.observer?Fi.observer:Fi.event)}config(e={}){Object.assign(this.options,e)}performance(){return this.listeners.map(e=>e.performance())}addLazyBox(e){this.listeners.push(e),vr&&(this.addListenerTarget(window),this.observer&&this.observer.observe(e.el),e.$el&&e.$el.parentNode&&this.addListenerTarget(e.$el.parentNode))}add(e,n,i){if(this.listeners.some(u=>u.el===e))return this.update(e,n),Xt(this.lazyLoadHandler);const s=this.valueFormatter(n.value);let{src:o}=s;Xt(()=>{o=Kv(e,this.options.scale)||o,this.observer&&this.observer.observe(e);const u=Object.keys(n.modifiers)[0];let m;u&&(m=i.context.$refs[u],m=m?m.$el||m:document.getElementById(u)),m||(m=Ld(e));const p=new VF({bindType:n.arg,$parent:m,el:e,src:o,loading:s.loading,error:s.error,cors:s.cors,elRenderer:this.elRenderer.bind(this),options:this.options,imageCache:this.imageCache});this.listeners.push(p),vr&&(this.addListenerTarget(window),this.addListenerTarget(m)),this.lazyLoadHandler(),Xt(()=>this.lazyLoadHandler())})}update(e,n,i){const s=this.valueFormatter(n.value);let{src:o}=s;o=Kv(e,this.options.scale)||o;const u=this.listeners.find(m=>m.el===e);u?u.update({src:o,error:s.error,loading:s.loading}):this.add(e,n,i),this.observer&&(this.observer.unobserve(e),this.observer.observe(e)),this.lazyLoadHandler(),Xt(()=>this.lazyLoadHandler())}remove(e){if(!e)return;this.observer&&this.observer.unobserve(e);const n=this.listeners.find(i=>i.el===e);n&&(this.removeListenerTarget(n.$parent),this.removeListenerTarget(window),Aa(this.listeners,n),n.$destroy())}removeComponent(e){!e||(Aa(this.listeners,e),this.observer&&this.observer.unobserve(e.el),e.$parent&&e.$el.parentNode&&this.removeListenerTarget(e.$el.parentNode),this.removeListenerTarget(window))}setMode(e){!jv&&e===Fi.observer&&(e=Fi.event),this.mode=e,e===Fi.event?(this.observer&&(this.listeners.forEach(n=>{this.observer.unobserve(n.el)}),this.observer=null),this.targets.forEach(n=>{this.initListen(n.el,!0)})):(this.targets.forEach(n=>{this.initListen(n.el,!1)}),this.initIntersectionObserver())}addListenerTarget(e){if(!e)return;let n=this.targets.find(i=>i.el===e);return n?n.childrenCount++:(n={el:e,id:++this.targetIndex,childrenCount:1,listened:!0},this.mode===Fi.event&&this.initListen(n.el,!0),this.targets.push(n)),this.targetIndex}removeListenerTarget(e){this.targets.forEach((n,i)=>{n.el===e&&(n.childrenCount--,n.childrenCount||(this.initListen(n.el,!1),this.targets.splice(i,1),n=null))})}initListen(e,n){this.options.ListenEvents.forEach(i=>(n?HF:jF)(e,i,this.lazyLoadHandler))}initEvent(){this.Event={listeners:{loading:[],loaded:[],error:[]}},this.$on=(e,n)=>{this.Event.listeners[e]||(this.Event.listeners[e]=[]),this.Event.listeners[e].push(n)},this.$once=(e,n)=>{const i=(...s)=>{this.$off(e,i),n.apply(this,s)};this.$on(e,i)},this.$off=(e,n)=>{if(!n){if(!this.Event.listeners[e])return;this.Event.listeners[e].length=0;return}Aa(this.Event.listeners[e],n)},this.$emit=(e,n,i)=>{!this.Event.listeners[e]||this.Event.listeners[e].forEach(s=>s(n,i))}}lazyLoadHandler(){const e=[];this.listeners.forEach(n=>{(!n.el||!n.el.parentNode)&&e.push(n),n.checkInView()&&n.load()}),e.forEach(n=>{Aa(this.listeners,n),n.$destroy()})}initIntersectionObserver(){!jv||(this.observer=new IntersectionObserver(this.observerHandler.bind(this),this.options.observerOptions),this.listeners.length&&this.listeners.forEach(e=>{this.observer.observe(e.el)}))}observerHandler(e){e.forEach(n=>{n.isIntersecting&&this.listeners.forEach(i=>{if(i.el===n.target){if(i.state.loaded)return this.observer.unobserve(i.el);i.load()}})})}elRenderer(e,n,i){if(!e.el)return;const{el:s,bindType:o}=e;let u;switch(n){case"loading":u=e.loading;break;case"error":u=e.error;break;default:({src:u}=e);break}if(o?s.style[o]='url("'+u+'")':s.getAttribute("src")!==u&&s.setAttribute("src",u),s.setAttribute("lazy",n),this.$emit(n,e,i),this.options.adapter[n]&&this.options.adapter[n](e,this.options),this.options.dispatchEvent){const m=new CustomEvent(n,{detail:e});s.dispatchEvent(m)}}valueFormatter(e){let n=e,{loading:i,error:s}=this.options;return Va(e)&&({src:n}=e,i=e.loading||this.options.loading,s=e.error||this.options.error),{src:n,loading:i,error:s}}}}var qF=t=>({props:{tag:{type:String,default:"div"}},emits:["show"],render(){return Rl(this.tag,this.show&&this.$slots.default?this.$slots.default():null)},data(){return{el:null,state:{loaded:!1},show:!1}},mounted(){this.el=this.$el,t.addLazyBox(this),t.lazyLoadHandler()},beforeUnmount(){t.removeComponent(this)},methods:{checkInView(){const e=On(this.$el);return vr&&e.top<window.innerHeight*t.options.preLoad&&e.bottom>0&&e.left<window.innerWidth*t.options.preLoad&&e.right>0},load(){this.show=!0,this.state.loaded=!0,this.$emit("show",this)},destroy(){return this.$destroy}}});const QF={selector:"img"};class ZF{constructor({el:e,binding:n,vnode:i,lazy:s}){this.el=null,this.vnode=i,this.binding=n,this.options={},this.lazy=s,this.queue=[],this.update({el:e,binding:n})}update({el:e,binding:n}){this.el=e,this.options=Object.assign({},QF,n.value),this.getImgs().forEach(s=>{this.lazy.add(s,Object.assign({},this.binding,{value:{src:"dataset"in s?s.dataset.src:s.getAttribute("data-src"),error:("dataset"in s?s.dataset.error:s.getAttribute("data-error"))||this.options.error,loading:("dataset"in s?s.dataset.loading:s.getAttribute("data-loading"))||this.options.loading}}),this.vnode)})}getImgs(){return Array.from(this.el.querySelectorAll(this.options.selector))}clear(){this.getImgs().forEach(n=>this.lazy.remove(n)),this.vnode=null,this.binding=null,this.lazy=null}}class JF{constructor({lazy:e}){this.lazy=e,this.queue=[]}bind(e,n,i){const s=new ZF({el:e,binding:n,vnode:i,lazy:this.lazy});this.queue.push(s)}update(e,n,i){const s=this.queue.find(o=>o.el===e);!s||s.update({el:e,binding:n,vnode:i})}unbind(e){const n=this.queue.find(i=>i.el===e);!n||(n.clear(),Aa(this.queue,n))}}var XF=t=>({props:{src:[String,Object],tag:{type:String,default:"img"}},render(e){return e(this.tag,{attrs:{src:this.renderSrc}},this.$slots.default)},data(){return{el:null,options:{src:"",error:"",loading:"",attempt:t.options.attempt},state:{loaded:!1,error:!1,attempt:0},renderSrc:""}},watch:{src(){this.init(),t.addLazyBox(this),t.lazyLoadHandler()}},created(){this.init(),this.renderSrc=this.options.loading},mounted(){this.el=this.$el,t.addLazyBox(this),t.lazyLoadHandler()},beforeUnmount(){t.removeComponent(this)},methods:{init(){const{src:e,loading:n,error:i}=t.valueFormatter(this.src);this.state.loaded=!1,this.options.src=e,this.options.error=i,this.options.loading=n,this.renderSrc=this.options.loading},checkInView(){const e=On(this.$el);return e.top<window.innerHeight*t.options.preLoad&&e.bottom>0&&e.left<window.innerWidth*t.options.preLoad&&e.right>0},load(e=Rd){if(this.state.attempt>this.options.attempt-1&&this.state.error){e();return}const{src:n}=this.options;Vc({src:n},({src:i})=>{this.renderSrc=i,this.state.loaded=!0},()=>{this.state.attempt++,this.renderSrc=this.options.error,this.state.error=!0})}}});const t3={install(t,e={}){const n=YF(),i=new n(e),s=new JF({lazy:i});t.config.globalProperties.$Lazyload=i,e.lazyComponent&&t.component("LazyComponent",qF(i)),e.lazyImage&&t.component("LazyImage",XF(i)),t.directive("lazy",{beforeMount:i.add.bind(i),updated:i.update.bind(i),unmounted:i.remove.bind(i)}),t.directive("lazy-container",{beforeMount:s.bind.bind(s),updated:s.update.bind(s),unmounted:s.unbind.bind(s)})}};const S0=t=>(de("data-v-0e275744"),t=t(),fe(),t),e3={class:"vodeopage"},n3=S0(()=>_("img",{class:"doge",src:Nm},null,-1)),r3=S0(()=>_("img",{class:"doge",src:Fl},null,-1)),i3={class:"videolist"},s3=["onClick"],a3={class:"title"},o3={class:"video-info"},l3=["src"],u3={class:"user-name"},c3={class:"dianz"},d3={class:"like-icon"},f3={key:0,src:Um,alt:""},h3={key:1,src:Yi,alt:""},g3=["textContent"],v3={__name:"SmallVideoPage",setup(t){const e=ze();let n=Z(0);const i=v=>{console.log(v)},s=()=>{px({offset:n.value*10}).then(v=>{console.log(v),o.value=[...o.value,...v.data.data.feeds],e.videolist.value=o.value,Xt(()=>{n.value++,n.value>=100&&(m.value=!0)}).finally(()=>{Xt(()=>{u.value=!1})})})};let o=Z([]);const u=Z(!1),m=Z(!1),p=Z(!1),l=()=>{setTimeout(()=>{rr("\u5237\u65B0\u6210\u529F"),p.value=!1},1e3)},y=()=>{console.log("\u89E6\u5E95\u4E86",n.value),s()};return(v,f)=>{const b=Wt("van-list"),S=Wt("van-pull-refresh");return N(),$("div",e3,[at(S,{modelValue:p.value,"onUpdate:modelValue":f[1]||(f[1]=d=>p.value=d),"head-height":60,onRefresh:l},{pulling:Jt(d=>[_("img",{class:"doge",src:Fl,style:cn({transform:`scale(${d.distance/60})`})},null,4)]),loosing:Jt(()=>[n3]),loading:Jt(()=>[r3]),default:Jt(()=>[at(b,{loading:u.value,"onUpdate:loading":f[0]||(f[0]=d=>u.value=d),finished:m.value,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:y},{default:Jt(()=>[_("div",i3,[(N(!0),$(ht,null,At(X(o),(d,h)=>(N(),$("div",{class:"video",key:d,style:cn({background:`url(${d.shareInfo.img}) 50% 100%`,"background-size":"cover","background-positione":"50%"}),onClick:c=>{v.$router.push({path:"./PlaySmallVideo",query:{index:h}}),i(h),X(e).playvideo({videolist:X(o)})}},[_("div",a3,Q(d.title),1),_("div",o3,[_("img",{class:"img user-avatar",src:`${d.user.avatarurl}`,width:"21.5",height:"21.5"},null,8,l3),_("div",u3,Q(d.user.nickName),1),_("div",c3,[_("div",d3,[X(e).feeds.includes(d.id)?pt("",!0):(N(),$("img",f3)),X(e).feeds.includes(d.id)?(N(),$("img",h3)):pt("",!0)]),_("div",{class:"like-count",textContent:Q(X(e).feeds.includes(d.id)?d.shareCount+1:d.shareCount)},null,8,g3)])])],12,s3))),128))])]),_:1},8,["loading","finished"])]),_:1},8,["modelValue"])])}}},p3=Te(v3,[["__scopeId","data-v-0e275744"]]),m3={class:"video"},y3={__name:"SmallVideoView",setup(t){const e=ze();return e.xxx(),jt(()=>e.feeds),(n,i)=>(N(),$("div",m3,[at(p3)]))}},_3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAA/FBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////rACn////rBS3+/f3++vrsDDP70tn0e5DsEjj2j6HtGD395+v84+f2lab+8/T6wMrwSmfvNVXuMFH4qbbuJkj97vD82d/yW3XxUGzvPVz7ztXuK0396u35ucT5tcH4sb3xVXDvOln//Pz71tz6yND1g5b0dIrwRGL+9vf6xM34rbr83OHzbYT3nazzaYHyYHntHkL3man1iZv84OT3o7H1h5rwP133nKvAjPGOAAAAHHRSTlMA0K9vBmHu+ffs6+XfyLeNbFlQPjgyHxgKiO+J+k7jUgAABXBJREFUWMOc1WlT4kAQxnEO8T7X2+3/jJggGFApQClRwKsotbR84ff/LpvM5FhYjrC/d0rx0D3TnWSm2S8c57LrK0tLK+vZ3HFhP/M/DrdzJ4w4yW0fzpeysLOpsbRXbjTKXvzn5s5C6pij/BoBr+O02koM1W45HY/AWv4oXU5+FV+51FUyQnVLZXyr+RQxe1l8dzUlY6naHb7s3qzD2cJ3fylTXN7j25p6VAcbQP9FZnjpAxsHk3N2F6HnKJlJOaewuDsp59cyVG4klZsKLP8an1PQUHUlJbcKujC2Hg0DJampAegxNe0uw7vMQ73D8u4/97UIA5nTABYPRuZnA6qmr3fnU2b6dEzxqgobw/O0BRXXTBvoalNNbalZ1WBm1q3A1tBeQM/eu0Og0ZSJmg0Cjp2CU/h7W7LRB1LFOovmya13W61u3Y3m5wyrKtEPZ5OcPPRtN8VTIj9Ft1W67RHq3ZZabvGHyGnR9tmHfPz8WYVwv2okPM0I7ZGohXsHq0dJQfcSVZqaI9Z9XNLCmrkD45rUrsW6hDU7AjtwJ6EzUjuT0B3smKBN06/1SmqvEqrBpnnvaMpKrHPmcC6WKqODt9Q2lCR0xRyuJFSCbT8oB92kyvSS8+hCzg86wVPx+DOHeI2Ux4n/foeORD5IvBKZ8M8PiXRgP1MARyKPWBWnraR4U3odCindFEW1nQrWo0QcKGR+Q0tCDxj6Kb7FDrFOfEtPGuNBQi04Ds66PTyOuimJL0Jfkmjq4ZFsB6edRat42I0nCdTf3OghCNHj032rS+AJ4zKqUZPNrONJ6ILAt83th8vU7uHrtcNV7NtvfhO4kJDHemaFsoT6BJ7FiCvv4OvEvYvxjM+kGmVWMks0xHJt5/UkKBmJj5GgOgHtitVg6U8p5raUOBCE4Vq31itr7/auO8yoBIbDJAEJCQQNsDEoiMD7P8yGmcr02q6Ctd8VlQp/ZQ59+PsvoZHNfMCEDlhxYEJgM+mIhKqltekQKyIupE1ccaEIEenitKulXbm/ru3neiRElytjQp7dhrWTvaqPnwJNkxBl3xsmpOtwo+O/sNtLoT9nQjFWxExoTgnAbv3FMUQW2WreVOoRDZE9igJVvXO0GwoLe8ARGh6Vas5X2eIYIj+Qs7MVbmTv8gANA3vPR7aa7ZDzo0ojFZ0y7qZpgpY9OGSM2Hh4aCDGEhx7tCRp2o1LU+x+mcR2S9fVMN3UGXOAmGgAnSAO6oy4maLBBYHs4KVNtYc6ZdaIYNiXcJuagHJJIL0F2R8GVNVn7iZf1Mk/XKu8wyvp1ia5McDYJrOtfUR0crUOTfK35Shq43u61QtWCbw2GprQxfe0I1OOTIGsKIPFnX5BQoRamKueSZk1zBM9Fki86LtFUOKRn3XJTjLfbluEROzpQjSuexAE0LtuiEJ7MRKRtNk4S+qS7ZqIvvE+RK7Bk+BPEac+SA90/HZJzb5rIlxbk4JcDZAjCrWdCvNrulW5QM5gJSE1bY1rtFRyfH3yPB7+PquDGI6fJ0fhRFGjZT6por3wzae28CQtsyh/YU/z+5tmNFm7YhbjCWJX4tYJ4re37bE4UIA1xafLalLYUXtMDXvLB8fm6R4/4P5pAw6/RQ07WYjCAyJ8vP+nTBAC4RVkIcjUcJPlrwrBb8PK50bLmhpuswLmQeTyZpe/RkJEr/nuZimZJwnIZnHjx5U4XIeMH7eiuQ9n4ufMijJz3JrBWcxa3Bxzuy7m59j1Odn1jwcI5ekBQmkHCKdHGrNPV0UjjdNDlm4PPqDXpSHLeWMftXw/9lkqGvt8YRAVTfZZKMEgw2w/iWgQ9fXRGIqkLBOBXx+N0bDuEhmXp4d1/z8+/AMCpvk8GZjF1AAAAABJRU5ErkJggg==";const Wr=t=>(de("data-v-21d6f50a"),t=t(),fe(),t),A3={class:"me-view"},E3={class:"wrap"},b3=Wr(()=>_("div",{class:"mw-top"},[_("span",null,"\u6211\u7684")],-1)),T3={class:"mw-content"},S3=Wr(()=>_("div",{class:"header"},[_("div",{class:"home-bg"})],-1)),k3={class:"container"},w3={class:"orders"},C3=Wr(()=>_("div",{class:"title"},[_("span",null,"\u6211\u7684\u8BA2\u5355"),_("div",{class:"t-line"})],-1)),R3={class:"list-box"},x3=Wr(()=>_("img",{src:"https://obj.pipi.cn/festatic/asgard/resources/images/dpmmweb/mycenter/movie.png",alt:""},null,-1)),I3=Wr(()=>_("span",null,"\u7535\u5F71",-1)),L3=[x3,I3],D3=Wr(()=>_("img",{src:_3,alt:""},null,-1)),O3=Wr(()=>_("span",null,"\u60F3\u770B",-1)),P3=[D3,O3],F3=Wr(()=>_("div",{class:"tow-box"},[_("img",{src:"https://obj.pipi.cn/festatic/asgard/resources/images/dpmmweb/mycenter/store.png",alt:""}),_("span",null,"\u5546\u57CE")],-1)),M3=Wr(()=>_("div",null,[_("p",null,"\u6CE8\u9500\u767B\u5F55")],-1)),B3=[M3],N3={__name:"MeView",setup(t){const e=Ua();Z(!1);const n=()=>{window.localStorage.removeItem("token"),e.push("/login")};return(i,s)=>(N(),$("div",A3,[_("div",E3,[b3,_("div",T3,[S3,_("div",k3,[_("div",w3,[C3,_("div",R3,[_("div",{class:"one-box",onClick:s[0]||(s[0]=o=>i.$router.push({path:"/orderpage"}))},L3),_("div",{class:"three-box",onClick:s[1]||(s[1]=o=>i.$router.push({path:"/wantpage"}))},P3),F3])])]),_("div",{class:"clear",onClick:n},B3)])])]))}},U3=Te(N3,[["__scopeId","data-v-21d6f50a"]]),$3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAQAAAC00HvSAAAAkUlEQVRIx93VMQqFMBRE0bcILX5lbZEiIAGX43qzECEQCLiA+yvFxsZ5EHAWcJhqxqxHSGQyg4YsNAA2D6QIbW5IeI9Eqh9SuyPhQqKCFD+ksXRGZl8kKcjuhxys75HRATFjA3kMzJg4ANiZNWj9PlR0qHlDQYPSd6Hzo6ofFFWoekM/DTqPTxsRMyKZLLZ5zh/GfkK1d+DYXwAAAABJRU5ErkJggg==";const G3=t=>(de("data-v-025350e3"),t=t(),fe(),t),H3={class:"login"},j3={class:"wrap"},K3=G3(()=>_("span",null,"\u732B\u773C\u7535\u5F71",-1)),V3={action:""},W3={for:""},z3={for:""},Y3={for:""},q3=["onClick"],Q3={__name:"LoginView",setup(t){const e=Ua();kr();const n=Z(""),i=Z("");function s(){e.replace("/")}const o=()=>{setTimeout(()=>{let u="MaJ6bKsj",m="17577038795",p="ll273902";n.value==m&&i.value==p&&(localStorage.setItem("token",u),e.replace("/me"))},500)};return(u,m)=>(N(),$("div",H3,[_("div",j3,[_("div",{class:"w-top"},[_("img",{src:$3,alt:"",onClick:s}),K3]),_("form",V3,[_("label",W3,[Le(_("input",{type:"text",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7","onUpdate:modelValue":m[0]||(m[0]=p=>n.value=p)},null,512),[[cl,n.value]])]),_("label",z3,[Le(_("input",{type:"password",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801","onUpdate:modelValue":m[1]||(m[1]=p=>i.value=p)},null,512),[[cl,i.value]])]),_("label",Y3,[_("input",{class:Kt(["btn",{active:i.value&&n.value}]),type:"submit",value:"\u767B\u5F55",onClick:Qe(o,["prevent"])},null,10,q3)])])])]))}},Z3=Te(Q3,[["__scopeId","data-v-025350e3"]]);const Nd=t=>(de("data-v-36e28a4d"),t=t(),fe(),t),J3={class:"region-view"},X3={class:"wrap"},tM={class:"positioning-city"},eM={class:"card"},nM=Nd(()=>_("h3",null,"\u5B9A\u4F4D\u57CE\u5E02",-1)),rM={class:"box"},iM={key:0,class:"show-box"},sM={key:1,class:"show-box"},aM={key:0},oM={key:1},lM={key:0,class:"recently"},uM={class:"card"},cM=Nd(()=>_("h3",null,"\u6700\u8FD1\u8BBF\u95EE\u57CE\u5E02",-1)),dM={class:"item"},fM={class:"c-box"},hM={class:"hotCity"},gM={class:"card"},vM=Nd(()=>_("h3",null,"\u70ED\u95E8\u57CE\u5E02",-1)),pM={class:"item"},mM=["onClick"],yM={class:"c-box"},_M={class:"list"},AM={__name:"RegionView",setup(t){const e=ze(),n=Z([]),i=Z([]),s=Z(null);fx().then(l=>{n.value=u(l.data.cts),i.value=l.data.hot,console.log(l)});function o(){Sn({method:"get",url:"https://apis.netstart.cn/maoyan/cities.json"}).then(l=>{console.log(l)})}o();function u(l){for(var y=[],v=0;v<(l==null?void 0:l.length);v++)y.push({letter:l[v].py.charAt(0).toLocaleUpperCase(),citys:l[v]});var f=[];y.forEach(function(S){for(var d=0;d<f.length;d++)if(f[d].letter==S.letter){f[d].citys.push(S.citys);return}f.push({letter:S.letter,citys:[S.citys]})});function b(S,d){const h=S.letter.toUpperCase(),c=d.letter.toUpperCase();var g=0;return h>c?g=1:h<c&&(g=-1),g}return f.sort(b)}const m=Z(0);var p=new BMapGL.Geolocation;return p.getCurrentPosition(function(l){this.getStatus()==BMAP_STATUS_SUCCESS?(console.log("\u4F4D\u7F6E:",l.point.lng+","+l.point.lat),wd({lat:l.point.lat,lng:l.point.lng}).then(y=>{var v,f;s.value=(f=(v=y==null?void 0:y.data)==null?void 0:v.data)==null?void 0:f.city,console.log(y)})):(console.log("\u5B9A\u4F4D\u8D85\u65F6"+this.getStatus()),m.value=this.getStatus())}),(l,y)=>{var S;const v=Wt("van-index-anchor"),f=Wt("van-cell"),b=Wt("van-index-bar");return N(),$("div",J3,[_("div",X3,[_("div",tM,[_("div",eM,[nM,_("div",rM,[s.value?(N(),$("div",iM,[_("p",null,Q(s.value),1)])):(N(),$("div",sM,[m.value!=8?(N(),$("p",aM,"\u6B63\u5728\u5B9A\u4F4D...")):(N(),$("p",oM,"\u5B9A\u4F4D\u8D85\u65F6"))]))])])]),(S=X(e).citys)!=null&&S.length?(N(),$("div",lM,[_("div",uM,[cM,_("ul",dM,[(N(!0),$(ht,null,At(X(e).citys,(d,h)=>(N(),$("li",{key:h},[_("div",fM,[_("p",null,Q(d),1)])]))),128))])])])):pt("",!0),_("div",hM,[_("div",gM,[vM,_("ul",pM,[(N(!0),$(ht,null,At(i.value,(d,h)=>(N(),$("li",{key:h,onClick:c=>{X(e).getCitys(d),l.$router.back()}},[_("div",yM,[_("p",null,Q(d),1)])],8,mM))),128))])])]),_("div",_M,[at(b,{sticky:!1},{default:Jt(()=>[at(v,{index:"A"}),(N(!0),$(ht,null,At(n.value,(d,h)=>(N(),$(ht,{key:h},[(d==null?void 0:d.letter)=="A"?(N(!0),$(ht,{key:0},At(d==null?void 0:d.citys,c=>(N(),ie(f,{title:c==null?void 0:c.nm,key:c==null?void 0:c.id,onClick:g=>{X(e).getCitys(c==null?void 0:c.nm),l.$router.back()}},null,8,["title","onClick"]))),128)):pt("",!0)],64))),128)),at(v,{index:"B"}),(N(!0),$(ht,null,At(n.value,(d,h)=>(N(),$(ht,{key:h},[(d==null?void 0:d.letter)=="B"?(N(!0),$(ht,{key:0},At(d==null?void 0:d.citys,c=>(N(),ie(f,{title:c==null?void 0:c.nm,key:c==null?void 0:c.id,onClick:g=>{X(e).getCitys(c==null?void 0:c.nm),l.$router.back()}},null,8,["title","onClick"]))),128)):pt("",!0)],64))),128)),at(v,{index:"C"}),(N(!0),$(ht,null,At(n.value,(d,h)=>(N(),$(ht,{key:h},[(d==null?void 0:d.letter)=="C"?(N(!0),$(ht,{key:0},At(d==null?void 0:d.citys,c=>(N(),ie(f,{title:c==null?void 0:c.nm,key:c==null?void 0:c.id,onClick:g=>{X(e).getCitys(c==null?void 0:c.nm),l.$router.back()}},null,8,["title","onClick"]))),128)):pt("",!0)],64))),128)),at(v,{index:"D"}),(N(!0),$(ht,null,At(n.value,(d,h)=>(N(),$(ht,{key:h},[(d==null?void 0:d.letter)=="D"?(N(!0),$(ht,{key:0},At(d==null?void 0:d.citys,c=>(N(),ie(f,{title:c==null?void 0:c.nm,key:c==null?void 0:c.id,onClick:g=>{X(e).getCitys(c==null?void 0:c.nm),l.$router.back()}},null,8,["title","onClick"]))),128)):pt("",!0)],64))),128)),at(v,{index:"E"}),(N(!0),$(ht,null,At(n.value,(d,h)=>(N(),$(ht,{key:h},[(d==null?void 0:d.letter)=="E"?(N(!0),$(ht,{key:0},At(d==null?void 0:d.citys,c=>(N(),ie(f,{title:c==null?void 0:c.nm,key:c==null?void 0:c.id,onClick:g=>{X(e).getCitys(c==null?void 0:c.nm),l.$router.back()}},null,8,["title","onClick"]))),128)):pt("",!0)],64))),128)),at(v,{index:"F"}),(N(!0),$(ht,null,At(n.value,(d,h)=>(N(),$(ht,{key:h},[(d==null?void 0:d.letter)=="F"?(N(!0),$(ht,{key:0},At(d==null?void 0:d.citys,c=>(N(),ie(f,{title:c==null?void 0:c.nm,key:c==null?void 0:c.id,onClick:g=>{X(e).getCitys(c==null?void 0:c.nm),l.$router.back()}},null,8,["title","onClick"]))),128)):pt("",!0)],64))),128)),at(v,{index:"G"}),(N(!0),$(ht,null,At(n.value,(d,h)=>(N(),$(ht,{key:h},[(d==null?void 0:d.letter)=="G"?(N(!0),$(ht,{key:0},At(d==null?void 0:d.citys,c=>(N(),ie(f,{title:c==null?void 0:c.nm,key:c==null?void 0:c.id,onClick:g=>{X(e).getCitys(c==null?void 0:c.nm),l.$router.back()}},null,8,["title","onClick"]))),128)):pt("",!0)],64))),128)),at(v,{index:"H"}),(N(!0),$(ht,null,At(n.value,(d,h)=>(N(),$(ht,{key:h},[(d==null?void 0:d.letter)=="H"?(N(!0),$(ht,{key:0},At(d==null?void 0:d.citys,c=>(N(),ie(f,{title:c==null?void 0:c.nm,key:c==null?void 0:c.id,onClick:g=>{X(e).getCitys(c==null?void 0:c.nm),l.$router.back()}},null,8,["title","onClick"]))),128)):pt("",!0)],64))),128)),at(v,{index:"I"}),(N(!0),$(ht,null,At(n.value,(d,h)=>(N(),$(ht,{key:h},[(d==null?void 0:d.letter)=="I"?(N(!0),$(ht,{key:0},At(d==null?void 0:d.citys,c=>(N(),ie(f,{title:c==null?void 0:c.nm,key:c==null?void 0:c.id,onClick:g=>{X(e).getCitys(c==null?void 0:c.nm),l.$router.back()}},null,8,["title","onClick"]))),128)):pt("",!0)],64))),128)),at(v,{index:"J"}),(N(!0),$(ht,null,At(n.value,(d,h)=>(N(),$(ht,{key:h},[(d==null?void 0:d.letter)=="J"?(N(!0),$(ht,{key:0},At(d==null?void 0:d.citys,c=>(N(),ie(f,{title:c==null?void 0:c.nm,key:c==null?void 0:c.id,onClick:g=>{X(e).getCitys(c==null?void 0:c.nm),l.$router.back()}},null,8,["title","onClick"]))),128)):pt("",!0)],64))),128)),at(v,{index:"K"}),(N(!0),$(ht,null,At(n.value,(d,h)=>(N(),$(ht,{key:h},[(d==null?void 0:d.letter)=="K"?(N(!0),$(ht,{key:0},At(d==null?void 0:d.citys,c=>(N(),ie(f,{title:c==null?void 0:c.nm,key:c==null?void 0:c.id,onClick:g=>{X(e).getCitys(c==null?void 0:c.nm),l.$router.back()}},null,8,["title","onClick"]))),128)):pt("",!0)],64))),128)),at(v,{index:"L"}),(N(!0),$(ht,null,At(n.value,(d,h)=>(N(),$(ht,{key:h},[(d==null?void 0:d.letter)=="L"?(N(!0),$(ht,{key:0},At(d==null?void 0:d.citys,c=>(N(),ie(f,{title:c==null?void 0:c.nm,key:c==null?void 0:c.id,onClick:g=>{X(e).getCitys(c==null?void 0:c.nm),l.$router.back()}},null,8,["title","onClick"]))),128)):pt("",!0)],64))),128)),at(v,{index:"M"}),(N(!0),$(ht,null,At(n.value,(d,h)=>(N(),$(ht,{key:h},[(d==null?void 0:d.letter)=="M"?(N(!0),$(ht,{key:0},At(d==null?void 0:d.citys,c=>(N(),ie(f,{title:c==null?void 0:c.nm,key:c==null?void 0:c.id,onClick:g=>{X(e).getCitys(c==null?void 0:c.nm),l.$router.back()}},null,8,["title","onClick"]))),128)):pt("",!0)],64))),128)),at(v,{index:"N"}),(N(!0),$(ht,null,At(n.value,(d,h)=>(N(),$(ht,{key:h},[(d==null?void 0:d.letter)=="N"?(N(!0),$(ht,{key:0},At(d==null?void 0:d.citys,c=>(N(),ie(f,{title:c==null?void 0:c.nm,key:c==null?void 0:c.id,onClick:g=>{X(e).getCitys(c==null?void 0:c.nm),l.$router.back()}},null,8,["title","onClick"]))),128)):pt("",!0)],64))),128)),at(v,{index:"O"}),(N(!0),$(ht,null,At(n.value,(d,h)=>(N(),$(ht,{key:h},[(d==null?void 0:d.letter)=="O"?(N(!0),$(ht,{key:0},At(d==null?void 0:d.citys,c=>(N(),ie(f,{title:c==null?void 0:c.nm,key:c==null?void 0:c.id,onClick:g=>{X(e).getCitys(c==null?void 0:c.nm),l.$router.back()}},null,8,["title","onClick"]))),128)):pt("",!0)],64))),128)),at(v,{index:"P"}),(N(!0),$(ht,null,At(n.value,(d,h)=>(N(),$(ht,{key:h},[(d==null?void 0:d.letter)=="P"?(N(!0),$(ht,{key:0},At(d==null?void 0:d.citys,c=>(N(),ie(f,{title:c==null?void 0:c.nm,key:c==null?void 0:c.id,onClick:g=>{X(e).getCitys(c==null?void 0:c.nm),l.$router.back()}},null,8,["title","onClick"]))),128)):pt("",!0)],64))),128)),at(v,{index:"Q"}),(N(!0),$(ht,null,At(n.value,(d,h)=>(N(),$(ht,{key:h},[(d==null?void 0:d.letter)=="Q"?(N(!0),$(ht,{key:0},At(d==null?void 0:d.citys,c=>(N(),ie(f,{title:c==null?void 0:c.nm,key:c==null?void 0:c.id,onClick:g=>{X(e).getCitys(c==null?void 0:c.nm),l.$router.back()}},null,8,["title","onClick"]))),128)):pt("",!0)],64))),128)),at(v,{index:"R"}),(N(!0),$(ht,null,At(n.value,(d,h)=>(N(),$(ht,{key:h},[(d==null?void 0:d.letter)=="R"?(N(!0),$(ht,{key:0},At(d==null?void 0:d.citys,c=>(N(),ie(f,{title:c==null?void 0:c.nm,key:c==null?void 0:c.id,onClick:g=>{X(e).getCitys(c==null?void 0:c.nm),l.$router.back()}},null,8,["title","onClick"]))),128)):pt("",!0)],64))),128)),at(v,{index:"S"}),(N(!0),$(ht,null,At(n.value,(d,h)=>(N(),$(ht,{key:h},[(d==null?void 0:d.letter)=="S"?(N(!0),$(ht,{key:0},At(d==null?void 0:d.citys,c=>(N(),ie(f,{title:c==null?void 0:c.nm,key:c==null?void 0:c.id,onClick:g=>{X(e).getCitys(c==null?void 0:c.nm),l.$router.back()}},null,8,["title","onClick"]))),128)):pt("",!0)],64))),128)),at(v,{index:"T"}),(N(!0),$(ht,null,At(n.value,(d,h)=>(N(),$(ht,{key:h},[(d==null?void 0:d.letter)=="T"?(N(!0),$(ht,{key:0},At(d==null?void 0:d.citys,c=>(N(),ie(f,{title:c==null?void 0:c.nm,key:c==null?void 0:c.id,onClick:g=>{X(e).getCitys(c==null?void 0:c.nm),l.$router.back()}},null,8,["title","onClick"]))),128)):pt("",!0)],64))),128)),at(v,{index:"U"}),(N(!0),$(ht,null,At(n.value,(d,h)=>(N(),$(ht,{key:h},[(d==null?void 0:d.letter)=="U"?(N(!0),$(ht,{key:0},At(d==null?void 0:d.citys,c=>(N(),ie(f,{title:c==null?void 0:c.nm,key:c==null?void 0:c.id,onClick:g=>{X(e).getCitys(c==null?void 0:c.nm),l.$router.back()}},null,8,["title","onClick"]))),128)):pt("",!0)],64))),128)),at(v,{index:"V"}),(N(!0),$(ht,null,At(n.value,(d,h)=>(N(),$(ht,{key:h},[(d==null?void 0:d.letter)=="V"?(N(!0),$(ht,{key:0},At(d==null?void 0:d.citys,c=>(N(),ie(f,{title:c==null?void 0:c.nm,key:c==null?void 0:c.id,onClick:g=>{X(e).getCitys(c==null?void 0:c.nm),l.$router.back()}},null,8,["title","onClick"]))),128)):pt("",!0)],64))),128)),at(v,{index:"W"}),(N(!0),$(ht,null,At(n.value,(d,h)=>(N(),$(ht,{key:h},[(d==null?void 0:d.letter)=="W"?(N(!0),$(ht,{key:0},At(d==null?void 0:d.citys,c=>(N(),ie(f,{title:c==null?void 0:c.nm,key:c==null?void 0:c.id,onClick:g=>{X(e).getCitys(c==null?void 0:c.nm),l.$router.back()}},null,8,["title","onClick"]))),128)):pt("",!0)],64))),128)),at(v,{index:"X"}),(N(!0),$(ht,null,At(n.value,(d,h)=>(N(),$(ht,{key:h},[(d==null?void 0:d.letter)=="X"?(N(!0),$(ht,{key:0},At(d==null?void 0:d.citys,c=>(N(),ie(f,{title:c==null?void 0:c.nm,key:c==null?void 0:c.id,onClick:g=>{X(e).getCitys(c==null?void 0:c.nm),l.$router.back()}},null,8,["title","onClick"]))),128)):pt("",!0)],64))),128)),at(v,{index:"Y"}),(N(!0),$(ht,null,At(n.value,(d,h)=>(N(),$(ht,{key:h},[(d==null?void 0:d.letter)=="Y"?(N(!0),$(ht,{key:0},At(d==null?void 0:d.citys,c=>(N(),ie(f,{title:c==null?void 0:c.nm,key:c==null?void 0:c.id,onClick:g=>{X(e).getCitys(c==null?void 0:c.nm),l.$router.back()}},null,8,["title","onClick"]))),128)):pt("",!0)],64))),128)),at(v,{index:"Z"}),(N(!0),$(ht,null,At(n.value,(d,h)=>(N(),$(ht,{key:h},[(d==null?void 0:d.letter)=="Z"?(N(!0),$(ht,{key:0},At(d==null?void 0:d.citys,c=>(N(),ie(f,{title:c==null?void 0:c.nm,key:c==null?void 0:c.id,onClick:g=>{X(e).getCitys(c==null?void 0:c.nm),l.$router.back()}},null,8,["title","onClick"]))),128)):pt("",!0)],64))),128))]),_:1})])])])}}},EM=Te(AM,[["__scopeId","data-v-36e28a4d"]]),bM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAA2UlEQVR4Ae2UO6oCMRSG723uMq6o+BZ1C/ZuxNLKyoXMMmasxFZchu+3S7DQ78AJSGSYlyMWU3yISf4vIXNOfnr9QSpk4g+JHcdpwgj+ksgkD0Oom4EJ3MGLK1epq56pGWzDJa5cpZ7mr9B5npTrOEeVW1I5XOvl48ndwDGs3JKeoOFbFUxWYR8kt6QHqAWWG4vKsPOTW1I5RCV0HbO4CBsNu0ZuSbdQitwghPKwUskYuvor/9dQiN15hHOwUJlhKZsmbmkk/zCDG8xls7e+FQh/v+MRysSpih/2hp7LpgzXwQAAAABJRU5ErkJggg==",TM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAA6ElEQVR4Ae2Uya3CQAyGXwdvyQtLEqiIJjhypBcuudEBVAFiB7FHQAX0AL/RP5IVFMgiJIRy+A4Z2580YztftUbzJeTiNxH7vl8GXXAGHWBnFkPigB24KNagmFqMYhfsKRuAOpjwewNKicUhaQ988/xHybfyTLHFSPZAwOKhkar4H5g+kkdJDywahaUqzwIz5kkPnEgxghUlHcu1n/TgHyyYL8/m3olxWAVHJskb/sYcRRssWRcYuZaeGJTrWUmWgfKVknsmYBo1l+ul2TTUFTjft1E0h22OlJ1ljWVpQB+0PvQnlIszcQV4SKC3djFjJgAAAABJRU5ErkJggg==";const Gs=t=>(de("data-v-20ce6565"),t=t(),fe(),t),SM={class:"film-details-view-introduction"},kM={class:"wrap"},wM={class:"w-card"},CM={class:"card-title"},RM=Gs(()=>_("h3",{class:"title"},"\u7B80\u4ECB",-1)),xM={key:0,class:"eggs"},IM={class:"c-p1"},LM={key:0},DM=Gs(()=>_("img",{src:bM,alt:"","data-v-8efa4bb1":""},null,-1)),OM={key:1},PM=Gs(()=>_("img",{src:TM,alt:"","data-v-8efa4bb1":""},null,-1)),FM={class:"card-content"},MM={class:"actor-wrap"},BM={class:"a-card"},NM={class:"card-title"},UM=Gs(()=>_("h3",{class:"title"},"\u6F14\u804C\u4EBA\u5458",-1)),$M=Gs(()=>_("span",null,"\u5168\u90E8",-1)),GM=Gs(()=>_("img",{src:"https://obj.pipi.cn/festatic/asgard/resources/images/movie/arrow-right-white.png",alt:""},null,-1)),HM={class:"card-content"},jM={class:"item"},KM={class:"img"},VM={key:0,class:"min-img"},WM={class:"box"},zM={__name:"FilmDetailsViewIntroduction",props:{Introduction:Object,celebrities:Array,lodaing:Boolean,tips:Object},setup(t){const e=Z(!1);return(n,i)=>{var o,u,m,p,l;const s=Wt("van-image");return N(),$("div",SM,[_("div",kM,[_("div",{class:"introduction-wrap",onClick:i[0]||(i[0]=y=>e.value=!e.value)},[_("div",wM,[_("div",CM,[RM,e.value?pt("",!0):(N(),$("span",xM,[_("div",{class:Kt(["eggs-img",{active:!t.lodaing}])},null,2),Vt(" \u6709\u5F69\u86CB ")])),_("p",IM,[e.value?(N(),$("span",OM,[Vt(" \u6536\u8D77 "),PM])):(N(),$("span",LM,[Vt(" \u5C55\u5F00 "),DM]))])]),_("div",FM,[_("p",{class:Kt({active:e.value})},[(o=t.tips)!=null&&o.tips.length?(N(),$("span",{key:0,class:Kt(["eggs",{active:!e.value}])},[_("div",{class:Kt(["eggs-img",{active:!t.lodaing}])},null,2),Vt(" "+Q((m=(u=t.tips)==null?void 0:u.tips[0])==null?void 0:m.content),1)],2)):pt("",!0),Vt(" "+Q((p=t.Introduction)==null?void 0:p.dra),1)],2)])])]),_("div",MM,[_("div",BM,[_("div",NM,[UM,_("p",null,[$M,Vt(Q((l=t.celebrities)==null?void 0:l.length)+"\u4EBA ",1),GM])]),_("div",HM,[_("ul",jM,[(N(!0),$(ht,null,At(t.celebrities,y=>(N(),$("li",{key:y.id},[_("div",KM,[at(s,{width:"80rem",height:"112rem",src:y?`${y==null?void 0:y.avatar}`:""},null,8,["src"])]),y!=null&&y.still?(N(),$("div",VM,[at(s,{width:"40rem",height:"40rem",src:y?`${y==null?void 0:y.still}`:""},null,8,["src"])])):pt("",!0),_("div",WM,[_("p",null,Q(y.cnm),1),_("p",null,Q(y==null?void 0:y.desc),1)])]))),128))])])])])])])}}},YM=Te(zM,[["__scopeId","data-v-20ce6565"]]),qM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAMAAACfWMssAAAAilBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAHBwcAAACQkJD////////a2tpBQUH////////////+/v78/Pz5+fn5+fnw8PDo6Ojg4ODOzs60tLSAgIBhYWFqamrPz89GRkZBQUFXV1dgYGB3d3eKioqXl5eSkpKkpKSxsbG/v7/b29vl5eXs7Oz29vY5OTnF6OfSAAAALXRSTlPnAAUNCRgRHRXz3dFkJePg1si6qqOKfGpYRzIq+Oz9/fv59/Tz8/Hw7uvq6eixl+TxAAABk0lEQVRIx5zR13KEMAxAUWWNsIPpvWx6L/7/34tismOzNguT+8LTGckCrv6ZHx4WbUKjgoAxFlL0CQJtNyEpMgKR6xAFabIOdBgpnvRNVeRpmhdV0yecrEPBYTjFdQRWUR1P6FBYOGJJa5SxbUKUpBfSOME7Cd5kxwUNdaF2OJawWjmiLcG4EAcJF5IDhkaC5eIMLpbFlgSzZwybxWZbON0Th2wbZgPSbW3IxChhR3IUzIL0QF7CrkpOzzSQYQc765DNcB6YyL1QJvNImAe2sLsWmYZ64BTBspvj+xqMJj0S9EmdX/ii1OPXiowFO0Gs4axrpdTtmx/WqKE+TeSB1PHTu+vveTQUPfihunv1yV7MkGHjhbqHDxc2yP5gtQqp5xTOqk6QFx5our+BZQWfYchzLzQ9fYNdzkOCB4LpBlRHsEsJHn46rWMcAIAQBIL//zX0hGbuahOjCMuF2KoOx9fBAnDJscjxrPyQ2TrUrNge2ZA9Ajx0POY8WD3KHR4cVxyQHMkcAh07HXQdrR3mt7z/vgB15zWlS2/W5wAAAABJRU5ErkJggg==";const Ud=t=>(de("data-v-4324cca7"),t=t(),fe(),t),QM={class:"film-details-view-audio"},ZM={class:"film-wrap"},JM={class:"options"},XM={class:"box"},tB={key:0,class:"o-p1"},eB=Ud(()=>_("img",{src:"https://obj.pipi.cn/festatic/asgard/resources/images/movie/arrow-right-white.png",alt:""},null,-1)),nB={key:0,class:"audio-content"},rB={class:"list"},iB=["onClick"],sB={class:"img"},aB=Ud(()=>_("img",{class:"play",src:qM,alt:"","data-v-8efa4bb1":""},null,-1)),oB={key:1,class:"still-content"},lB={class:"items"},uB=["onClick"],cB={class:"list-img"},dB=Ud(()=>_("div",{class:"custom-indicator"},null,-1)),fB={__name:"FilmDetailsViewAudio",props:{feedVideos:Object,photos:Array},setup(t){const e=kr();Z(!1);const n=Z(1);Z(0);const i=Z(!1),s=Z(0);return(o,u)=>{var v,f;const m=Wt("van-image"),p=Wt("van-swipe-item"),l=Wt("van-swipe"),y=Wt("RouterView");return N(),$(ht,null,[_("div",QM,[_("div",ZM,[_("div",JM,[_("div",XM,[_("span",{class:"o-radio",onClick:u[0]||(u[0]=b=>n.value=1)},[_("span",{class:Kt({active:n.value==1})},"\u89C6\u9891",2)]),_("span",{class:"o-still",onClick:u[1]||(u[1]=b=>n.value=2)},[_("span",{class:Kt({active:n.value==2})},"\u5267\u7167",2)])]),n.value==2?(N(),$("p",tB,[Vt(" \u5168\u90E8"+Q((v=t.photos)==null?void 0:v.length)+"\u5F20 ",1),eB])):pt("",!0)]),n.value==1?(N(),$("div",nB,[_("ul",rB,[(N(!0),$(ht,null,At((f=t.feedVideos)==null?void 0:f.feeds,(b,S)=>{var d,h;return N(),$("li",{key:b.id,onClick:c=>{var g,T;return o.$router.push({path:"/filmvideoplay",query:{id:(T=(g=X(e))==null?void 0:g.query)==null?void 0:T.id,vdindex:S}})}},[_("div",sB,[at(m,{width:"160rem",height:"90rem",fit:"cover",src:b?`${(d=b==null?void 0:b.shareInfo)==null?void 0:d.img}`:""},null,8,["src"]),_("p",null,Q((h=b==null?void 0:b.shareInfo)==null?void 0:h.title),1),aB])],8,iB)}),128))])])):pt("",!0),n.value==2?(N(),$("div",oB,[_("ul",lB,[(N(!0),$(ht,null,At(t.photos,(b,S)=>(N(),$("li",{key:S,onClick:u[2]||(u[2]=d=>i.value=!0)},[_("div",{class:"img",onClick:d=>{s.value=S}},[at(m,{width:"160rem",height:"90rem",src:b?`${b}`:"",fit:"cover"},null,8,["src"])],8,uB)]))),128))])])):pt("",!0),i.value?(N(),$("div",{key:2,class:"show-list",onClick:u[3]||(u[3]=b=>i.value=!1)},[_("div",cB,[at(l,{loop:!1,width:375,"initial-swipe":s.value},{indicator:Jt(()=>[dB]),default:Jt(()=>[(N(!0),$(ht,null,At(t.photos,(b,S)=>(N(),ie(p,{key:S},{default:Jt(()=>[at(m,{width:"",height:"",src:b?`${b}`:"",fit:"cover"},null,8,["src"])]),_:2},1024))),128))]),_:1},8,["initial-swipe"])])])):pt("",!0)])]),at(y)],64)}}},hB=Te(fB,[["__scopeId","data-v-4324cca7"]]),ye="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAcCAMAAAAz6Z0tAAAAhFBMVEUAAAD/vzH/vCn/vCn/vCr/uyn/vCr/wS7/uyr/vCn/vCr/vCr/vCr/vCn/viv/vSz/vSv/vyz/yjb/vCn/vCn/vCr/vCn/vCr/vCr/vCn/vCn/vCr/vSr/uyv/vSr/vSr/vSv/vyv/v0D/uyn/uyv/uyr/vSn/vCn/uyz/vSv/v0D/uylWANhiAAAAK3RSTlMAEfv4jNqCGPXn4cKZdkU6NB4M8OzVzsq7oJNnXlpVUEwjCLmih3tvQDYENR2y1wAAAMpJREFUKM9909cSgjAQQNGlg4D0Il3s7v//nyDBwU3IfcrDmUx2kgApLg0L5OmIJ7lQbEQ1khITpyqZiJOZaLLT+Pjtti9GZyGJIhmHJRwqDlszx1+u2by2W1m666Cg1PVCRgrc7cBItk8yRgJ7T2hHYB01sVB7ALlRO9g0qALSwl89bxog3anwgBZREnBEoeTMkYCSgSM1JT5HKkquHCkpyTnisKs1H5dlZYsHSv1xWj8L4UjWfK/6+tA6AxFDIOmGt/li79o4rP4DM7hCeocKpaQAAAAASUVORK5CYII=",tn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAcCAMAAAAz6Z0tAAAAclBMVEUAAAC1tbW1tbW1tbW1tbW1tbW1tbW2tra2tra8vLy6urq1tbW1tbW1tbW1tbW1tbW1tbW1tbW2tra4uLi3t7e8vLy9vb20tLS1tbW1tbW0tLS3t7e3t7e3t7e8vLy0tLS1tbW1tbW0tLS1tbW1tbW0tLQHq0peAAAAJXRSTlMA9tn7iuiCXE4VEfDhy8KZkXY6NR4OCbuiZ1VGQSMa0Lmfe280ML4JEgAAAMRJREFUKM990tkSgjAMheG2rLLvKCiuef9XVCQwnaTtf8t3QaZHkIZRLcJdBXB2i5ME8DonCeFX5RJ9uhJ5cpAa/vl2MQQbSXsr8QF7Gv/iE4V3OCrCqE20z4tfBGAoKMoWSQ7WMiTKThSSRtqEnAV2tRgvFkezNIpJaMUe8CINoGGC9KKiFLSOkoaPiZIbIw0lMSMXSmrDrkl85SMlOSM4hyx8P/B9qEi2RdbD+mQ5nsRvlv4+tGndR8t2q8pOP1Blu/8CuHI5I/9qmgsAAAAASUVORK5CYII=",gB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAQAAABJXchjAAAE6klEQVRo3u2Za2xURRTHz7nbBw9b6EPcbkExBUmDWnXRUBOl0Q+0mLQYESPGmCbafUgVgtT6QNcYH5BCotS2d78QIobXBwprE0goBBUs2IWI1GiK0TR0F2goQti+dvceP+zc6z7uvXvv7t30y86Xzs7OnP3N/5yZOTMFyJZsyZZsUS+otaOtCmqgHCxQBiUkjcIxvjq+p3NBeEfieCK8if3CAfetlCCcT4bXQgMtlJ3DHb4gvu3NpcFLisaucK93HYtvzFEHcDwsbA3VGqj8fOGorZ73xDZyyv03Ftt2Cxeo1vAQcG8s1qiEszJwBBbFNY6BD/10A0ny9LiM9ydhIKExH2aDOeJ8MgcaYbsGCEddeB8URjX8hoewu+uClol2XIYHoyLkgdB6eJHMEb4IBi7XoIR9ZdgDJin4LlGru0e/6oTO2nBzsDYq+IWIVSpJCuFYEt4vIQRxU9k3LkE/gq3Kvpuq4hpN8n0TIBxFggfmMA1ucC90ntIPcMB0fDN9AnkJC3qcZsr1T1gd4W20mFVHoToVhPX39/4IX8Qg/AUurMsthV80KeGsDDUy6hCt4Qf1IzRVBE9ReVTDcfy6rCfiUBtoggh9KfoNW/iTqagQPBmFcDnntY4zyUfFuKPpMahnCH+ad6agwr3BE7RA+thZ+IgWhDglcI24C+F7rpBeBFee73vxhMEQrXMf1DoyRglazUwMdh3Sr4N/CzwkRrcehBgI22KoZNVu/Qj2R6GVTUHAV/UgxLrjackth3VHQy7tImaL2tx79Y2OgiCLOBPzWd1CrJN2xz8sHyv2ess0FwBA+FcRAi2RsKQR/UGJTmIT4BpdE0q9+F+TxoSkhE8vgsNKT7Dq/s4+/fEUvTqKpe1aZxEc0kQ6UslyuPQTJVcOvSxmHe6fpgnCvxRmMWPu1CwYAIFWqfbDtEGQCDFxz+/TDoEX9S9t49xxH6sMpGohx4B7xF1iMpI07zwCFQAA0MO3GAxB+VpVpUXsiBww3B0QEFP8aXQHXgSAYRiG3qQ9iTIFwa/Qfh3K2OpIv0RBILtnUcbAULQcVlbiOvs7L2NTZpZxRDmf8InJTWYIXDOoKPaX5JTwsy5FTbMyAeGTLkWoAjEkNT6TkYh4VqoNKULM7BVDU2jIiD+YVbyT+7MixFfXiOWHWO/KM5pgw1wQlTi6c1Jtn2CXHprndxgNMd4qnTGHVTcr7iAEGcaHzYVGIjTPp7eZyrfJowrR9Q/wrFo6uc04BMKpdpjB6lsT33TjXpEe95IdIrIts1739hsDcfVTahLXKbziDSaB6A8sMwFboLjSet47mD6CrZGkV0tuA38usUfCe9q7p/+uZvkPBy9Zb3v70nPEtc+oTdofvuO3yO4gMpe6IuGs9HgGuMe0ueNqagj2hUI7PCdZOle2Qv6eKnvCO5aEz8D/788B3E475P5FoLoe7p56n5xRb3hDsNztV9hLFd4bKsAjPZkAAEzhCeyG0zjceVNdflsJlkMNrKanol2NfabnlfVUzAubC6f20iqZLyZgFEkxcyoFub322/w34ndJTRAALs7nwI8o3exiCD/g9yQ52tS/bim49Q5tgtkpAozC5/ntahpogogcPWOrsIHqoEDXz/dgd8GxtoCmQ15zXpTnt0I5WdACxUpZMxKOCD7Ox12pOb82DNmSLSmX/wA++Yc8Jp7UOgAAAABJRU5ErkJggg==",Wc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAMAAAArteDzAAAAdVBMVEUAAACPgICckpKPgYGMfn6Mf3+NgYGNfn6Mf3+Nf3+PgYGQgYGbhoaNfn6Nf3+Nf3+Nf3+Of3+RgYGThISMfn6Nf3+Nf3+PhYWNfn6Nfn6Mf3+Nf3+Nfn6Nf3+Nf3+Nf3+Nf3+OgYGOgYGOgYGNgICRgoKMfn64RRt1AAAAJnRSTlMAQAUu9fw7+dezPiYM47qpfV0eEsuajBnp3dKTdsKjoWlRTDVuFRK5QrQAAAGiSURBVFjD7ddZloIwEIXhCAnz4DzP2nf/S+yn7qNU1OAt3/wW8J/AoYAyX19PReVlHOkmL3kKwLZnxeYRf5qxVjNx+LcslaItbqwmOtEMt2Y6UYs7iUZzgXs7jWgB6B91jo7W8Gp02Erh6gV+sHIIc7YZQ8r5g0oZO/fwWHLNKPtAdAifmmqWKXym1MVP4bVnohv4DYnmCQ8MiMfews9GbzcXNR5oIiGw+bNGD3bVnl43x2v0lY2eJ8+5wxsOz065w5v2D2/uyCJQ+BN8BcEu/OcEZeZrDhworpLNqgbp5P/Ga19/7MBaiegeNCfmPQVvIr9IvFj+3fKKzsxDQyKGSf/yD9DQWYrW0NCZ0yUU2M7cgyb/XkoI/OxfoOEo/5l5yQeiafWBe9rIdZF3lYstr+xGp6DJveUA2lZEt2ClC89yx2qNtAJpYKQ5/zKREvqgPjt2mvSPGhu/hmhugnencOtI1OjPdBqbx2b8G1+Kcn6DkKIN+pubV7YO/biQXb3M0UddmCBF4xDIbiYm1GTU1ileyrYi+bIcF4MnirgyX1/SLw9o8LG1UsN2AAAAAElFTkSuQmCC",zc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAMAAAArteDzAAAAgVBMVEUAAADzQDj/YWHwPTfxPTfxPTfyPzjxPTf1QDn/Z2fxPjjyRj7/R0fwPjfxPjfxPjjyPjj1PzvxPTfxPjfxPjfxPTjzQTvzQDrxPTfxPTfxPTjyPjnxQDnyQTr3QD7xPjfwPTfxPjfxPjjxPjjyQDj/SUPxPjfxPTjxPzjxPjjwPTeFEOHDAAAAKnRSTlMAQAX1+9U7qS8C+BIJ45l9TxjdzLmMKyK0onZeNScc57+xkmlEDu7HblqDfk8xAAABo0lEQVRYw+3XWZaCMBAF0NIkgAyKOM+zrW//C+yv7qNUEKTKP+8C3kk4eQlFX18v9WbrbZdUrecxABPmpOeEP+MZKQks/u20UkM8KBJS4fCoTyoMngSkYIhnP6SgA+gvdYKSkOQylJiUpAIw8mIdwExIKAI3ly+Uc/Ivyu1IpOs+EDqAT0YSmxg+I9HmR2DElTrCbyDIzFHhLDj2Bn5x++4PM1TYd8t61Ezi8AZThHl98szhXW71MraXz9HG4kXqdo+WwsrU+xUNNT/BNwiYIfmsINInj7OFiL0Qk2YQyv1vvPb+IwupgoUuIGbZHRJDLuEvkty0FFpAQafUeWgIWJn0t7+Ahi09GUFDqadXKDCl3kOMjxkbMPLur6HhxP6Z9Y/pFAri9APfdMzHRbkbH2zlZkTqjXKfuPeXLHQJKTtkoRGkQuIK+a2v/+qPiJG3/0w+e3mbuAASEfmNBZlHqjA1aMulxEif6Tiian35jc+lc/kEwfXarHVCdZYW77EDqrc54B1ZQI10xhYNmWNCTSX3MItRyy1ZZG3ytPNSdKGvL+4XFZ0lgtMTyQoAAAAASUVORK5CYII=",vB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAJCAQAAAD50OaBAAAAbklEQVQoz6XSsQmAMBBG4XcRtHUPHUdi6QQOIU6j7pApoohOopXdEawOTfX4/uogEvj3HOCJXET8azO5hIZFp5ZZ2+gSIpXCSq1tdAkXucJNoW10x5lc96EdQwJj0kbPuo2dipKDnikZjS5//8EDfKYzxKVR0bAAAAAASUVORK5CYII=",k0="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAUCAYAAACXtf2DAAABWUlEQVR4Ab1VvUrDUBjt4OLgZOY6ZNDBp9BJsE9QkFInRzv1HXyC/A2ZLIHiE5TQl+jcqSAURIc6CK3nyAn4k+82kTbDIbffPT/33tx+aV3f3ZtI0/Q4DMNeEARPeM6AN2GmWo8cl4fL+AF4h9HGBXLItYL+FEC+gnApgw9gHEXRDZ5nSZIcERyrNhaH3CW1zgCQhiCtJRgBvmv70vjibqQdlgZgciDjFcbdbcYlO+9Sq6DBjwBs90LpqziOL+uaF6BWC1zT8ysgy7JDFOZK7hvCE8xnwLOQsWbspC+vOb25+lsVJsYZtzH3UnJ7WGsbIRNy6E2DKX9gRR0jYCTTKTjnRKGB0aOx406haX27kp4RsNC8/+vmsLYwNF5xdesEeCUGlQIqHRGOI8zz/IDguPIR1XzJr0L1l7z3a7r3P1ojraKRZretXaNNnxbtmuN/tetGPji7/mR+AncQYkCA32oSAAAAAElFTkSuQmCC",w0="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAWCAYAAADafVyIAAACJUlEQVR4Aa1VPYtTURCNihjRRhQtVPAjamNtOmshURCbSEhjpZ1iL1hJutiZvPcSEkiTH5A/YB8Qd9mPLLtNFvYjbGCbTXZZ3p4TZsKEvYFN3ism9917Z85kzpx7byL75ds5K5fLdzzP+1ipVEr4/otxDbaD7yGN31yTvRJ9GePCmprA8TECfNgRAsJ5jDGMJYYzATazsIEJ2sC8CPsQBMELBN5rt9vXaPzmGvfoQ1+TaECsqQTYSMNOxGEb9i4Mw0uukl1GX8YwVhIRKz1O0Gq1rmCjK+BLs7i8iDFWMIjVJfaYGsk69H0/tSi4Wq1WeyZiYJIsEwQyCaKCm35OMFlWR7PFlQBMvBVWOkzQ56Rer983XD6FfbeUSSMLsLwVQLVafUJfUqNrxJIEfZYz4gQOSZNgXaVqyi6oFHmwjO+KrG+ZPiSFlVFCG4KOXzdBq6oEkyBvtJ4zvsuytulMgJ89TlDqQ3uiYV9ZvqVIro+cpQhgj+hLWp0UaZPB9+sYVaTS73DyR8r5EWMCfyJTuQk5+ReTRFPaV1gm0Wg0bgD8UGh6GQUc3N8Gzn8VCHp1WZXwWxaLiwCz6XK4evLPjzF/NblNQdMDOQ8HkOtNDaR0GYi9581m8xb2r/K6RtV37XWtl6Ve16TG9R5os38ajf+a58HB6M18cHjVUrdSSQbje4ynLJeHCOO+7LGBuws9maDjjYDaf/Y5SuOdh0Q47WH8FFW2Z0SmtOU+RPXsAAAAAElFTkSuQmCC",pB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAQAAABIkb+zAAADlklEQVR42u2bS0hUURjHfzPOaIqK2ssgKTHtZWRQbYIoS4KgaNEDCYo20aKwaFe0CHoQSEjQokWLaFPrWgS1zRBELctelGWUWZmj+KpGbdFwORfnOOfM6zr0/VffmfnOPd/v3nO+c4b7DYhEIpFIJBL9v8pKwjXKOcAmwvRa9fJRxx6q+MRYIoP7Eg5/NRcjt+EG9y36NbAdgCFO8DP+4f0JA9Q7T/GgRa/SSPhQyO5Ehk8coMyx8ik27rVYY3sA4ItrQvqTFYOfDJfPyrecZSygmByCBCKfriPoeLTzx/BaRVQ5dog3AEwR5je/6KePV6Y5zRRgPruppTCNt/YrD3jASHIAdnCUbA/mxwCNPEt0I8vjFPuSsuHZK5da/HQxFT+An/Ns8HSNVpNHW/wA9WzzPNEs5z2f41sD1VxyeUzSyWt+MEKYichnJ8l3vm9i2DCoSg449lvuRmLJIkABC1lDhct7mOP0R79QYMZhDrvCf0ETX6f5qImz3fhUo87qEC3Tvl/FKUqVPX4vN+w3smWsUFrNnI0SfqrURQM9SruOOfYA6xW7n2vOpEmPRrmijJhDtT2A2uWedktRT/PjxuGNaWxVPTzRRGMIUKrY+kTW4VhvGDUGeKfckA6tV5smGiMAH/OU1het322eA9BLk9UEaYwgPOSR1uuL6zBjmYWylT1inF9av2HOUEYO3YSt5ngrR1hKP99m8Bl0nQgsAYKaVBktJfbEtUzHeBnD47cmHqMppHZIb/6JPm7Qfg1E33bSqanYZ4aM/0UmAAKQoAJGXsXckyeQdoCArAGPAcLyBGZRFhrgkCfRlXBLNjIBEAABEAABEAABEAABEAABEAABEAAByDSAiVmAqZaihG0B1Bd7gUwEUN8Q5iahQDYe5WniMQIIK6Uzfoo8AZir2AP2i1h9BV3lCUClJhpDgA+KvdWTBLNFaXXbA6hFGJtcxTfp0X4WKa2n9gAtrkKY09SkNfyd1Cutd3yKnaimJ9ICVjqtbLYynyFCTKY49DnUcIxdrsx3k4/RnX0xLnVVqU7/p0lCjDCRkvqJLAIURqkPbuayrkus/L6Eq57U7LqzYYO+GjJW3eggfWz09MQ0xIWZig1jlxR/pJW1FHgUfifn9EWvZgAwwCPyKU/7cxjmDtdj1eGZn3GK2EwNFZSkPPBJvvOaNh6bVEHaH9KCFJNNMCX17P/+ABHyrEJMJBKJRCKRKMP0F8CFtW4KwHxBAAAAAElFTkSuQmCC",mB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAAbFBMVEUAAAB6e396e356e355fYKNjY15en96en56e4B9fYOBhoZ5e395e4B6e396eoB6e396foF/f4F6en55en95fIB7e4B6eoB7fYGDg4N6eoF7e4B7e395e356fH6AgIB6e355en56en96e395en6LarjuAAAAI3RSTlMA+uayPQbkv4kcE3qozZNlJyLt31Q1mEEMSZyB0mwC2vDVxSjgkRMAAAJOSURBVFjD5VjbYoIwDKVgu9pxvwgKcxf+/x/3EGpWowbMnrbzxlKz5CSnTRv9U+zbMc2aWqm6ydKx3T/l5Nwf3ucrvB/689ZYrJlvwtgtcVUnNd+FOlUr3QxWzQ+h7LDGT2tmFqZl3eh8/oEpL/rKae2qvsinn5ZcMyRnuPalcKHRFS9ozR6SXmJaaXlzQYrp4QKCrr5E091dc4mqvrum9H6aY/QAx8Z7Ku/wY3w4LnoI54MyN3nSnueDZkt78IzfWurr/hatwJvvAmpq0c8WTy3RhVnyIj/ZJXGc7Mifl+zMtVrswjNJ+hXk9Up4Whi3V3pXUHdH4lGLUElMrgFDuBecYDntn2RekNB+AsMpaCEFiUUEsXcUUxskp/aUoW6bo46wdDagU/jiUkOkUDjcx3tYC9JhyUaUYOuxJyhDWH6F5acsXfUenDsFfPANiSjglLrUDCJ00WY4+OU+kNkUPYEpENyIQt4C3DLGoIoFTwu1FEHfZFBERqfEgo2TLV+gvopvHWqpQOvLVw1FY5qZWLBs9fIF/0fz8qIWDRHKHQ3gSJYacvQhJ7sD/ZPyMzqllmNQfnlDyiSCe72Vi9bAmSHeRkrgfvilje1r3VY7s1vtKN78O7Dtfuk4as7SA7LCQUh2ZKcgtEE6RLRgsOKxpsYZghu0qE5prFY0+uF09KklwyiyqjrZeIxHo2RgB5QKBnbJFQLQJVM+SC41CNk1CyG4+AUQXEUJNl+OIwr5dZ0itvq5BwQKyzxprEbMPLJIHeGzjzA1+hDFk/2n8Q06OrzngJeCGAAAAABJRU5ErkJggg==",C0="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAQAAABgzgTcAAABW0lEQVQoz4XSwSvDYRzH8fezzWpnpUaR2slJhrQysWY5bFGiHOz228SUHJTTLsoBLaO0m+SARStJI5myNH65+Ac4aOVADpjZHges/fYT3+ur7+d5vt/ngT/KCGNdLalWm/fwVFaiAQrrNMjx+41t4y8o9gAYOd5SqnSxV8n9atqBJtHs2M0UtJ0yFmIRQHrfE1MWTSeAmrRX4QRseUd3PJ3XIKgn9iLdQGPO6Yqfv2sQ1DP7C26gPufqjF+8aRDUtP2RPqDuw9MRv3wVlbMFFLmGAHEje3WDq2rbLT4ENTgN+o1Ks/zKy+tigxPFZQSIa7OnolOZLkYRIDKWnuiDBpVZFgBIm92RJyjDYJg5AFImT/QZoHRmYF7OAIgj2R97KS0eQFn6pgOr74fACFJkV5kEEAnrYDineZVsRIYA2KkdDufLL2gCOQAgNl3+oYLumxj83LFiHa2kf+oTCc1srv5vKZcAAAAASUVORK5CYII=";const Ut=t=>(de("data-v-908d71f6"),t=t(),fe(),t),yB={class:"film-comment-srecommended"},_B={class:"wrap"},AB={class:"fw-tab"},EB={class:"tab-one"},bB={class:"buzz"},TB={class:"card"},SB=Ut(()=>_("h3",{class:"title"},"\u89C2\u4F17\u70ED\u8BC4",-1)),kB={class:"box"},wB={class:"item"},CB={class:"img"},RB={class:"info"},xB={class:"card-name"},IB={class:"box"},LB={class:"name"},DB={class:"icon"},OB={key:0,class:"score"},PB=Ut(()=>_("img",{src:ye,alt:"","data-v-8efa4bb1":""},null,-1)),FB=Ut(()=>_("img",{src:ye,alt:"","data-v-8efa4bb1":""},null,-1)),MB=Ut(()=>_("img",{src:ye,alt:"","data-v-8efa4bb1":""},null,-1)),BB=Ut(()=>_("img",{src:ye,alt:"","data-v-8efa4bb1":""},null,-1)),NB=Ut(()=>_("img",{src:ye,alt:"","data-v-8efa4bb1":""},null,-1)),UB=[PB,FB,MB,BB,NB],$B={key:1,class:"score"},GB=Ut(()=>_("img",{src:ye,alt:"","data-v-8efa4bb1":""},null,-1)),HB=Ut(()=>_("img",{src:ye,alt:"","data-v-8efa4bb1":""},null,-1)),jB=Ut(()=>_("img",{src:ye,alt:"","data-v-8efa4bb1":""},null,-1)),KB=Ut(()=>_("img",{src:ye,alt:"","data-v-8efa4bb1":""},null,-1)),VB=Ut(()=>_("img",{src:tn,alt:"","data-v-8efa4bb1":""},null,-1)),WB=[GB,HB,jB,KB,VB],zB={key:2,class:"score"},YB=Ut(()=>_("img",{src:ye,alt:"","data-v-8efa4bb1":""},null,-1)),qB=Ut(()=>_("img",{src:ye,alt:"","data-v-8efa4bb1":""},null,-1)),QB=Ut(()=>_("img",{src:ye,alt:"","data-v-8efa4bb1":""},null,-1)),ZB=Ut(()=>_("img",{src:tn,alt:"","data-v-8efa4bb1":""},null,-1)),JB=Ut(()=>_("img",{src:tn,alt:"","data-v-8efa4bb1":""},null,-1)),XB=[YB,qB,QB,ZB,JB],t4={key:3,class:"score"},e4=Ut(()=>_("img",{src:ye,alt:"","data-v-8efa4bb1":""},null,-1)),n4=Ut(()=>_("img",{src:ye,alt:"","data-v-8efa4bb1":""},null,-1)),r4=Ut(()=>_("img",{src:tn,alt:"","data-v-8efa4bb1":""},null,-1)),i4=Ut(()=>_("img",{src:tn,alt:"","data-v-8efa4bb1":""},null,-1)),s4=Ut(()=>_("img",{src:tn,alt:"","data-v-8efa4bb1":""},null,-1)),a4=[e4,n4,r4,i4,s4],o4={key:4,class:"score"},l4=Ut(()=>_("img",{src:ye,alt:"","data-v-8efa4bb1":""},null,-1)),u4=Ut(()=>_("img",{src:tn,alt:"","data-v-8efa4bb1":""},null,-1)),c4=Ut(()=>_("img",{src:tn,alt:"","data-v-8efa4bb1":""},null,-1)),d4=Ut(()=>_("img",{src:tn,alt:"","data-v-8efa4bb1":""},null,-1)),f4=Ut(()=>_("img",{src:tn,alt:"","data-v-8efa4bb1":""},null,-1)),h4=[l4,u4,c4,d4,f4],g4=Ut(()=>_("div",{class:"share"},[_("img",{src:gB,alt:"","data-v-8efa4bb1":""})],-1)),v4={class:"introduce"},p4={key:0,class:"topic"},m4={class:"information"},y4={class:"i-box"},_4={key:0},A4=Ut(()=>_("span",null,"\xA0\u56DE\u590D",-1)),E4={class:"date"},b4={class:"count"},T4=["onClick"],S4=["onClick"],k4={class:"answer"},w4={class:"title"},C4={key:0},R4={key:1},x4=Ut(()=>_("div",{class:"btn"},[_("span",null,"\u6211\u8981\u63D0\u95EE")],-1)),I4={class:"card"},L4={class:"item"},D4={class:"i-box"},O4=Ut(()=>_("span",null,"\u4E2A\u56DE\u7B54",-1)),P4={class:"content"},F4={class:"longevaluation"},M4={class:"title"},B4={key:0},N4={key:1},U4=Ut(()=>_("div",{class:"btn"},[_("span",null,"\u53D1\u5E03\u957F\u8BC4")],-1)),$4={class:"card"},G4={class:"item"},H4={class:"img"},j4={class:"info"},K4={class:"card-name"},V4={class:"box"},W4={class:"name"},z4={class:"icon"},Y4={key:0,class:"score"},q4=Ut(()=>_("img",{src:ye,alt:"","data-v-8efa4bb1":""},null,-1)),Q4=Ut(()=>_("img",{src:ye,alt:"","data-v-8efa4bb1":""},null,-1)),Z4=Ut(()=>_("img",{src:ye,alt:"","data-v-8efa4bb1":""},null,-1)),J4=Ut(()=>_("img",{src:ye,alt:"","data-v-8efa4bb1":""},null,-1)),X4=Ut(()=>_("img",{src:ye,alt:"","data-v-8efa4bb1":""},null,-1)),t8=[q4,Q4,Z4,J4,X4],e8={key:1,class:"score"},n8=Ut(()=>_("img",{src:ye,alt:"","data-v-8efa4bb1":""},null,-1)),r8=Ut(()=>_("img",{src:ye,alt:"","data-v-8efa4bb1":""},null,-1)),i8=Ut(()=>_("img",{src:ye,alt:"","data-v-8efa4bb1":""},null,-1)),s8=Ut(()=>_("img",{src:ye,alt:"","data-v-8efa4bb1":""},null,-1)),a8=Ut(()=>_("img",{src:tn,alt:"","data-v-8efa4bb1":""},null,-1)),o8=[n8,r8,i8,s8,a8],l8={key:2,class:"score"},u8=Ut(()=>_("img",{src:ye,alt:"","data-v-8efa4bb1":""},null,-1)),c8=Ut(()=>_("img",{src:ye,alt:"","data-v-8efa4bb1":""},null,-1)),d8=Ut(()=>_("img",{src:ye,alt:"","data-v-8efa4bb1":""},null,-1)),f8=Ut(()=>_("img",{src:tn,alt:"","data-v-8efa4bb1":""},null,-1)),h8=Ut(()=>_("img",{src:tn,alt:"","data-v-8efa4bb1":""},null,-1)),g8=[u8,c8,d8,f8,h8],v8={key:3,class:"score"},p8=Ut(()=>_("img",{src:ye,alt:"","data-v-8efa4bb1":""},null,-1)),m8=Ut(()=>_("img",{src:ye,alt:"","data-v-8efa4bb1":""},null,-1)),y8=Ut(()=>_("img",{src:tn,alt:"","data-v-8efa4bb1":""},null,-1)),_8=Ut(()=>_("img",{src:tn,alt:"","data-v-8efa4bb1":""},null,-1)),A8=Ut(()=>_("img",{src:tn,alt:"","data-v-8efa4bb1":""},null,-1)),E8=[p8,m8,y8,_8,A8],b8={key:4,class:"score"},T8=Ut(()=>_("img",{src:ye,alt:"","data-v-8efa4bb1":""},null,-1)),S8=Ut(()=>_("img",{src:tn,alt:"","data-v-8efa4bb1":""},null,-1)),k8=Ut(()=>_("img",{src:tn,alt:"","data-v-8efa4bb1":""},null,-1)),w8=Ut(()=>_("img",{src:tn,alt:"","data-v-8efa4bb1":""},null,-1)),C8=Ut(()=>_("img",{src:tn,alt:"","data-v-8efa4bb1":""},null,-1)),R8=[T8,S8,k8,w8,C8],x8={class:"c-p1"},I8=Ut(()=>_("div",{class:"share"},[_("img",{src:vB,alt:"","data-v-8efa4bb1":""})],-1)),L8={class:"title"},D8={class:"information"},O8={class:"date"},P8={class:"count"},F8=Ut(()=>_("img",{src:k0,alt:"","data-v-8efa4bb1":""},null,-1)),M8=Ut(()=>_("img",{src:w0,alt:"","data-v-8efa4bb1":""},null,-1)),B8={class:"tab-tow"},N8={class:"data"},U8=Ut(()=>_("div",{class:"title"},[_("h3",null,"\u5F71\u7247\u8D44\u6599")],-1)),$8={class:"box"},G8={class:"item"},H8={class:"img"},j8={key:0,src:pB,alt:""},K8={key:1,src:mB,alt:""},V8={class:"c-box"},W8={key:0,class:"office"},z8=Ut(()=>_("div",{class:"title"},[_("h3",null,"\u7968\u623F"),_("p",null,[Vt("\u7968\u623F\u8BE6\u60C5 "),_("img",{src:C0,alt:""})])],-1)),Y8={class:"box"},q8={class:"l-card"},Q8=Ut(()=>_("p",null,"\u6628\u65E5\u7968\u623F\u6392\u884C",-1)),Z8={class:"r-card"},J8=Ut(()=>_("p",null,"\u7D2F\u8BA1\u7968\u623F(\u4E07)",-1)),X8={class:"tab-three"},t5={key:0,class:"related"},e5=Ut(()=>_("div",{class:"title"},[_("h3",null,"\u76F8\u5173\u5FEB\u8BAF"),_("div",{class:"t-box"},[_("span",null,"\u5168\u90E8"),_("img",{src:C0,alt:""})])],-1)),n5={class:"item"},r5={class:"new-card"},i5={class:"box"},s5={class:"img"},a5={class:"information"},o5={class:"date"},l5={class:"count"},u5=Ut(()=>_("img",{src:k0,alt:"","data-v-8efa4bb1":""},null,-1)),c5=Ut(()=>_("img",{src:w0,alt:"","data-v-8efa4bb1":""},null,-1)),d5={class:"like"},f5=Ut(()=>_("div",{class:"title"},[_("h3",null,"\u559C\u6B22\u8FD9\u90E8\u5F71\u7247\u7684\u4EBA\u4E5F\u559C\u6B22")],-1)),h5={class:"item"},g5=["onClick"],v5={class:"box"},p5={class:"img"},m5={__name:"FilmCommentSrecommended",props:{comments:Object,questions:Object,filmReviews:Object,features:Array,mbox:Object,relatedMovies:Object,newsList:Object},setup(t){const e=kr(),n=Z(0);function i(u){return u<10?"0"+u:u}function s(u){u=""+u;let m=u;m=m.split("").reverse().join("");let p="";for(let l=0;l<m.length;l++)p+=m[l],(l+1)%3===0&&l!==m.length-1&&(p+=",");return p=p.split("").reverse().join(""),p}ce([e],([u])=>{console.log(u),u&&location.reload()});const o=ze();return(u,m)=>{const p=Wt("van-image"),l=Wt("van-tab"),y=Wt("van-tabs");return N(),$("div",yB,[_("div",_B,[_("div",AB,[at(y,{active:n.value,"onUpdate:active":m[0]||(m[0]=v=>n.value=v),scrollspy:"",sticky:"","offset-top":"40","line-width":"20"},{default:Jt(()=>[_("div",EB,[at(l,{title:"\u5F71\u8BC4"},{default:Jt(()=>{var v,f,b,S,d,h,c;return[_("div",bB,[_("div",TB,[SB,_("div",kB,[_("ul",wB,[(N(!0),$(ht,null,At((v=t.comments)==null?void 0:v.hotComments,g=>{var T,E,A;return N(),$("li",null,[_("div",CB,[at(p,{width:"30rem",height:"30rem",src:g?`${g==null?void 0:g.avatarUrl}`:""},null,8,["src"])]),_("div",RB,[_("div",xB,[_("div",IB,[_("h5",LB,Q(g==null?void 0:g.nick),1),_("div",DB,[(g==null?void 0:g.score)==10?(N(),$("div",OB,UB)):pt("",!0),(g==null?void 0:g.score)==8?(N(),$("div",$B,WB)):pt("",!0),(g==null?void 0:g.score)==6?(N(),$("div",zB,XB)):pt("",!0),(g==null?void 0:g.score)==4?(N(),$("div",t4,a4)):pt("",!0),(g==null?void 0:g.score)==2?(N(),$("div",o4,h4)):pt("",!0),_("p",null,Q(g==null?void 0:g.score)+"\u5206",1)])]),g4]),_("p",v4,Q(g==null?void 0:g.content),1),(T=g==null?void 0:g.topic)!=null&&T.name?(N(),$("div",p4,[_("p",null,"#"+Q((E=g==null?void 0:g.topic)==null?void 0:E.name),1)])):pt("",!0),_("div",m4,[_("div",y4,[_("p",null,[(g==null?void 0:g.replyCount)!=0?(N(),$("span",_4,Q(g==null?void 0:g.replyCount),1)):pt("",!0),A4])]),_("span",E4,[Vt(Q(i(new Date(g==null?void 0:g.time).getMonth()+1))+"-"+Q(i(new Date(g==null?void 0:g.time).getDate()))+" ",1),_("span",null,Q(g==null?void 0:g.ipLocName),1)]),_("div",b4,[_("span",null,Q(X(o).counts.map(w=>w.id).includes(g==null?void 0:g.id)?((A=X(o).counts.map(w=>w).filter(w=>w.id==(g==null?void 0:g.id))[0])==null?void 0:A.upCount)+1:g==null?void 0:g.upCount),1),X(o).counts.map(w=>w.id).includes(g==null?void 0:g.id)?(N(),$("img",{key:1,src:zc,alt:"",onClick:w=>X(o).removeCount(g)},null,8,S4)):(N(),$("img",{key:0,src:Wc,alt:"",onClick:w=>X(o).getCount(g)},null,8,T4))])])])])}),256))])])])]),_("div",k4,[_("div",w4,[(b=(f=t.questions)==null?void 0:f.questions)!=null&&b.length?(N(),$("h3",C4,"\u732B\u773C\u95EE\u7B54")):(N(),$("h3",R4,"\u6682\u65E0\u56DE\u7B54,\u5FEB\u6765\u63D0\u4EA4\u7B2C\u4E00\u4E2A\u95EE\u9898\u5427")),x4]),_("div",I4,[_("ul",L4,[(N(!0),$(ht,null,At((S=t.questions)==null?void 0:S.questions,(g,T)=>{var E,A,w;return N(),$("li",{key:T},[_("div",D4,[_("h4",null,Q((E=g==null?void 0:g.question)==null?void 0:E.content),1),_("p",null,[Vt(Q((A=g==null?void 0:g.question)==null?void 0:A.answerCnt)+" ",1),O4])]),_("span",P4,Q((w=g==null?void 0:g.answer)==null?void 0:w.content),1)])}),128))])])]),_("div",F4,[_("div",M4,[(h=(d=t.filmReviews)==null?void 0:d.filmReviews)!=null&&h.length?(N(),$("h3",B4,"\u957F\u8BC4")):(N(),$("h3",N4,"\u6682\u65E0\u8BC4\u8BBA,\u5FEB\u6765\u53D1\u5E03\u7B2C\u4E00\u7BC7\u5F71\u8BC4\u5427")),U4]),_("div",$4,[_("ul",G4,[(N(!0),$(ht,null,At((c=t.filmReviews)==null?void 0:c.filmReviews,g=>{var T,E;return N(),$("li",null,[_("div",H4,[at(p,{width:"30rem",height:"30rem",src:g?`${(T=g==null?void 0:g.author)==null?void 0:T.avatarurl}`:""},null,8,["src"])]),_("div",j4,[_("div",K4,[_("div",V4,[_("h5",W4,Q((E=g==null?void 0:g.author)==null?void 0:E.nickName),1),_("div",z4,[(g==null?void 0:g.sc)*2==10?(N(),$("div",Y4,t8)):pt("",!0),(g==null?void 0:g.sc)*2==8?(N(),$("div",e8,o8)):pt("",!0),(g==null?void 0:g.sc)*2==6?(N(),$("div",l8,g8)):pt("",!0),(g==null?void 0:g.sc)*2==4?(N(),$("div",v8,E8)):pt("",!0),(g==null?void 0:g.sc)*2==2?(N(),$("div",b8,R8)):pt("",!0),_("p",x8,Q((g==null?void 0:g.sc)*2)+"\u5206",1)])]),I8]),_("h3",L8,Q(g==null?void 0:g.title),1),_("p",null,Q(g==null?void 0:g.text),1),_("div",D8,[_("span",O8,[Vt(Q(i(new Date(g==null?void 0:g.created).getMonth()+1))+"-"+Q(i(new Date(g==null?void 0:g.created).getDate()))+" ",1),_("span",null,Q(g==null?void 0:g.ipLocName),1)]),_("div",P8,[_("div",null,[F8,_("span",null,Q(g==null?void 0:g.viewCount),1)]),_("div",null,[M8,_("span",null,Q(g==null?void 0:g.commentCount),1)])])])])])}),256))])])])]}),_:1})]),_("div",B8,[at(l,{title:"\u8BE6\u7EC6\u4FE1\u606F"},{default:Jt(()=>{var v,f,b,S,d,h,c,g,T,E;return[_("div",N8,[U8,_("div",$8,[_("ul",G8,[(N(!0),$(ht,null,At(((v=t.features)==null?void 0:v.length)>=3?(f=t.features)==null?void 0:f.slice(1):t.features,(A,w)=>(N(),$("li",{key:w},[_("div",H8,[w==0?(N(),$("img",j8)):pt("",!0),w==1?(N(),$("img",K8)):pt("",!0)]),_("div",V8,[_("p",null,Q(A==null?void 0:A.title),1),_("p",null,Q(A==null?void 0:A.content),1)])]))),128))])])]),((S=(b=t.mbox)==null?void 0:b.mbox)==null?void 0:S.lastDayRank)&&((h=(d=t.mbox)==null?void 0:d.mbox)==null?void 0:h.sumBox)?(N(),$("div",W8,[z8,_("div",Y8,[_("div",q8,[_("h4",null,Q((g=(c=t.mbox)==null?void 0:c.mbox)==null?void 0:g.lastDayRank),1),Q8]),_("div",Z8,[_("h4",null,Q(s((E=(T=t.mbox)==null?void 0:T.mbox)==null?void 0:E.sumBox)),1),J8])])])):pt("",!0)]}),_:1})]),_("div",X8,[at(l,{title:"\u63A8\u8350"},{default:Jt(()=>{var v,f,b;return[(f=(v=t.newsList)==null?void 0:v.newsList)!=null&&f.length?(N(),$("div",t5,[e5,_("ul",n5,[(N(!0),$(ht,null,At((b=t.newsList)==null?void 0:b.newsList,S=>{var d;return N(),$("li",null,[_("div",r5,[_("div",i5,[_("h4",null,Q(S==null?void 0:S.title),1)]),_("div",s5,[at(p,{width:"120rem",height:"90rem",src:S?`${(d=S==null?void 0:S.previewImages[0])==null?void 0:d.url}`:""},null,8,["src"])])]),_("div",a5,[_("span",o5,[_("span",null,Q(S==null?void 0:S.source),1),Vt(" "+Q(i(new Date(S==null?void 0:S.created).getMonth()+1))+"-"+Q(i(new Date(S==null?void 0:S.created).getDate())),1)]),_("div",l5,[_("div",null,[u5,_("span",null,Q(S==null?void 0:S.viewCount),1)]),_("div",null,[c5,_("span",null,Q(S==null?void 0:S.commentCount),1)])])])])}),256))])])):pt("",!0),_("div",d5,[f5,_("ul",h5,[(N(!0),$(ht,null,At(t.relatedMovies,S=>(N(),$("li",{onClick:d=>u.$router.push({path:"/filmdetails",query:{id:S.id}})},[_("div",v5,[_("div",p5,[at(p,{width:"80rem",height:"112rem",src:S?`${S==null?void 0:S.img}`:""},null,8,["src"])]),_("p",null,Q(S==null?void 0:S.title),1)])],8,g5))),256))])])]}),_:1})])]),_:1},8,["active"])])])])}}},y5=Te(m5,[["__scopeId","data-v-908d71f6"]]);const wn=t=>(de("data-v-b87a5db7"),t=t(),fe(),t),_5={class:"w-top"},A5={class:"card"},E5=wn(()=>_("span",null,"\u7535\u5F71",-1)),b5={class:"wrap"},T5={class:"introduction"},S5={class:"card"},k5=wn(()=>_("div",{class:"bg"},null,-1)),w5={key:1,class:"info"},C5={class:"c-title"},R5={class:"c-info"},x5={key:0,class:"c-scm"},I5={class:"f-1"},L5={class:"f-2"},D5={key:0,class:"box"},O5=wn(()=>_("div",{class:"bg2"},null,-1)),P5={key:1,class:"box"},F5=wn(()=>_("div",{class:"bg2"},null,-1)),M5={class:"f-3"},B5=wn(()=>_("img",{src:"https://obj.pipi.cn/festatic/asgard/resources/images/movie/arrow-right-white.png",alt:"","data-v-8efa4bb1":""},null,-1)),N5={class:"btn"},U5={class:"l-btn"},$5=wn(()=>_("span",{class:"bg"},null,-1)),G5=wn(()=>_("div",{class:"r-btn"},[_("span",null,[_("span",{class:"bg"}),Vt(" \u770B\u8FC7 ")])],-1)),H5={class:"score"},j5={class:"s-wrap"},K5={class:"sw-top"},V5=wn(()=>_("div",{class:"img"},[_("img",{src:"https://obj.pipi.cn/festatic/asgard/resources/images/movie/logo-new.png",alt:""}),_("span",null,"\u732B\u773C\u8D2D\u7968\u8BC4\u5206")],-1)),W5={class:"statistical"},z5=wn(()=>_("span",null,"\u4EBA\u60F3\u770B",-1)),Y5=wn(()=>_("span",null,"\u4EBA\u770B\u8FC7",-1)),q5=wn(()=>_("img",{src:"https://obj.pipi.cn/festatic/asgard/resources/images/movie/arrow-right-white.png",alt:""},null,-1)),Q5={class:"sw-fot"},Z5={class:"l-card"},J5={class:"number"},X5=wn(()=>_("span",null,"\u4EBA\u8BC4",-1)),tN={class:"number-box"},eN={class:"stars-percent-bar"},nN=vd('<div class="stars" data-v-b87a5db7><img src="https://obj.pipi.cn/festatic/asgard/resources/images/movie/white-star.png" alt="" data-v-b87a5db7><img src="https://obj.pipi.cn/festatic/asgard/resources/images/movie/white-star.png" alt="" data-v-b87a5db7><img src="https://obj.pipi.cn/festatic/asgard/resources/images/movie/white-star.png" alt="" data-v-b87a5db7><img src="https://obj.pipi.cn/festatic/asgard/resources/images/movie/white-star.png" alt="" data-v-b87a5db7><img src="https://obj.pipi.cn/festatic/asgard/resources/images/movie/white-star.png" alt="" data-v-b87a5db7></div>',1),rN={class:"bor"},iN=vd('<div class="stars-percent-bar" data-v-b87a5db7><div class="stars" data-v-b87a5db7><img src="https://obj.pipi.cn/festatic/asgard/resources/images/movie/white-star.png" alt="" data-v-b87a5db7><img src="https://obj.pipi.cn/festatic/asgard/resources/images/movie/white-star.png" alt="" data-v-b87a5db7><img src="https://obj.pipi.cn/festatic/asgard/resources/images/movie/white-star.png" alt="" data-v-b87a5db7><img src="https://obj.pipi.cn/festatic/asgard/resources/images/movie/white-star.png" alt="" data-v-b87a5db7><img src="https://obj.pipi.cn/festatic/asgard/resources/images/movie/grey-star.png" alt="" data-v-b87a5db7></div><div class="bor" data-v-b87a5db7><div class="percent" style="width:6%;" data-v-b87a5db7></div></div></div><div class="stars-percent-bar" data-v-b87a5db7><div class="stars" data-v-b87a5db7><img src="https://obj.pipi.cn/festatic/asgard/resources/images/movie/white-star.png" alt="" data-v-b87a5db7><img src="https://obj.pipi.cn/festatic/asgard/resources/images/movie/white-star.png" alt="" data-v-b87a5db7><img src="https://obj.pipi.cn/festatic/asgard/resources/images/movie/white-star.png" alt="" data-v-b87a5db7><img src="https://obj.pipi.cn/festatic/asgard/resources/images/movie/grey-star.png" alt="" data-v-b87a5db7><img src="https://obj.pipi.cn/festatic/asgard/resources/images/movie/grey-star.png" alt="" data-v-b87a5db7></div><div class="bor" data-v-b87a5db7><div class="percent" style="width:1.9%;" data-v-b87a5db7></div></div></div><div class="stars-percent-bar" data-v-b87a5db7><div class="stars" data-v-b87a5db7><img src="https://obj.pipi.cn/festatic/asgard/resources/images/movie/white-star.png" alt="" data-v-b87a5db7><img src="https://obj.pipi.cn/festatic/asgard/resources/images/movie/white-star.png" alt="" data-v-b87a5db7><img src="https://obj.pipi.cn/festatic/asgard/resources/images/movie/grey-star.png" alt="" data-v-b87a5db7><img src="https://obj.pipi.cn/festatic/asgard/resources/images/movie/grey-star.png" alt="" data-v-b87a5db7><img src="https://obj.pipi.cn/festatic/asgard/resources/images/movie/grey-star.png" alt="" data-v-b87a5db7></div><div class="bor" data-v-b87a5db7><div class="percent" style="width:0.2%;" data-v-b87a5db7></div></div></div><div class="stars-percent-bar" data-v-b87a5db7><div class="stars" data-v-b87a5db7><img src="https://obj.pipi.cn/festatic/asgard/resources/images/movie/white-star.png" alt="" data-v-b87a5db7><img src="https://obj.pipi.cn/festatic/asgard/resources/images/movie/grey-star.png" alt="" data-v-b87a5db7><img src="https://obj.pipi.cn/festatic/asgard/resources/images/movie/grey-star.png" alt="" data-v-b87a5db7><img src="https://obj.pipi.cn/festatic/asgard/resources/images/movie/grey-star.png" alt="" data-v-b87a5db7><img src="https://obj.pipi.cn/festatic/asgard/resources/images/movie/grey-star.png" alt="" data-v-b87a5db7></div><div class="bor" data-v-b87a5db7><div class="percent" style="width:0.9%;" data-v-b87a5db7></div></div></div>',4),sN={key:0,class:"r-card"},aN={class:"img"},oN=wn(()=>_("p",null,"TOP",-1)),lN={class:"box"},uN={class:"price"},cN={class:"card"},dN=wn(()=>_("span",null,"\u7279\u60E0\u8D2D\u7968",-1)),fN={key:0,class:"lodaing"},hN=wn(()=>_("div",{class:"img"},[_("img",{class:"img1",src:yi,alt:""}),_("img",{class:"img2",src:_i,alt:""})],-1)),gN=[hN],vN={__name:"FilmDetailsView",setup(t){const e=kr();console.log(e.query.id);const n=Z(null),i=Z(!1),s=Z(0),o=Z(0),u=Z(0),m=Z(0),p=Z(0),l=Z(23.4),y=Z(113.3),v=Z(20);function f(S){S=""+S;let d=S;d=d.split("").reverse().join("");let h="";for(let c=0;c<d.length;c++)h+=d[c],(c+1)%3===0&&c!==d.length-1&&(h+=",");return h=h.split("").reverse().join(""),h}Xt(()=>{var S;i.value=!0,Im({movieId:(S=e==null?void 0:e.query)==null?void 0:S.id}).then(d=>{var h,c,g,T,E,A;console.log(d),i.value=!1,n.value=d.data,s.value=(c=(h=d.data)==null?void 0:h.movie)==null?void 0:c.wish,o.value=(T=(g=d.data)==null?void 0:g.movie)==null?void 0:T.watched,u.value=f((A=(E=d.data)==null?void 0:E.movie)==null?void 0:A.snum),setInterval(()=>{var w,L,x,D;m.value<=((L=(w=d.data)==null?void 0:w.movie)==null?void 0:L.wish)&&(m.value+=Math.floor(Math.random()*(1500-1e3+1))+1e3),p.value<=((D=(x=d.data)==null?void 0:x.movie)==null?void 0:D.watched)&&(p.value+=Math.floor(Math.random()*(15e4-1e5+1))+1e5)},0)})});const b=ze();return console.log(location.href),(S,d)=>{var g,T,E,A,w,L,x,D,k,R,I,O,P,F,U,B,H,V,q,et,rt,ot,J,W,st,it,j,gt,bt,It,z,tt,ut,ft,mt,_t,wt,St,Rt,Et,Pt,Dt,Ft,$t,Ht,Yt,dt,Ot,ue,De,Be,Oe,Mt,ee,qt,Ne,yn;const h=Wt("van-image"),c=Wt("van-skeleton");return N(),$(ht,null,[_("div",{class:"film-details",style:cn({backgroundColor:`${(T=(g=n.value)==null?void 0:g.movie)==null?void 0:T.backgroundColor}`})},[_("div",_5,[_("div",A5,[_("span",{onClick:d[0]||(d[0]=Ke=>S.$router.back())}),E5])]),_("div",b5,[_("div",T5,[_("div",S5,[_("div",{class:"img",onClick:d[1]||(d[1]=Ke=>{var Ue,Pn;return S.$router.push({path:"/filmvideoplay",query:{id:(Pn=(Ue=X(e))==null?void 0:Ue.query)==null?void 0:Pn.id,vdindex:0}})})},[at(h,{width:"100rem",height:"138rem",src:n.value?`${(A=(E=n.value)==null?void 0:E.movie)==null?void 0:A.img}`:""},null,8,["src"]),k5]),n.value?(N(),$("div",w5,[_("h3",C5,[_("span",null,Q((L=(w=n.value)==null?void 0:w.movie)==null?void 0:L.nm),1),_("p",null,Q((D=(x=n.value)==null?void 0:x.movie)==null?void 0:D.enm),1)]),_("p",R5,[n.value.movie.scm?(N(),$("p",x5,Q((R=(k=n.value)==null?void 0:k.movie)==null?void 0:R.scm),1)):pt("",!0),_("span",I5,Q((O=(I=n.value)==null?void 0:I.movie)==null?void 0:O.cat.slice(0,2))+"\xA0"+Q((F=(P=n.value)==null?void 0:P.movie)==null?void 0:F.cat.slice(3)),1),_("span",L5,[String((B=(U=n.value)==null?void 0:U.movie)==null?void 0:B.ver.slice(0,7))=="IMAX 2D"?(N(),$("div",D5,[_("span",null,Q((V=(H=n.value)==null?void 0:H.movie)==null?void 0:V.ver.slice(0,7)),1),O5])):pt("",!0),String((et=(q=n.value)==null?void 0:q.movie)==null?void 0:et.ver.slice(0,7))=="IMAX 3D"?(N(),$("div",P5,[_("span",null,Q((ot=(rt=n.value)==null?void 0:rt.movie)==null?void 0:ot.ver.slice(0,7)),1),F5])):pt("",!0)]),_("p",M5,[Vt(Q((W=(J=n.value)==null?void 0:J.movie)==null?void 0:W.onlineDate)+"\xA0"+Q((it=(st=n.value)==null?void 0:st.movie)==null?void 0:it.dur)+"\u5206\u949F ",1),B5])]),_("div",N5,[_("div",U5,[X(b).Movies.map(Ke=>Ke.id).includes((gt=(j=n.value)==null?void 0:j.movie)==null?void 0:gt.id)?(N(),$("span",{key:1,style:{background:"#a6a6a647",color:"#ffffff73"},onClick:d[3]||(d[3]=Ke=>{var Ue;return X(b).removeMovie((Ue=n.value)==null?void 0:Ue.movie)})},"\u5DF2\u770B\u8FC7")):(N(),$("span",{key:0,onClick:d[2]||(d[2]=Ke=>{var Ue;return X(b).getMovie((Ue=n.value)==null?void 0:Ue.movie)})},[$5,Vt(" \u60F3\u770B ")]))]),G5])])):(N(),ie(c,{key:0,title:"",row:4,"title-width":"200rem"}))])]),_("div",H5,[_("div",j5,[_("div",K5,[V5,_("div",W5,[_("span",null,[Vt(Q(m.value>=s.value?f(s.value):f(m.value)),1),z5]),_("span",null,[Vt(Q(p.value>=o.value?f(o.value):f(p.value))+" ",1),Y5,q5])])]),_("div",Q5,[_("div",Z5,[_("div",J5,[_("h1",null,Q((It=(bt=n.value)==null?void 0:bt.movie)==null?void 0:It.sc),1),_("p",null,[Vt(Q(u.value),1),X5])]),_("div",tN,[_("div",eN,[nN,_("div",rN,[_("div",{class:Kt(["percent",{active1:!i.value}])},null,2)])]),iN])]),(tt=(z=n.value)==null?void 0:z.reputation)!=null&&tt.movieRank?(N(),$("div",sN,[_("div",aN,[oN,_("span",null,Q((ft=(ut=n.value)==null?void 0:ut.reputation)==null?void 0:ft.movieRank),1)]),_("div",lN,[_("h5",null,Q((_t=(mt=n.value)==null?void 0:mt.reputation)==null?void 0:_t.year)+"\u5E74"+Q((St=(wt=n.value)==null?void 0:wt.reputation)==null?void 0:St.term)+Q(((Et=(Rt=n.value)==null?void 0:Rt.reputation)==null?void 0:Et.term)>12?"\u5468":"\u6708"),1),_("p",null,Q((Dt=(Pt=n.value)==null?void 0:Pt.reputation)==null?void 0:Dt.secondWord),1)])])):pt("",!0)])])]),at(YM,{Introduction:(Ft=n.value)==null?void 0:Ft.movie,celebrities:($t=n.value)==null?void 0:$t.celebrities,tips:(Ht=n.value)==null?void 0:Ht.tips,lodaing:i.value},null,8,["Introduction","celebrities","tips","lodaing"]),at(hB,{feedVideos:(Yt=n.value)==null?void 0:Yt.feedVideos,photos:(Ot=(dt=n.value)==null?void 0:dt.movie)==null?void 0:Ot.photos},null,8,["feedVideos","photos"]),at(y5,{comments:(ue=n.value)==null?void 0:ue.comments,questions:(De=n.value)==null?void 0:De.questions,filmReviews:(Be=n.value)==null?void 0:Be.filmReviews,features:(Oe=n.value)==null?void 0:Oe.features,mbox:(Mt=n.value)==null?void 0:Mt.mbox,relatedMovies:(ee=n.value)==null?void 0:ee.relatedMovies,newsList:(qt=n.value)==null?void 0:qt.newsList},null,8,["comments","questions","filmReviews","features","mbox","relatedMovies","newsList"]),_("div",uN,[_("div",cN,[_("div",{class:"box",onClick:d[4]||(d[4]=Qe(Ke=>{var Ue,Pn;return S.$router.push({path:"/ticket",query:{id:(Pn=(Ue=n.value)==null?void 0:Ue.movie)==null?void 0:Pn.id,lat:l.value,lng:y.value,cityId:v.value}})},["stop"]))},[_("p",null,[Vt(Q((yn=(Ne=n.value)==null?void 0:Ne.movie)==null?void 0:yn.minPriceContent)+" ",1),dN])])])])])],4),i.value?(N(),$("div",fN,gN)):pt("",!0)],64)}}},pN=Te(vN,[["__scopeId","data-v-b87a5db7"]]),mN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAwFJREFUSA3FVs1qU0EUTibBRQiCRF3UB3BTcFHwJ0XRJ+gDhDaQ5vcJ3PgCfYL80AYSyQP4BIKQiosuhLoQXOjCbqQIJUgoyY3fdzNnmCRzk3uvBQfmzrlzzvm+OTNzz7mJxH9qyTC83W733mQyeTKbzbbQc8lk8hL9Ip1OfyqVSr/CYCzbBBKDQHU6nX2MZfQ8HNWyM949LOAU/bharb7F6DlsnFNOYhDmp9NpGx7bTi/35HkqlaphAadu9eLsCjFIS57nNRHlLct0AnmIiL5ivETPQf8Q4y56Gt1v0F8rpRog78pc0LhATFJEemIZXwHoKJvNNguFwm9r3hcHg8Gd0WjUwEJfY+K26BH54SZyQ8ztBcB7K9IzAO01Go2fAhg0NpvNB9C9Q9+hjY781bpt9y8MyBTP1CZFpC/CkJKIdrSHyMUmiKPxXBeSJvOb2mq1DiDLRbqCvFer1f7QIGzT9nuwpz/bNnZxfy6uPv0VYWvKouKZho1UfGTUkR/JOyI3uDIno2JygMEzPTHhRRJlnFH78yvglueJ78JRzEhQyFkMXbfX5Rg0p/2HWi/4K+YKq9qSWf2dymvs0cax8W1AEuesCSaHm2gGZwnfYCuszhhh1l6EMYohGJwlfANF4gt5w+qYBv+52Tg2vg2sWNowIVVll2nQNogqa3/mcDZP48/frKdiPcWqpKKkmXstfWRR+/uFg7hB9VpSpikMTPg690YmpR/834gjiI9FXh79IoEzUUibn6GUtHnG3Bslbbbb7QxIfwDjriY5r9frj0Aux7jALSnTYxGH0bXW7gDkQ9jIdaRfLFLCfEefUXA1UxapvKl6bBF1EXUZAa0sYIFYyBFt7D8QHBu/kuebyFeINXnsf65KpfIR94WXqrSO3ElMB33hDrBNh5DX/mVCf4It7ctFwntyE3kgsbXaRL/fvz8ejx8DMPR/9SbyUMT2IqLIa8mjAMWxdZB/y2QyT80/cRzQMD78lNDKOHOa84fwZbFYtCtiGJj4Noy81+uZcvkXH+aXwmK6+EsAAAAASUVORK5CYII=",yN=""+new URL("deletecat.d30f9adb.png",import.meta.url).href;var gl={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,i="4.17.21",s=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",m="Invalid `variable` option passed into `_.template`",p="__lodash_hash_undefined__",l=500,y="__lodash_placeholder__",v=1,f=2,b=4,S=1,d=2,h=1,c=2,g=4,T=8,E=16,A=32,w=64,L=128,x=256,D=512,k=30,R="...",I=800,O=16,P=1,F=2,U=3,B=1/0,H=9007199254740991,V=17976931348623157e292,q=0/0,et=4294967295,rt=et-1,ot=et>>>1,J=[["ary",L],["bind",h],["bindKey",c],["curry",T],["curryRight",E],["flip",D],["partial",A],["partialRight",w],["rearg",x]],W="[object Arguments]",st="[object Array]",it="[object AsyncFunction]",j="[object Boolean]",gt="[object Date]",bt="[object DOMException]",It="[object Error]",z="[object Function]",tt="[object GeneratorFunction]",ut="[object Map]",ft="[object Number]",mt="[object Null]",_t="[object Object]",wt="[object Promise]",St="[object Proxy]",Rt="[object RegExp]",Et="[object Set]",Pt="[object String]",Dt="[object Symbol]",Ft="[object Undefined]",$t="[object WeakMap]",Ht="[object WeakSet]",Yt="[object ArrayBuffer]",dt="[object DataView]",Ot="[object Float32Array]",ue="[object Float64Array]",De="[object Int8Array]",Be="[object Int16Array]",Oe="[object Int32Array]",Mt="[object Uint8Array]",ee="[object Uint8ClampedArray]",qt="[object Uint16Array]",Ne="[object Uint32Array]",yn=/\b__p \+= '';/g,Ke=/\b(__p \+=) '' \+/g,Ue=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Pn=/&(?:amp|lt|gt|quot|#39);/g,Ei=/[&<>"']/g,Ya=RegExp(Pn.source),Gd=RegExp(Ei.source),qa=/<%-([\s\S]+?)%>/g,Qa=/<%([\s\S]+?)%>/g,Hd=/<%=([\s\S]+?)%>/g,F0=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,M0=/^\w*$/,B0=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Hl=/[\\^$.*+?()[\]{}|]/g,N0=RegExp(Hl.source),jl=/^\s+/,U0=/\s/,$0=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,G0=/\{\n\/\* \[wrapped with (.+)\] \*/,H0=/,? & /,j0=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,K0=/[()=,{}\[\]\/\s]/,V0=/\\(\\)?/g,W0=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,jd=/\w*$/,z0=/^[-+]0x[0-9a-f]+$/i,Y0=/^0b[01]+$/i,q0=/^\[object .+?Constructor\]$/,Q0=/^0o[0-7]+$/i,Z0=/^(?:0|[1-9]\d*)$/,J0=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Za=/($^)/,X0=/['\n\r\u2028\u2029\\]/g,Ja="\\ud800-\\udfff",ty="\\u0300-\\u036f",ey="\\ufe20-\\ufe2f",ny="\\u20d0-\\u20ff",Kd=ty+ey+ny,Vd="\\u2700-\\u27bf",Wd="a-z\\xdf-\\xf6\\xf8-\\xff",ry="\\xac\\xb1\\xd7\\xf7",iy="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",sy="\\u2000-\\u206f",ay=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",zd="A-Z\\xc0-\\xd6\\xd8-\\xde",Yd="\\ufe0e\\ufe0f",qd=ry+iy+sy+ay,Kl="['\u2019]",oy="["+Ja+"]",Qd="["+qd+"]",Xa="["+Kd+"]",Zd="\\d+",ly="["+Vd+"]",Jd="["+Wd+"]",Xd="[^"+Ja+qd+Zd+Vd+Wd+zd+"]",Vl="\\ud83c[\\udffb-\\udfff]",uy="(?:"+Xa+"|"+Vl+")",tf="[^"+Ja+"]",Wl="(?:\\ud83c[\\udde6-\\uddff]){2}",zl="[\\ud800-\\udbff][\\udc00-\\udfff]",qi="["+zd+"]",ef="\\u200d",nf="(?:"+Jd+"|"+Xd+")",cy="(?:"+qi+"|"+Xd+")",rf="(?:"+Kl+"(?:d|ll|m|re|s|t|ve))?",sf="(?:"+Kl+"(?:D|LL|M|RE|S|T|VE))?",af=uy+"?",of="["+Yd+"]?",dy="(?:"+ef+"(?:"+[tf,Wl,zl].join("|")+")"+of+af+")*",fy="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",hy="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",lf=of+af+dy,gy="(?:"+[ly,Wl,zl].join("|")+")"+lf,vy="(?:"+[tf+Xa+"?",Xa,Wl,zl,oy].join("|")+")",py=RegExp(Kl,"g"),my=RegExp(Xa,"g"),Yl=RegExp(Vl+"(?="+Vl+")|"+vy+lf,"g"),yy=RegExp([qi+"?"+Jd+"+"+rf+"(?="+[Qd,qi,"$"].join("|")+")",cy+"+"+sf+"(?="+[Qd,qi+nf,"$"].join("|")+")",qi+"?"+nf+"+"+rf,qi+"+"+sf,hy,fy,Zd,gy].join("|"),"g"),_y=RegExp("["+ef+Ja+Kd+Yd+"]"),Ay=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ey=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],by=-1,Pe={};Pe[Ot]=Pe[ue]=Pe[De]=Pe[Be]=Pe[Oe]=Pe[Mt]=Pe[ee]=Pe[qt]=Pe[Ne]=!0,Pe[W]=Pe[st]=Pe[Yt]=Pe[j]=Pe[dt]=Pe[gt]=Pe[It]=Pe[z]=Pe[ut]=Pe[ft]=Pe[_t]=Pe[Rt]=Pe[Et]=Pe[Pt]=Pe[$t]=!1;var Ie={};Ie[W]=Ie[st]=Ie[Yt]=Ie[dt]=Ie[j]=Ie[gt]=Ie[Ot]=Ie[ue]=Ie[De]=Ie[Be]=Ie[Oe]=Ie[ut]=Ie[ft]=Ie[_t]=Ie[Rt]=Ie[Et]=Ie[Pt]=Ie[Dt]=Ie[Mt]=Ie[ee]=Ie[qt]=Ie[Ne]=!0,Ie[It]=Ie[z]=Ie[$t]=!1;var Ty={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Sy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ky={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},wy={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Cy=parseFloat,Ry=parseInt,uf=typeof ys=="object"&&ys&&ys.Object===Object&&ys,xy=typeof self=="object"&&self&&self.Object===Object&&self,ln=uf||xy||Function("return this")(),ql=e&&!e.nodeType&&e,bi=ql&&!0&&t&&!t.nodeType&&t,cf=bi&&bi.exports===ql,Ql=cf&&uf.process,Kn=function(){try{var ct=bi&&bi.require&&bi.require("util").types;return ct||Ql&&Ql.binding&&Ql.binding("util")}catch{}}(),df=Kn&&Kn.isArrayBuffer,ff=Kn&&Kn.isDate,hf=Kn&&Kn.isMap,gf=Kn&&Kn.isRegExp,vf=Kn&&Kn.isSet,pf=Kn&&Kn.isTypedArray;function Fn(ct,Tt,yt){switch(yt.length){case 0:return ct.call(Tt);case 1:return ct.call(Tt,yt[0]);case 2:return ct.call(Tt,yt[0],yt[1]);case 3:return ct.call(Tt,yt[0],yt[1],yt[2])}return ct.apply(Tt,yt)}function Iy(ct,Tt,yt,Nt){for(var ne=-1,be=ct==null?0:ct.length;++ne<be;){var en=ct[ne];Tt(Nt,en,yt(en),ct)}return Nt}function Vn(ct,Tt){for(var yt=-1,Nt=ct==null?0:ct.length;++yt<Nt&&Tt(ct[yt],yt,ct)!==!1;);return ct}function Ly(ct,Tt){for(var yt=ct==null?0:ct.length;yt--&&Tt(ct[yt],yt,ct)!==!1;);return ct}function mf(ct,Tt){for(var yt=-1,Nt=ct==null?0:ct.length;++yt<Nt;)if(!Tt(ct[yt],yt,ct))return!1;return!0}function qr(ct,Tt){for(var yt=-1,Nt=ct==null?0:ct.length,ne=0,be=[];++yt<Nt;){var en=ct[yt];Tt(en,yt,ct)&&(be[ne++]=en)}return be}function to(ct,Tt){var yt=ct==null?0:ct.length;return!!yt&&Qi(ct,Tt,0)>-1}function Zl(ct,Tt,yt){for(var Nt=-1,ne=ct==null?0:ct.length;++Nt<ne;)if(yt(Tt,ct[Nt]))return!0;return!1}function $e(ct,Tt){for(var yt=-1,Nt=ct==null?0:ct.length,ne=Array(Nt);++yt<Nt;)ne[yt]=Tt(ct[yt],yt,ct);return ne}function Qr(ct,Tt){for(var yt=-1,Nt=Tt.length,ne=ct.length;++yt<Nt;)ct[ne+yt]=Tt[yt];return ct}function Jl(ct,Tt,yt,Nt){var ne=-1,be=ct==null?0:ct.length;for(Nt&&be&&(yt=ct[++ne]);++ne<be;)yt=Tt(yt,ct[ne],ne,ct);return yt}function Dy(ct,Tt,yt,Nt){var ne=ct==null?0:ct.length;for(Nt&&ne&&(yt=ct[--ne]);ne--;)yt=Tt(yt,ct[ne],ne,ct);return yt}function Xl(ct,Tt){for(var yt=-1,Nt=ct==null?0:ct.length;++yt<Nt;)if(Tt(ct[yt],yt,ct))return!0;return!1}var Oy=tu("length");function Py(ct){return ct.split("")}function Fy(ct){return ct.match(j0)||[]}function yf(ct,Tt,yt){var Nt;return yt(ct,function(ne,be,en){if(Tt(ne,be,en))return Nt=be,!1}),Nt}function eo(ct,Tt,yt,Nt){for(var ne=ct.length,be=yt+(Nt?1:-1);Nt?be--:++be<ne;)if(Tt(ct[be],be,ct))return be;return-1}function Qi(ct,Tt,yt){return Tt===Tt?zy(ct,Tt,yt):eo(ct,_f,yt)}function My(ct,Tt,yt,Nt){for(var ne=yt-1,be=ct.length;++ne<be;)if(Nt(ct[ne],Tt))return ne;return-1}function _f(ct){return ct!==ct}function Af(ct,Tt){var yt=ct==null?0:ct.length;return yt?nu(ct,Tt)/yt:q}function tu(ct){return function(Tt){return Tt==null?n:Tt[ct]}}function eu(ct){return function(Tt){return ct==null?n:ct[Tt]}}function Ef(ct,Tt,yt,Nt,ne){return ne(ct,function(be,en,Re){yt=Nt?(Nt=!1,be):Tt(yt,be,en,Re)}),yt}function By(ct,Tt){var yt=ct.length;for(ct.sort(Tt);yt--;)ct[yt]=ct[yt].value;return ct}function nu(ct,Tt){for(var yt,Nt=-1,ne=ct.length;++Nt<ne;){var be=Tt(ct[Nt]);be!==n&&(yt=yt===n?be:yt+be)}return yt}function ru(ct,Tt){for(var yt=-1,Nt=Array(ct);++yt<ct;)Nt[yt]=Tt(yt);return Nt}function Ny(ct,Tt){return $e(Tt,function(yt){return[yt,ct[yt]]})}function bf(ct){return ct&&ct.slice(0,wf(ct)+1).replace(jl,"")}function Mn(ct){return function(Tt){return ct(Tt)}}function iu(ct,Tt){return $e(Tt,function(yt){return ct[yt]})}function Ks(ct,Tt){return ct.has(Tt)}function Tf(ct,Tt){for(var yt=-1,Nt=ct.length;++yt<Nt&&Qi(Tt,ct[yt],0)>-1;);return yt}function Sf(ct,Tt){for(var yt=ct.length;yt--&&Qi(Tt,ct[yt],0)>-1;);return yt}function Uy(ct,Tt){for(var yt=ct.length,Nt=0;yt--;)ct[yt]===Tt&&++Nt;return Nt}var $y=eu(Ty),Gy=eu(Sy);function Hy(ct){return"\\"+wy[ct]}function jy(ct,Tt){return ct==null?n:ct[Tt]}function Zi(ct){return _y.test(ct)}function Ky(ct){return Ay.test(ct)}function Vy(ct){for(var Tt,yt=[];!(Tt=ct.next()).done;)yt.push(Tt.value);return yt}function su(ct){var Tt=-1,yt=Array(ct.size);return ct.forEach(function(Nt,ne){yt[++Tt]=[ne,Nt]}),yt}function kf(ct,Tt){return function(yt){return ct(Tt(yt))}}function Zr(ct,Tt){for(var yt=-1,Nt=ct.length,ne=0,be=[];++yt<Nt;){var en=ct[yt];(en===Tt||en===y)&&(ct[yt]=y,be[ne++]=yt)}return be}function no(ct){var Tt=-1,yt=Array(ct.size);return ct.forEach(function(Nt){yt[++Tt]=Nt}),yt}function Wy(ct){var Tt=-1,yt=Array(ct.size);return ct.forEach(function(Nt){yt[++Tt]=[Nt,Nt]}),yt}function zy(ct,Tt,yt){for(var Nt=yt-1,ne=ct.length;++Nt<ne;)if(ct[Nt]===Tt)return Nt;return-1}function Yy(ct,Tt,yt){for(var Nt=yt+1;Nt--;)if(ct[Nt]===Tt)return Nt;return Nt}function Ji(ct){return Zi(ct)?Qy(ct):Oy(ct)}function ir(ct){return Zi(ct)?Zy(ct):Py(ct)}function wf(ct){for(var Tt=ct.length;Tt--&&U0.test(ct.charAt(Tt)););return Tt}var qy=eu(ky);function Qy(ct){for(var Tt=Yl.lastIndex=0;Yl.test(ct);)++Tt;return Tt}function Zy(ct){return ct.match(Yl)||[]}function Jy(ct){return ct.match(yy)||[]}var Xy=function ct(Tt){Tt=Tt==null?ln:Xi.defaults(ln.Object(),Tt,Xi.pick(ln,Ey));var yt=Tt.Array,Nt=Tt.Date,ne=Tt.Error,be=Tt.Function,en=Tt.Math,Re=Tt.Object,au=Tt.RegExp,t1=Tt.String,Wn=Tt.TypeError,ro=yt.prototype,e1=be.prototype,ts=Re.prototype,io=Tt["__core-js_shared__"],so=e1.toString,we=ts.hasOwnProperty,n1=0,Cf=function(){var r=/[^.]+$/.exec(io&&io.keys&&io.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),ao=ts.toString,r1=so.call(Re),i1=ln._,s1=au("^"+so.call(we).replace(Hl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oo=cf?Tt.Buffer:n,Jr=Tt.Symbol,lo=Tt.Uint8Array,Rf=oo?oo.allocUnsafe:n,uo=kf(Re.getPrototypeOf,Re),xf=Re.create,If=ts.propertyIsEnumerable,co=ro.splice,Lf=Jr?Jr.isConcatSpreadable:n,Vs=Jr?Jr.iterator:n,Ti=Jr?Jr.toStringTag:n,fo=function(){try{var r=Ri(Re,"defineProperty");return r({},"",{}),r}catch{}}(),a1=Tt.clearTimeout!==ln.clearTimeout&&Tt.clearTimeout,o1=Nt&&Nt.now!==ln.Date.now&&Nt.now,l1=Tt.setTimeout!==ln.setTimeout&&Tt.setTimeout,ho=en.ceil,go=en.floor,ou=Re.getOwnPropertySymbols,u1=oo?oo.isBuffer:n,Df=Tt.isFinite,c1=ro.join,d1=kf(Re.keys,Re),nn=en.max,gn=en.min,f1=Nt.now,h1=Tt.parseInt,Of=en.random,g1=ro.reverse,lu=Ri(Tt,"DataView"),Ws=Ri(Tt,"Map"),uu=Ri(Tt,"Promise"),es=Ri(Tt,"Set"),zs=Ri(Tt,"WeakMap"),Ys=Ri(Re,"create"),vo=zs&&new zs,ns={},v1=xi(lu),p1=xi(Ws),m1=xi(uu),y1=xi(es),_1=xi(zs),po=Jr?Jr.prototype:n,qs=po?po.valueOf:n,Pf=po?po.toString:n;function K(r){if(Ve(r)&&!re(r)&&!(r instanceof ge)){if(r instanceof zn)return r;if(we.call(r,"__wrapped__"))return Fh(r)}return new zn(r)}var rs=function(){function r(){}return function(a){if(!Ge(a))return{};if(xf)return xf(a);r.prototype=a;var C=new r;return r.prototype=n,C}}();function mo(){}function zn(r,a){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=n}K.templateSettings={escape:qa,evaluate:Qa,interpolate:Hd,variable:"",imports:{_:K}},K.prototype=mo.prototype,K.prototype.constructor=K,zn.prototype=rs(mo.prototype),zn.prototype.constructor=zn;function ge(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=et,this.__views__=[]}function A1(){var r=new ge(this.__wrapped__);return r.__actions__=Cn(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=Cn(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=Cn(this.__views__),r}function E1(){if(this.__filtered__){var r=new ge(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function b1(){var r=this.__wrapped__.value(),a=this.__dir__,C=re(r),M=a<0,G=C?r.length:0,Y=P_(0,G,this.__views__),nt=Y.start,lt=Y.end,vt=lt-nt,kt=M?lt:nt-1,Ct=this.__iteratees__,Lt=Ct.length,Bt=0,Gt=gn(vt,this.__takeCount__);if(!C||!M&&G==vt&&Gt==vt)return ih(r,this.__actions__);var Qt=[];t:for(;vt--&&Bt<Gt;){kt+=a;for(var oe=-1,Zt=r[kt];++oe<Lt;){var he=Ct[oe],ve=he.iteratee,Un=he.type,En=ve(Zt);if(Un==F)Zt=En;else if(!En){if(Un==P)continue t;break t}}Qt[Bt++]=Zt}return Qt}ge.prototype=rs(mo.prototype),ge.prototype.constructor=ge;function Si(r){var a=-1,C=r==null?0:r.length;for(this.clear();++a<C;){var M=r[a];this.set(M[0],M[1])}}function T1(){this.__data__=Ys?Ys(null):{},this.size=0}function S1(r){var a=this.has(r)&&delete this.__data__[r];return this.size-=a?1:0,a}function k1(r){var a=this.__data__;if(Ys){var C=a[r];return C===p?n:C}return we.call(a,r)?a[r]:n}function w1(r){var a=this.__data__;return Ys?a[r]!==n:we.call(a,r)}function C1(r,a){var C=this.__data__;return this.size+=this.has(r)?0:1,C[r]=Ys&&a===n?p:a,this}Si.prototype.clear=T1,Si.prototype.delete=S1,Si.prototype.get=k1,Si.prototype.has=w1,Si.prototype.set=C1;function Rr(r){var a=-1,C=r==null?0:r.length;for(this.clear();++a<C;){var M=r[a];this.set(M[0],M[1])}}function R1(){this.__data__=[],this.size=0}function x1(r){var a=this.__data__,C=yo(a,r);if(C<0)return!1;var M=a.length-1;return C==M?a.pop():co.call(a,C,1),--this.size,!0}function I1(r){var a=this.__data__,C=yo(a,r);return C<0?n:a[C][1]}function L1(r){return yo(this.__data__,r)>-1}function D1(r,a){var C=this.__data__,M=yo(C,r);return M<0?(++this.size,C.push([r,a])):C[M][1]=a,this}Rr.prototype.clear=R1,Rr.prototype.delete=x1,Rr.prototype.get=I1,Rr.prototype.has=L1,Rr.prototype.set=D1;function xr(r){var a=-1,C=r==null?0:r.length;for(this.clear();++a<C;){var M=r[a];this.set(M[0],M[1])}}function O1(){this.size=0,this.__data__={hash:new Si,map:new(Ws||Rr),string:new Si}}function P1(r){var a=Io(this,r).delete(r);return this.size-=a?1:0,a}function F1(r){return Io(this,r).get(r)}function M1(r){return Io(this,r).has(r)}function B1(r,a){var C=Io(this,r),M=C.size;return C.set(r,a),this.size+=C.size==M?0:1,this}xr.prototype.clear=O1,xr.prototype.delete=P1,xr.prototype.get=F1,xr.prototype.has=M1,xr.prototype.set=B1;function ki(r){var a=-1,C=r==null?0:r.length;for(this.__data__=new xr;++a<C;)this.add(r[a])}function N1(r){return this.__data__.set(r,p),this}function U1(r){return this.__data__.has(r)}ki.prototype.add=ki.prototype.push=N1,ki.prototype.has=U1;function sr(r){var a=this.__data__=new Rr(r);this.size=a.size}function $1(){this.__data__=new Rr,this.size=0}function G1(r){var a=this.__data__,C=a.delete(r);return this.size=a.size,C}function H1(r){return this.__data__.get(r)}function j1(r){return this.__data__.has(r)}function K1(r,a){var C=this.__data__;if(C instanceof Rr){var M=C.__data__;if(!Ws||M.length<s-1)return M.push([r,a]),this.size=++C.size,this;C=this.__data__=new xr(M)}return C.set(r,a),this.size=C.size,this}sr.prototype.clear=$1,sr.prototype.delete=G1,sr.prototype.get=H1,sr.prototype.has=j1,sr.prototype.set=K1;function Ff(r,a){var C=re(r),M=!C&&Ii(r),G=!C&&!M&&ri(r),Y=!C&&!M&&!G&&os(r),nt=C||M||G||Y,lt=nt?ru(r.length,t1):[],vt=lt.length;for(var kt in r)(a||we.call(r,kt))&&!(nt&&(kt=="length"||G&&(kt=="offset"||kt=="parent")||Y&&(kt=="buffer"||kt=="byteLength"||kt=="byteOffset")||Or(kt,vt)))&&lt.push(kt);return lt}function Mf(r){var a=r.length;return a?r[Au(0,a-1)]:n}function V1(r,a){return Lo(Cn(r),wi(a,0,r.length))}function W1(r){return Lo(Cn(r))}function cu(r,a,C){(C!==n&&!ar(r[a],C)||C===n&&!(a in r))&&Ir(r,a,C)}function Qs(r,a,C){var M=r[a];(!(we.call(r,a)&&ar(M,C))||C===n&&!(a in r))&&Ir(r,a,C)}function yo(r,a){for(var C=r.length;C--;)if(ar(r[C][0],a))return C;return-1}function z1(r,a,C,M){return Xr(r,function(G,Y,nt){a(M,G,C(G),nt)}),M}function Bf(r,a){return r&&yr(a,an(a),r)}function Y1(r,a){return r&&yr(a,xn(a),r)}function Ir(r,a,C){a=="__proto__"&&fo?fo(r,a,{configurable:!0,enumerable:!0,value:C,writable:!0}):r[a]=C}function du(r,a){for(var C=-1,M=a.length,G=yt(M),Y=r==null;++C<M;)G[C]=Y?n:Vu(r,a[C]);return G}function wi(r,a,C){return r===r&&(C!==n&&(r=r<=C?r:C),a!==n&&(r=r>=a?r:a)),r}function Yn(r,a,C,M,G,Y){var nt,lt=a&v,vt=a&f,kt=a&b;if(C&&(nt=G?C(r,M,G,Y):C(r)),nt!==n)return nt;if(!Ge(r))return r;var Ct=re(r);if(Ct){if(nt=M_(r),!lt)return Cn(r,nt)}else{var Lt=vn(r),Bt=Lt==z||Lt==tt;if(ri(r))return oh(r,lt);if(Lt==_t||Lt==W||Bt&&!G){if(nt=vt||Bt?{}:wh(r),!lt)return vt?k_(r,Y1(nt,r)):S_(r,Bf(nt,r))}else{if(!Ie[Lt])return G?r:{};nt=B_(r,Lt,lt)}}Y||(Y=new sr);var Gt=Y.get(r);if(Gt)return Gt;Y.set(r,nt),eg(r)?r.forEach(function(Zt){nt.add(Yn(Zt,a,C,Zt,r,Y))}):Xh(r)&&r.forEach(function(Zt,he){nt.set(he,Yn(Zt,a,C,he,r,Y))});var Qt=kt?vt?Lu:Iu:vt?xn:an,oe=Ct?n:Qt(r);return Vn(oe||r,function(Zt,he){oe&&(he=Zt,Zt=r[he]),Qs(nt,he,Yn(Zt,a,C,he,r,Y))}),nt}function q1(r){var a=an(r);return function(C){return Nf(C,r,a)}}function Nf(r,a,C){var M=C.length;if(r==null)return!M;for(r=Re(r);M--;){var G=C[M],Y=a[G],nt=r[G];if(nt===n&&!(G in r)||!Y(nt))return!1}return!0}function Uf(r,a,C){if(typeof r!="function")throw new Wn(u);return ra(function(){r.apply(n,C)},a)}function Zs(r,a,C,M){var G=-1,Y=to,nt=!0,lt=r.length,vt=[],kt=a.length;if(!lt)return vt;C&&(a=$e(a,Mn(C))),M?(Y=Zl,nt=!1):a.length>=s&&(Y=Ks,nt=!1,a=new ki(a));t:for(;++G<lt;){var Ct=r[G],Lt=C==null?Ct:C(Ct);if(Ct=M||Ct!==0?Ct:0,nt&&Lt===Lt){for(var Bt=kt;Bt--;)if(a[Bt]===Lt)continue t;vt.push(Ct)}else Y(a,Lt,M)||vt.push(Ct)}return vt}var Xr=fh(mr),$f=fh(hu,!0);function Q1(r,a){var C=!0;return Xr(r,function(M,G,Y){return C=!!a(M,G,Y),C}),C}function _o(r,a,C){for(var M=-1,G=r.length;++M<G;){var Y=r[M],nt=a(Y);if(nt!=null&&(lt===n?nt===nt&&!Nn(nt):C(nt,lt)))var lt=nt,vt=Y}return vt}function Z1(r,a,C,M){var G=r.length;for(C=se(C),C<0&&(C=-C>G?0:G+C),M=M===n||M>G?G:se(M),M<0&&(M+=G),M=C>M?0:rg(M);C<M;)r[C++]=a;return r}function Gf(r,a){var C=[];return Xr(r,function(M,G,Y){a(M,G,Y)&&C.push(M)}),C}function un(r,a,C,M,G){var Y=-1,nt=r.length;for(C||(C=U_),G||(G=[]);++Y<nt;){var lt=r[Y];a>0&&C(lt)?a>1?un(lt,a-1,C,M,G):Qr(G,lt):M||(G[G.length]=lt)}return G}var fu=hh(),Hf=hh(!0);function mr(r,a){return r&&fu(r,a,an)}function hu(r,a){return r&&Hf(r,a,an)}function Ao(r,a){return qr(a,function(C){return Pr(r[C])})}function Ci(r,a){a=ei(a,r);for(var C=0,M=a.length;r!=null&&C<M;)r=r[_r(a[C++])];return C&&C==M?r:n}function jf(r,a,C){var M=a(r);return re(r)?M:Qr(M,C(r))}function _n(r){return r==null?r===n?Ft:mt:Ti&&Ti in Re(r)?O_(r):W_(r)}function gu(r,a){return r>a}function J1(r,a){return r!=null&&we.call(r,a)}function X1(r,a){return r!=null&&a in Re(r)}function t_(r,a,C){return r>=gn(a,C)&&r<nn(a,C)}function vu(r,a,C){for(var M=C?Zl:to,G=r[0].length,Y=r.length,nt=Y,lt=yt(Y),vt=1/0,kt=[];nt--;){var Ct=r[nt];nt&&a&&(Ct=$e(Ct,Mn(a))),vt=gn(Ct.length,vt),lt[nt]=!C&&(a||G>=120&&Ct.length>=120)?new ki(nt&&Ct):n}Ct=r[0];var Lt=-1,Bt=lt[0];t:for(;++Lt<G&&kt.length<vt;){var Gt=Ct[Lt],Qt=a?a(Gt):Gt;if(Gt=C||Gt!==0?Gt:0,!(Bt?Ks(Bt,Qt):M(kt,Qt,C))){for(nt=Y;--nt;){var oe=lt[nt];if(!(oe?Ks(oe,Qt):M(r[nt],Qt,C)))continue t}Bt&&Bt.push(Qt),kt.push(Gt)}}return kt}function e_(r,a,C,M){return mr(r,function(G,Y,nt){a(M,C(G),Y,nt)}),M}function Js(r,a,C){a=ei(a,r),r=Ih(r,a);var M=r==null?r:r[_r(Qn(a))];return M==null?n:Fn(M,r,C)}function Kf(r){return Ve(r)&&_n(r)==W}function n_(r){return Ve(r)&&_n(r)==Yt}function r_(r){return Ve(r)&&_n(r)==gt}function Xs(r,a,C,M,G){return r===a?!0:r==null||a==null||!Ve(r)&&!Ve(a)?r!==r&&a!==a:i_(r,a,C,M,Xs,G)}function i_(r,a,C,M,G,Y){var nt=re(r),lt=re(a),vt=nt?st:vn(r),kt=lt?st:vn(a);vt=vt==W?_t:vt,kt=kt==W?_t:kt;var Ct=vt==_t,Lt=kt==_t,Bt=vt==kt;if(Bt&&ri(r)){if(!ri(a))return!1;nt=!0,Ct=!1}if(Bt&&!Ct)return Y||(Y=new sr),nt||os(r)?Th(r,a,C,M,G,Y):L_(r,a,vt,C,M,G,Y);if(!(C&S)){var Gt=Ct&&we.call(r,"__wrapped__"),Qt=Lt&&we.call(a,"__wrapped__");if(Gt||Qt){var oe=Gt?r.value():r,Zt=Qt?a.value():a;return Y||(Y=new sr),G(oe,Zt,C,M,Y)}}return Bt?(Y||(Y=new sr),D_(r,a,C,M,G,Y)):!1}function s_(r){return Ve(r)&&vn(r)==ut}function pu(r,a,C,M){var G=C.length,Y=G,nt=!M;if(r==null)return!Y;for(r=Re(r);G--;){var lt=C[G];if(nt&&lt[2]?lt[1]!==r[lt[0]]:!(lt[0]in r))return!1}for(;++G<Y;){lt=C[G];var vt=lt[0],kt=r[vt],Ct=lt[1];if(nt&&lt[2]){if(kt===n&&!(vt in r))return!1}else{var Lt=new sr;if(M)var Bt=M(kt,Ct,vt,r,a,Lt);if(!(Bt===n?Xs(Ct,kt,S|d,M,Lt):Bt))return!1}}return!0}function Vf(r){if(!Ge(r)||G_(r))return!1;var a=Pr(r)?s1:q0;return a.test(xi(r))}function a_(r){return Ve(r)&&_n(r)==Rt}function o_(r){return Ve(r)&&vn(r)==Et}function l_(r){return Ve(r)&&Bo(r.length)&&!!Pe[_n(r)]}function Wf(r){return typeof r=="function"?r:r==null?In:typeof r=="object"?re(r)?qf(r[0],r[1]):Yf(r):gg(r)}function mu(r){if(!na(r))return d1(r);var a=[];for(var C in Re(r))we.call(r,C)&&C!="constructor"&&a.push(C);return a}function u_(r){if(!Ge(r))return V_(r);var a=na(r),C=[];for(var M in r)M=="constructor"&&(a||!we.call(r,M))||C.push(M);return C}function yu(r,a){return r<a}function zf(r,a){var C=-1,M=Rn(r)?yt(r.length):[];return Xr(r,function(G,Y,nt){M[++C]=a(G,Y,nt)}),M}function Yf(r){var a=Ou(r);return a.length==1&&a[0][2]?Rh(a[0][0],a[0][1]):function(C){return C===r||pu(C,r,a)}}function qf(r,a){return Fu(r)&&Ch(a)?Rh(_r(r),a):function(C){var M=Vu(C,r);return M===n&&M===a?Wu(C,r):Xs(a,M,S|d)}}function Eo(r,a,C,M,G){r!==a&&fu(a,function(Y,nt){if(G||(G=new sr),Ge(Y))c_(r,a,nt,C,Eo,M,G);else{var lt=M?M(Bu(r,nt),Y,nt+"",r,a,G):n;lt===n&&(lt=Y),cu(r,nt,lt)}},xn)}function c_(r,a,C,M,G,Y,nt){var lt=Bu(r,C),vt=Bu(a,C),kt=nt.get(vt);if(kt){cu(r,C,kt);return}var Ct=Y?Y(lt,vt,C+"",r,a,nt):n,Lt=Ct===n;if(Lt){var Bt=re(vt),Gt=!Bt&&ri(vt),Qt=!Bt&&!Gt&&os(vt);Ct=vt,Bt||Gt||Qt?re(lt)?Ct=lt:Ye(lt)?Ct=Cn(lt):Gt?(Lt=!1,Ct=oh(vt,!0)):Qt?(Lt=!1,Ct=lh(vt,!0)):Ct=[]:ia(vt)||Ii(vt)?(Ct=lt,Ii(lt)?Ct=ig(lt):(!Ge(lt)||Pr(lt))&&(Ct=wh(vt))):Lt=!1}Lt&&(nt.set(vt,Ct),G(Ct,vt,M,Y,nt),nt.delete(vt)),cu(r,C,Ct)}function Qf(r,a){var C=r.length;if(!!C)return a+=a<0?C:0,Or(a,C)?r[a]:n}function Zf(r,a,C){a.length?a=$e(a,function(Y){return re(Y)?function(nt){return Ci(nt,Y.length===1?Y[0]:Y)}:Y}):a=[In];var M=-1;a=$e(a,Mn(zt()));var G=zf(r,function(Y,nt,lt){var vt=$e(a,function(kt){return kt(Y)});return{criteria:vt,index:++M,value:Y}});return By(G,function(Y,nt){return T_(Y,nt,C)})}function d_(r,a){return Jf(r,a,function(C,M){return Wu(r,M)})}function Jf(r,a,C){for(var M=-1,G=a.length,Y={};++M<G;){var nt=a[M],lt=Ci(r,nt);C(lt,nt)&&ta(Y,ei(nt,r),lt)}return Y}function f_(r){return function(a){return Ci(a,r)}}function _u(r,a,C,M){var G=M?My:Qi,Y=-1,nt=a.length,lt=r;for(r===a&&(a=Cn(a)),C&&(lt=$e(r,Mn(C)));++Y<nt;)for(var vt=0,kt=a[Y],Ct=C?C(kt):kt;(vt=G(lt,Ct,vt,M))>-1;)lt!==r&&co.call(lt,vt,1),co.call(r,vt,1);return r}function Xf(r,a){for(var C=r?a.length:0,M=C-1;C--;){var G=a[C];if(C==M||G!==Y){var Y=G;Or(G)?co.call(r,G,1):Tu(r,G)}}return r}function Au(r,a){return r+go(Of()*(a-r+1))}function h_(r,a,C,M){for(var G=-1,Y=nn(ho((a-r)/(C||1)),0),nt=yt(Y);Y--;)nt[M?Y:++G]=r,r+=C;return nt}function Eu(r,a){var C="";if(!r||a<1||a>H)return C;do a%2&&(C+=r),a=go(a/2),a&&(r+=r);while(a);return C}function le(r,a){return Nu(xh(r,a,In),r+"")}function g_(r){return Mf(ls(r))}function v_(r,a){var C=ls(r);return Lo(C,wi(a,0,C.length))}function ta(r,a,C,M){if(!Ge(r))return r;a=ei(a,r);for(var G=-1,Y=a.length,nt=Y-1,lt=r;lt!=null&&++G<Y;){var vt=_r(a[G]),kt=C;if(vt==="__proto__"||vt==="constructor"||vt==="prototype")return r;if(G!=nt){var Ct=lt[vt];kt=M?M(Ct,vt,lt):n,kt===n&&(kt=Ge(Ct)?Ct:Or(a[G+1])?[]:{})}Qs(lt,vt,kt),lt=lt[vt]}return r}var th=vo?function(r,a){return vo.set(r,a),r}:In,p_=fo?function(r,a){return fo(r,"toString",{configurable:!0,enumerable:!1,value:Yu(a),writable:!0})}:In;function m_(r){return Lo(ls(r))}function qn(r,a,C){var M=-1,G=r.length;a<0&&(a=-a>G?0:G+a),C=C>G?G:C,C<0&&(C+=G),G=a>C?0:C-a>>>0,a>>>=0;for(var Y=yt(G);++M<G;)Y[M]=r[M+a];return Y}function y_(r,a){var C;return Xr(r,function(M,G,Y){return C=a(M,G,Y),!C}),!!C}function bo(r,a,C){var M=0,G=r==null?M:r.length;if(typeof a=="number"&&a===a&&G<=ot){for(;M<G;){var Y=M+G>>>1,nt=r[Y];nt!==null&&!Nn(nt)&&(C?nt<=a:nt<a)?M=Y+1:G=Y}return G}return bu(r,a,In,C)}function bu(r,a,C,M){var G=0,Y=r==null?0:r.length;if(Y===0)return 0;a=C(a);for(var nt=a!==a,lt=a===null,vt=Nn(a),kt=a===n;G<Y;){var Ct=go((G+Y)/2),Lt=C(r[Ct]),Bt=Lt!==n,Gt=Lt===null,Qt=Lt===Lt,oe=Nn(Lt);if(nt)var Zt=M||Qt;else kt?Zt=Qt&&(M||Bt):lt?Zt=Qt&&Bt&&(M||!Gt):vt?Zt=Qt&&Bt&&!Gt&&(M||!oe):Gt||oe?Zt=!1:Zt=M?Lt<=a:Lt<a;Zt?G=Ct+1:Y=Ct}return gn(Y,rt)}function eh(r,a){for(var C=-1,M=r.length,G=0,Y=[];++C<M;){var nt=r[C],lt=a?a(nt):nt;if(!C||!ar(lt,vt)){var vt=lt;Y[G++]=nt===0?0:nt}}return Y}function nh(r){return typeof r=="number"?r:Nn(r)?q:+r}function Bn(r){if(typeof r=="string")return r;if(re(r))return $e(r,Bn)+"";if(Nn(r))return Pf?Pf.call(r):"";var a=r+"";return a=="0"&&1/r==-B?"-0":a}function ti(r,a,C){var M=-1,G=to,Y=r.length,nt=!0,lt=[],vt=lt;if(C)nt=!1,G=Zl;else if(Y>=s){var kt=a?null:x_(r);if(kt)return no(kt);nt=!1,G=Ks,vt=new ki}else vt=a?[]:lt;t:for(;++M<Y;){var Ct=r[M],Lt=a?a(Ct):Ct;if(Ct=C||Ct!==0?Ct:0,nt&&Lt===Lt){for(var Bt=vt.length;Bt--;)if(vt[Bt]===Lt)continue t;a&&vt.push(Lt),lt.push(Ct)}else G(vt,Lt,C)||(vt!==lt&&vt.push(Lt),lt.push(Ct))}return lt}function Tu(r,a){return a=ei(a,r),r=Ih(r,a),r==null||delete r[_r(Qn(a))]}function rh(r,a,C,M){return ta(r,a,C(Ci(r,a)),M)}function To(r,a,C,M){for(var G=r.length,Y=M?G:-1;(M?Y--:++Y<G)&&a(r[Y],Y,r););return C?qn(r,M?0:Y,M?Y+1:G):qn(r,M?Y+1:0,M?G:Y)}function ih(r,a){var C=r;return C instanceof ge&&(C=C.value()),Jl(a,function(M,G){return G.func.apply(G.thisArg,Qr([M],G.args))},C)}function Su(r,a,C){var M=r.length;if(M<2)return M?ti(r[0]):[];for(var G=-1,Y=yt(M);++G<M;)for(var nt=r[G],lt=-1;++lt<M;)lt!=G&&(Y[G]=Zs(Y[G]||nt,r[lt],a,C));return ti(un(Y,1),a,C)}function sh(r,a,C){for(var M=-1,G=r.length,Y=a.length,nt={};++M<G;){var lt=M<Y?a[M]:n;C(nt,r[M],lt)}return nt}function ku(r){return Ye(r)?r:[]}function wu(r){return typeof r=="function"?r:In}function ei(r,a){return re(r)?r:Fu(r,a)?[r]:Ph(ke(r))}var __=le;function ni(r,a,C){var M=r.length;return C=C===n?M:C,!a&&C>=M?r:qn(r,a,C)}var ah=a1||function(r){return ln.clearTimeout(r)};function oh(r,a){if(a)return r.slice();var C=r.length,M=Rf?Rf(C):new r.constructor(C);return r.copy(M),M}function Cu(r){var a=new r.constructor(r.byteLength);return new lo(a).set(new lo(r)),a}function A_(r,a){var C=a?Cu(r.buffer):r.buffer;return new r.constructor(C,r.byteOffset,r.byteLength)}function E_(r){var a=new r.constructor(r.source,jd.exec(r));return a.lastIndex=r.lastIndex,a}function b_(r){return qs?Re(qs.call(r)):{}}function lh(r,a){var C=a?Cu(r.buffer):r.buffer;return new r.constructor(C,r.byteOffset,r.length)}function uh(r,a){if(r!==a){var C=r!==n,M=r===null,G=r===r,Y=Nn(r),nt=a!==n,lt=a===null,vt=a===a,kt=Nn(a);if(!lt&&!kt&&!Y&&r>a||Y&&nt&&vt&&!lt&&!kt||M&&nt&&vt||!C&&vt||!G)return 1;if(!M&&!Y&&!kt&&r<a||kt&&C&&G&&!M&&!Y||lt&&C&&G||!nt&&G||!vt)return-1}return 0}function T_(r,a,C){for(var M=-1,G=r.criteria,Y=a.criteria,nt=G.length,lt=C.length;++M<nt;){var vt=uh(G[M],Y[M]);if(vt){if(M>=lt)return vt;var kt=C[M];return vt*(kt=="desc"?-1:1)}}return r.index-a.index}function ch(r,a,C,M){for(var G=-1,Y=r.length,nt=C.length,lt=-1,vt=a.length,kt=nn(Y-nt,0),Ct=yt(vt+kt),Lt=!M;++lt<vt;)Ct[lt]=a[lt];for(;++G<nt;)(Lt||G<Y)&&(Ct[C[G]]=r[G]);for(;kt--;)Ct[lt++]=r[G++];return Ct}function dh(r,a,C,M){for(var G=-1,Y=r.length,nt=-1,lt=C.length,vt=-1,kt=a.length,Ct=nn(Y-lt,0),Lt=yt(Ct+kt),Bt=!M;++G<Ct;)Lt[G]=r[G];for(var Gt=G;++vt<kt;)Lt[Gt+vt]=a[vt];for(;++nt<lt;)(Bt||G<Y)&&(Lt[Gt+C[nt]]=r[G++]);return Lt}function Cn(r,a){var C=-1,M=r.length;for(a||(a=yt(M));++C<M;)a[C]=r[C];return a}function yr(r,a,C,M){var G=!C;C||(C={});for(var Y=-1,nt=a.length;++Y<nt;){var lt=a[Y],vt=M?M(C[lt],r[lt],lt,C,r):n;vt===n&&(vt=r[lt]),G?Ir(C,lt,vt):Qs(C,lt,vt)}return C}function S_(r,a){return yr(r,Pu(r),a)}function k_(r,a){return yr(r,Sh(r),a)}function So(r,a){return function(C,M){var G=re(C)?Iy:z1,Y=a?a():{};return G(C,r,zt(M,2),Y)}}function is(r){return le(function(a,C){var M=-1,G=C.length,Y=G>1?C[G-1]:n,nt=G>2?C[2]:n;for(Y=r.length>3&&typeof Y=="function"?(G--,Y):n,nt&&An(C[0],C[1],nt)&&(Y=G<3?n:Y,G=1),a=Re(a);++M<G;){var lt=C[M];lt&&r(a,lt,M,Y)}return a})}function fh(r,a){return function(C,M){if(C==null)return C;if(!Rn(C))return r(C,M);for(var G=C.length,Y=a?G:-1,nt=Re(C);(a?Y--:++Y<G)&&M(nt[Y],Y,nt)!==!1;);return C}}function hh(r){return function(a,C,M){for(var G=-1,Y=Re(a),nt=M(a),lt=nt.length;lt--;){var vt=nt[r?lt:++G];if(C(Y[vt],vt,Y)===!1)break}return a}}function w_(r,a,C){var M=a&h,G=ea(r);function Y(){var nt=this&&this!==ln&&this instanceof Y?G:r;return nt.apply(M?C:this,arguments)}return Y}function gh(r){return function(a){a=ke(a);var C=Zi(a)?ir(a):n,M=C?C[0]:a.charAt(0),G=C?ni(C,1).join(""):a.slice(1);return M[r]()+G}}function ss(r){return function(a){return Jl(fg(dg(a).replace(py,"")),r,"")}}function ea(r){return function(){var a=arguments;switch(a.length){case 0:return new r;case 1:return new r(a[0]);case 2:return new r(a[0],a[1]);case 3:return new r(a[0],a[1],a[2]);case 4:return new r(a[0],a[1],a[2],a[3]);case 5:return new r(a[0],a[1],a[2],a[3],a[4]);case 6:return new r(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new r(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var C=rs(r.prototype),M=r.apply(C,a);return Ge(M)?M:C}}function C_(r,a,C){var M=ea(r);function G(){for(var Y=arguments.length,nt=yt(Y),lt=Y,vt=as(G);lt--;)nt[lt]=arguments[lt];var kt=Y<3&&nt[0]!==vt&&nt[Y-1]!==vt?[]:Zr(nt,vt);if(Y-=kt.length,Y<C)return _h(r,a,ko,G.placeholder,n,nt,kt,n,n,C-Y);var Ct=this&&this!==ln&&this instanceof G?M:r;return Fn(Ct,this,nt)}return G}function vh(r){return function(a,C,M){var G=Re(a);if(!Rn(a)){var Y=zt(C,3);a=an(a),C=function(lt){return Y(G[lt],lt,G)}}var nt=r(a,C,M);return nt>-1?G[Y?a[nt]:nt]:n}}function ph(r){return Dr(function(a){var C=a.length,M=C,G=zn.prototype.thru;for(r&&a.reverse();M--;){var Y=a[M];if(typeof Y!="function")throw new Wn(u);if(G&&!nt&&xo(Y)=="wrapper")var nt=new zn([],!0)}for(M=nt?M:C;++M<C;){Y=a[M];var lt=xo(Y),vt=lt=="wrapper"?Du(Y):n;vt&&Mu(vt[0])&&vt[1]==(L|T|A|x)&&!vt[4].length&&vt[9]==1?nt=nt[xo(vt[0])].apply(nt,vt[3]):nt=Y.length==1&&Mu(Y)?nt[lt]():nt.thru(Y)}return function(){var kt=arguments,Ct=kt[0];if(nt&&kt.length==1&&re(Ct))return nt.plant(Ct).value();for(var Lt=0,Bt=C?a[Lt].apply(this,kt):Ct;++Lt<C;)Bt=a[Lt].call(this,Bt);return Bt}})}function ko(r,a,C,M,G,Y,nt,lt,vt,kt){var Ct=a&L,Lt=a&h,Bt=a&c,Gt=a&(T|E),Qt=a&D,oe=Bt?n:ea(r);function Zt(){for(var he=arguments.length,ve=yt(he),Un=he;Un--;)ve[Un]=arguments[Un];if(Gt)var En=as(Zt),$n=Uy(ve,En);if(M&&(ve=ch(ve,M,G,Gt)),Y&&(ve=dh(ve,Y,nt,Gt)),he-=$n,Gt&&he<kt){var qe=Zr(ve,En);return _h(r,a,ko,Zt.placeholder,C,ve,qe,lt,vt,kt-he)}var or=Lt?C:this,Mr=Bt?or[r]:r;return he=ve.length,lt?ve=z_(ve,lt):Qt&&he>1&&ve.reverse(),Ct&&vt<he&&(ve.length=vt),this&&this!==ln&&this instanceof Zt&&(Mr=oe||ea(Mr)),Mr.apply(or,ve)}return Zt}function mh(r,a){return function(C,M){return e_(C,r,a(M),{})}}function wo(r,a){return function(C,M){var G;if(C===n&&M===n)return a;if(C!==n&&(G=C),M!==n){if(G===n)return M;typeof C=="string"||typeof M=="string"?(C=Bn(C),M=Bn(M)):(C=nh(C),M=nh(M)),G=r(C,M)}return G}}function Ru(r){return Dr(function(a){return a=$e(a,Mn(zt())),le(function(C){var M=this;return r(a,function(G){return Fn(G,M,C)})})})}function Co(r,a){a=a===n?" ":Bn(a);var C=a.length;if(C<2)return C?Eu(a,r):a;var M=Eu(a,ho(r/Ji(a)));return Zi(a)?ni(ir(M),0,r).join(""):M.slice(0,r)}function R_(r,a,C,M){var G=a&h,Y=ea(r);function nt(){for(var lt=-1,vt=arguments.length,kt=-1,Ct=M.length,Lt=yt(Ct+vt),Bt=this&&this!==ln&&this instanceof nt?Y:r;++kt<Ct;)Lt[kt]=M[kt];for(;vt--;)Lt[kt++]=arguments[++lt];return Fn(Bt,G?C:this,Lt)}return nt}function yh(r){return function(a,C,M){return M&&typeof M!="number"&&An(a,C,M)&&(C=M=n),a=Fr(a),C===n?(C=a,a=0):C=Fr(C),M=M===n?a<C?1:-1:Fr(M),h_(a,C,M,r)}}function Ro(r){return function(a,C){return typeof a=="string"&&typeof C=="string"||(a=Zn(a),C=Zn(C)),r(a,C)}}function _h(r,a,C,M,G,Y,nt,lt,vt,kt){var Ct=a&T,Lt=Ct?nt:n,Bt=Ct?n:nt,Gt=Ct?Y:n,Qt=Ct?n:Y;a|=Ct?A:w,a&=~(Ct?w:A),a&g||(a&=~(h|c));var oe=[r,a,G,Gt,Lt,Qt,Bt,lt,vt,kt],Zt=C.apply(n,oe);return Mu(r)&&Lh(Zt,oe),Zt.placeholder=M,Dh(Zt,r,a)}function xu(r){var a=en[r];return function(C,M){if(C=Zn(C),M=M==null?0:gn(se(M),292),M&&Df(C)){var G=(ke(C)+"e").split("e"),Y=a(G[0]+"e"+(+G[1]+M));return G=(ke(Y)+"e").split("e"),+(G[0]+"e"+(+G[1]-M))}return a(C)}}var x_=es&&1/no(new es([,-0]))[1]==B?function(r){return new es(r)}:Zu;function Ah(r){return function(a){var C=vn(a);return C==ut?su(a):C==Et?Wy(a):Ny(a,r(a))}}function Lr(r,a,C,M,G,Y,nt,lt){var vt=a&c;if(!vt&&typeof r!="function")throw new Wn(u);var kt=M?M.length:0;if(kt||(a&=~(A|w),M=G=n),nt=nt===n?nt:nn(se(nt),0),lt=lt===n?lt:se(lt),kt-=G?G.length:0,a&w){var Ct=M,Lt=G;M=G=n}var Bt=vt?n:Du(r),Gt=[r,a,C,M,G,Ct,Lt,Y,nt,lt];if(Bt&&K_(Gt,Bt),r=Gt[0],a=Gt[1],C=Gt[2],M=Gt[3],G=Gt[4],lt=Gt[9]=Gt[9]===n?vt?0:r.length:nn(Gt[9]-kt,0),!lt&&a&(T|E)&&(a&=~(T|E)),!a||a==h)var Qt=w_(r,a,C);else a==T||a==E?Qt=C_(r,a,lt):(a==A||a==(h|A))&&!G.length?Qt=R_(r,a,C,M):Qt=ko.apply(n,Gt);var oe=Bt?th:Lh;return Dh(oe(Qt,Gt),r,a)}function Eh(r,a,C,M){return r===n||ar(r,ts[C])&&!we.call(M,C)?a:r}function bh(r,a,C,M,G,Y){return Ge(r)&&Ge(a)&&(Y.set(a,r),Eo(r,a,n,bh,Y),Y.delete(a)),r}function I_(r){return ia(r)?n:r}function Th(r,a,C,M,G,Y){var nt=C&S,lt=r.length,vt=a.length;if(lt!=vt&&!(nt&&vt>lt))return!1;var kt=Y.get(r),Ct=Y.get(a);if(kt&&Ct)return kt==a&&Ct==r;var Lt=-1,Bt=!0,Gt=C&d?new ki:n;for(Y.set(r,a),Y.set(a,r);++Lt<lt;){var Qt=r[Lt],oe=a[Lt];if(M)var Zt=nt?M(oe,Qt,Lt,a,r,Y):M(Qt,oe,Lt,r,a,Y);if(Zt!==n){if(Zt)continue;Bt=!1;break}if(Gt){if(!Xl(a,function(he,ve){if(!Ks(Gt,ve)&&(Qt===he||G(Qt,he,C,M,Y)))return Gt.push(ve)})){Bt=!1;break}}else if(!(Qt===oe||G(Qt,oe,C,M,Y))){Bt=!1;break}}return Y.delete(r),Y.delete(a),Bt}function L_(r,a,C,M,G,Y,nt){switch(C){case dt:if(r.byteLength!=a.byteLength||r.byteOffset!=a.byteOffset)return!1;r=r.buffer,a=a.buffer;case Yt:return!(r.byteLength!=a.byteLength||!Y(new lo(r),new lo(a)));case j:case gt:case ft:return ar(+r,+a);case It:return r.name==a.name&&r.message==a.message;case Rt:case Pt:return r==a+"";case ut:var lt=su;case Et:var vt=M&S;if(lt||(lt=no),r.size!=a.size&&!vt)return!1;var kt=nt.get(r);if(kt)return kt==a;M|=d,nt.set(r,a);var Ct=Th(lt(r),lt(a),M,G,Y,nt);return nt.delete(r),Ct;case Dt:if(qs)return qs.call(r)==qs.call(a)}return!1}function D_(r,a,C,M,G,Y){var nt=C&S,lt=Iu(r),vt=lt.length,kt=Iu(a),Ct=kt.length;if(vt!=Ct&&!nt)return!1;for(var Lt=vt;Lt--;){var Bt=lt[Lt];if(!(nt?Bt in a:we.call(a,Bt)))return!1}var Gt=Y.get(r),Qt=Y.get(a);if(Gt&&Qt)return Gt==a&&Qt==r;var oe=!0;Y.set(r,a),Y.set(a,r);for(var Zt=nt;++Lt<vt;){Bt=lt[Lt];var he=r[Bt],ve=a[Bt];if(M)var Un=nt?M(ve,he,Bt,a,r,Y):M(he,ve,Bt,r,a,Y);if(!(Un===n?he===ve||G(he,ve,C,M,Y):Un)){oe=!1;break}Zt||(Zt=Bt=="constructor")}if(oe&&!Zt){var En=r.constructor,$n=a.constructor;En!=$n&&"constructor"in r&&"constructor"in a&&!(typeof En=="function"&&En instanceof En&&typeof $n=="function"&&$n instanceof $n)&&(oe=!1)}return Y.delete(r),Y.delete(a),oe}function Dr(r){return Nu(xh(r,n,Nh),r+"")}function Iu(r){return jf(r,an,Pu)}function Lu(r){return jf(r,xn,Sh)}var Du=vo?function(r){return vo.get(r)}:Zu;function xo(r){for(var a=r.name+"",C=ns[a],M=we.call(ns,a)?C.length:0;M--;){var G=C[M],Y=G.func;if(Y==null||Y==r)return G.name}return a}function as(r){var a=we.call(K,"placeholder")?K:r;return a.placeholder}function zt(){var r=K.iteratee||qu;return r=r===qu?Wf:r,arguments.length?r(arguments[0],arguments[1]):r}function Io(r,a){var C=r.__data__;return $_(a)?C[typeof a=="string"?"string":"hash"]:C.map}function Ou(r){for(var a=an(r),C=a.length;C--;){var M=a[C],G=r[M];a[C]=[M,G,Ch(G)]}return a}function Ri(r,a){var C=jy(r,a);return Vf(C)?C:n}function O_(r){var a=we.call(r,Ti),C=r[Ti];try{r[Ti]=n;var M=!0}catch{}var G=ao.call(r);return M&&(a?r[Ti]=C:delete r[Ti]),G}var Pu=ou?function(r){return r==null?[]:(r=Re(r),qr(ou(r),function(a){return If.call(r,a)}))}:Ju,Sh=ou?function(r){for(var a=[];r;)Qr(a,Pu(r)),r=uo(r);return a}:Ju,vn=_n;(lu&&vn(new lu(new ArrayBuffer(1)))!=dt||Ws&&vn(new Ws)!=ut||uu&&vn(uu.resolve())!=wt||es&&vn(new es)!=Et||zs&&vn(new zs)!=$t)&&(vn=function(r){var a=_n(r),C=a==_t?r.constructor:n,M=C?xi(C):"";if(M)switch(M){case v1:return dt;case p1:return ut;case m1:return wt;case y1:return Et;case _1:return $t}return a});function P_(r,a,C){for(var M=-1,G=C.length;++M<G;){var Y=C[M],nt=Y.size;switch(Y.type){case"drop":r+=nt;break;case"dropRight":a-=nt;break;case"take":a=gn(a,r+nt);break;case"takeRight":r=nn(r,a-nt);break}}return{start:r,end:a}}function F_(r){var a=r.match(G0);return a?a[1].split(H0):[]}function kh(r,a,C){a=ei(a,r);for(var M=-1,G=a.length,Y=!1;++M<G;){var nt=_r(a[M]);if(!(Y=r!=null&&C(r,nt)))break;r=r[nt]}return Y||++M!=G?Y:(G=r==null?0:r.length,!!G&&Bo(G)&&Or(nt,G)&&(re(r)||Ii(r)))}function M_(r){var a=r.length,C=new r.constructor(a);return a&&typeof r[0]=="string"&&we.call(r,"index")&&(C.index=r.index,C.input=r.input),C}function wh(r){return typeof r.constructor=="function"&&!na(r)?rs(uo(r)):{}}function B_(r,a,C){var M=r.constructor;switch(a){case Yt:return Cu(r);case j:case gt:return new M(+r);case dt:return A_(r,C);case Ot:case ue:case De:case Be:case Oe:case Mt:case ee:case qt:case Ne:return lh(r,C);case ut:return new M;case ft:case Pt:return new M(r);case Rt:return E_(r);case Et:return new M;case Dt:return b_(r)}}function N_(r,a){var C=a.length;if(!C)return r;var M=C-1;return a[M]=(C>1?"& ":"")+a[M],a=a.join(C>2?", ":" "),r.replace($0,`{
/* [wrapped with `+a+`] */
`)}function U_(r){return re(r)||Ii(r)||!!(Lf&&r&&r[Lf])}function Or(r,a){var C=typeof r;return a=a==null?H:a,!!a&&(C=="number"||C!="symbol"&&Z0.test(r))&&r>-1&&r%1==0&&r<a}function An(r,a,C){if(!Ge(C))return!1;var M=typeof a;return(M=="number"?Rn(C)&&Or(a,C.length):M=="string"&&a in C)?ar(C[a],r):!1}function Fu(r,a){if(re(r))return!1;var C=typeof r;return C=="number"||C=="symbol"||C=="boolean"||r==null||Nn(r)?!0:M0.test(r)||!F0.test(r)||a!=null&&r in Re(a)}function $_(r){var a=typeof r;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?r!=="__proto__":r===null}function Mu(r){var a=xo(r),C=K[a];if(typeof C!="function"||!(a in ge.prototype))return!1;if(r===C)return!0;var M=Du(C);return!!M&&r===M[0]}function G_(r){return!!Cf&&Cf in r}var H_=io?Pr:Xu;function na(r){var a=r&&r.constructor,C=typeof a=="function"&&a.prototype||ts;return r===C}function Ch(r){return r===r&&!Ge(r)}function Rh(r,a){return function(C){return C==null?!1:C[r]===a&&(a!==n||r in Re(C))}}function j_(r){var a=Fo(r,function(M){return C.size===l&&C.clear(),M}),C=a.cache;return a}function K_(r,a){var C=r[1],M=a[1],G=C|M,Y=G<(h|c|L),nt=M==L&&C==T||M==L&&C==x&&r[7].length<=a[8]||M==(L|x)&&a[7].length<=a[8]&&C==T;if(!(Y||nt))return r;M&h&&(r[2]=a[2],G|=C&h?0:g);var lt=a[3];if(lt){var vt=r[3];r[3]=vt?ch(vt,lt,a[4]):lt,r[4]=vt?Zr(r[3],y):a[4]}return lt=a[5],lt&&(vt=r[5],r[5]=vt?dh(vt,lt,a[6]):lt,r[6]=vt?Zr(r[5],y):a[6]),lt=a[7],lt&&(r[7]=lt),M&L&&(r[8]=r[8]==null?a[8]:gn(r[8],a[8])),r[9]==null&&(r[9]=a[9]),r[0]=a[0],r[1]=G,r}function V_(r){var a=[];if(r!=null)for(var C in Re(r))a.push(C);return a}function W_(r){return ao.call(r)}function xh(r,a,C){return a=nn(a===n?r.length-1:a,0),function(){for(var M=arguments,G=-1,Y=nn(M.length-a,0),nt=yt(Y);++G<Y;)nt[G]=M[a+G];G=-1;for(var lt=yt(a+1);++G<a;)lt[G]=M[G];return lt[a]=C(nt),Fn(r,this,lt)}}function Ih(r,a){return a.length<2?r:Ci(r,qn(a,0,-1))}function z_(r,a){for(var C=r.length,M=gn(a.length,C),G=Cn(r);M--;){var Y=a[M];r[M]=Or(Y,C)?G[Y]:n}return r}function Bu(r,a){if(!(a==="constructor"&&typeof r[a]=="function")&&a!="__proto__")return r[a]}var Lh=Oh(th),ra=l1||function(r,a){return ln.setTimeout(r,a)},Nu=Oh(p_);function Dh(r,a,C){var M=a+"";return Nu(r,N_(M,Y_(F_(M),C)))}function Oh(r){var a=0,C=0;return function(){var M=f1(),G=O-(M-C);if(C=M,G>0){if(++a>=I)return arguments[0]}else a=0;return r.apply(n,arguments)}}function Lo(r,a){var C=-1,M=r.length,G=M-1;for(a=a===n?M:a;++C<a;){var Y=Au(C,G),nt=r[Y];r[Y]=r[C],r[C]=nt}return r.length=a,r}var Ph=j_(function(r){var a=[];return r.charCodeAt(0)===46&&a.push(""),r.replace(B0,function(C,M,G,Y){a.push(G?Y.replace(V0,"$1"):M||C)}),a});function _r(r){if(typeof r=="string"||Nn(r))return r;var a=r+"";return a=="0"&&1/r==-B?"-0":a}function xi(r){if(r!=null){try{return so.call(r)}catch{}try{return r+""}catch{}}return""}function Y_(r,a){return Vn(J,function(C){var M="_."+C[0];a&C[1]&&!to(r,M)&&r.push(M)}),r.sort()}function Fh(r){if(r instanceof ge)return r.clone();var a=new zn(r.__wrapped__,r.__chain__);return a.__actions__=Cn(r.__actions__),a.__index__=r.__index__,a.__values__=r.__values__,a}function q_(r,a,C){(C?An(r,a,C):a===n)?a=1:a=nn(se(a),0);var M=r==null?0:r.length;if(!M||a<1)return[];for(var G=0,Y=0,nt=yt(ho(M/a));G<M;)nt[Y++]=qn(r,G,G+=a);return nt}function Q_(r){for(var a=-1,C=r==null?0:r.length,M=0,G=[];++a<C;){var Y=r[a];Y&&(G[M++]=Y)}return G}function Z_(){var r=arguments.length;if(!r)return[];for(var a=yt(r-1),C=arguments[0],M=r;M--;)a[M-1]=arguments[M];return Qr(re(C)?Cn(C):[C],un(a,1))}var J_=le(function(r,a){return Ye(r)?Zs(r,un(a,1,Ye,!0)):[]}),X_=le(function(r,a){var C=Qn(a);return Ye(C)&&(C=n),Ye(r)?Zs(r,un(a,1,Ye,!0),zt(C,2)):[]}),tA=le(function(r,a){var C=Qn(a);return Ye(C)&&(C=n),Ye(r)?Zs(r,un(a,1,Ye,!0),n,C):[]});function eA(r,a,C){var M=r==null?0:r.length;return M?(a=C||a===n?1:se(a),qn(r,a<0?0:a,M)):[]}function nA(r,a,C){var M=r==null?0:r.length;return M?(a=C||a===n?1:se(a),a=M-a,qn(r,0,a<0?0:a)):[]}function rA(r,a){return r&&r.length?To(r,zt(a,3),!0,!0):[]}function iA(r,a){return r&&r.length?To(r,zt(a,3),!0):[]}function sA(r,a,C,M){var G=r==null?0:r.length;return G?(C&&typeof C!="number"&&An(r,a,C)&&(C=0,M=G),Z1(r,a,C,M)):[]}function Mh(r,a,C){var M=r==null?0:r.length;if(!M)return-1;var G=C==null?0:se(C);return G<0&&(G=nn(M+G,0)),eo(r,zt(a,3),G)}function Bh(r,a,C){var M=r==null?0:r.length;if(!M)return-1;var G=M-1;return C!==n&&(G=se(C),G=C<0?nn(M+G,0):gn(G,M-1)),eo(r,zt(a,3),G,!0)}function Nh(r){var a=r==null?0:r.length;return a?un(r,1):[]}function aA(r){var a=r==null?0:r.length;return a?un(r,B):[]}function oA(r,a){var C=r==null?0:r.length;return C?(a=a===n?1:se(a),un(r,a)):[]}function lA(r){for(var a=-1,C=r==null?0:r.length,M={};++a<C;){var G=r[a];M[G[0]]=G[1]}return M}function Uh(r){return r&&r.length?r[0]:n}function uA(r,a,C){var M=r==null?0:r.length;if(!M)return-1;var G=C==null?0:se(C);return G<0&&(G=nn(M+G,0)),Qi(r,a,G)}function cA(r){var a=r==null?0:r.length;return a?qn(r,0,-1):[]}var dA=le(function(r){var a=$e(r,ku);return a.length&&a[0]===r[0]?vu(a):[]}),fA=le(function(r){var a=Qn(r),C=$e(r,ku);return a===Qn(C)?a=n:C.pop(),C.length&&C[0]===r[0]?vu(C,zt(a,2)):[]}),hA=le(function(r){var a=Qn(r),C=$e(r,ku);return a=typeof a=="function"?a:n,a&&C.pop(),C.length&&C[0]===r[0]?vu(C,n,a):[]});function gA(r,a){return r==null?"":c1.call(r,a)}function Qn(r){var a=r==null?0:r.length;return a?r[a-1]:n}function vA(r,a,C){var M=r==null?0:r.length;if(!M)return-1;var G=M;return C!==n&&(G=se(C),G=G<0?nn(M+G,0):gn(G,M-1)),a===a?Yy(r,a,G):eo(r,_f,G,!0)}function pA(r,a){return r&&r.length?Qf(r,se(a)):n}var mA=le($h);function $h(r,a){return r&&r.length&&a&&a.length?_u(r,a):r}function yA(r,a,C){return r&&r.length&&a&&a.length?_u(r,a,zt(C,2)):r}function _A(r,a,C){return r&&r.length&&a&&a.length?_u(r,a,n,C):r}var AA=Dr(function(r,a){var C=r==null?0:r.length,M=du(r,a);return Xf(r,$e(a,function(G){return Or(G,C)?+G:G}).sort(uh)),M});function EA(r,a){var C=[];if(!(r&&r.length))return C;var M=-1,G=[],Y=r.length;for(a=zt(a,3);++M<Y;){var nt=r[M];a(nt,M,r)&&(C.push(nt),G.push(M))}return Xf(r,G),C}function Uu(r){return r==null?r:g1.call(r)}function bA(r,a,C){var M=r==null?0:r.length;return M?(C&&typeof C!="number"&&An(r,a,C)?(a=0,C=M):(a=a==null?0:se(a),C=C===n?M:se(C)),qn(r,a,C)):[]}function TA(r,a){return bo(r,a)}function SA(r,a,C){return bu(r,a,zt(C,2))}function kA(r,a){var C=r==null?0:r.length;if(C){var M=bo(r,a);if(M<C&&ar(r[M],a))return M}return-1}function wA(r,a){return bo(r,a,!0)}function CA(r,a,C){return bu(r,a,zt(C,2),!0)}function RA(r,a){var C=r==null?0:r.length;if(C){var M=bo(r,a,!0)-1;if(ar(r[M],a))return M}return-1}function xA(r){return r&&r.length?eh(r):[]}function IA(r,a){return r&&r.length?eh(r,zt(a,2)):[]}function LA(r){var a=r==null?0:r.length;return a?qn(r,1,a):[]}function DA(r,a,C){return r&&r.length?(a=C||a===n?1:se(a),qn(r,0,a<0?0:a)):[]}function OA(r,a,C){var M=r==null?0:r.length;return M?(a=C||a===n?1:se(a),a=M-a,qn(r,a<0?0:a,M)):[]}function PA(r,a){return r&&r.length?To(r,zt(a,3),!1,!0):[]}function FA(r,a){return r&&r.length?To(r,zt(a,3)):[]}var MA=le(function(r){return ti(un(r,1,Ye,!0))}),BA=le(function(r){var a=Qn(r);return Ye(a)&&(a=n),ti(un(r,1,Ye,!0),zt(a,2))}),NA=le(function(r){var a=Qn(r);return a=typeof a=="function"?a:n,ti(un(r,1,Ye,!0),n,a)});function UA(r){return r&&r.length?ti(r):[]}function $A(r,a){return r&&r.length?ti(r,zt(a,2)):[]}function GA(r,a){return a=typeof a=="function"?a:n,r&&r.length?ti(r,n,a):[]}function $u(r){if(!(r&&r.length))return[];var a=0;return r=qr(r,function(C){if(Ye(C))return a=nn(C.length,a),!0}),ru(a,function(C){return $e(r,tu(C))})}function Gh(r,a){if(!(r&&r.length))return[];var C=$u(r);return a==null?C:$e(C,function(M){return Fn(a,n,M)})}var HA=le(function(r,a){return Ye(r)?Zs(r,a):[]}),jA=le(function(r){return Su(qr(r,Ye))}),KA=le(function(r){var a=Qn(r);return Ye(a)&&(a=n),Su(qr(r,Ye),zt(a,2))}),VA=le(function(r){var a=Qn(r);return a=typeof a=="function"?a:n,Su(qr(r,Ye),n,a)}),WA=le($u);function zA(r,a){return sh(r||[],a||[],Qs)}function YA(r,a){return sh(r||[],a||[],ta)}var qA=le(function(r){var a=r.length,C=a>1?r[a-1]:n;return C=typeof C=="function"?(r.pop(),C):n,Gh(r,C)});function Hh(r){var a=K(r);return a.__chain__=!0,a}function QA(r,a){return a(r),r}function Do(r,a){return a(r)}var ZA=Dr(function(r){var a=r.length,C=a?r[0]:0,M=this.__wrapped__,G=function(Y){return du(Y,r)};return a>1||this.__actions__.length||!(M instanceof ge)||!Or(C)?this.thru(G):(M=M.slice(C,+C+(a?1:0)),M.__actions__.push({func:Do,args:[G],thisArg:n}),new zn(M,this.__chain__).thru(function(Y){return a&&!Y.length&&Y.push(n),Y}))});function JA(){return Hh(this)}function XA(){return new zn(this.value(),this.__chain__)}function tE(){this.__values__===n&&(this.__values__=ng(this.value()));var r=this.__index__>=this.__values__.length,a=r?n:this.__values__[this.__index__++];return{done:r,value:a}}function eE(){return this}function nE(r){for(var a,C=this;C instanceof mo;){var M=Fh(C);M.__index__=0,M.__values__=n,a?G.__wrapped__=M:a=M;var G=M;C=C.__wrapped__}return G.__wrapped__=r,a}function rE(){var r=this.__wrapped__;if(r instanceof ge){var a=r;return this.__actions__.length&&(a=new ge(this)),a=a.reverse(),a.__actions__.push({func:Do,args:[Uu],thisArg:n}),new zn(a,this.__chain__)}return this.thru(Uu)}function iE(){return ih(this.__wrapped__,this.__actions__)}var sE=So(function(r,a,C){we.call(r,C)?++r[C]:Ir(r,C,1)});function aE(r,a,C){var M=re(r)?mf:Q1;return C&&An(r,a,C)&&(a=n),M(r,zt(a,3))}function oE(r,a){var C=re(r)?qr:Gf;return C(r,zt(a,3))}var lE=vh(Mh),uE=vh(Bh);function cE(r,a){return un(Oo(r,a),1)}function dE(r,a){return un(Oo(r,a),B)}function fE(r,a,C){return C=C===n?1:se(C),un(Oo(r,a),C)}function jh(r,a){var C=re(r)?Vn:Xr;return C(r,zt(a,3))}function Kh(r,a){var C=re(r)?Ly:$f;return C(r,zt(a,3))}var hE=So(function(r,a,C){we.call(r,C)?r[C].push(a):Ir(r,C,[a])});function gE(r,a,C,M){r=Rn(r)?r:ls(r),C=C&&!M?se(C):0;var G=r.length;return C<0&&(C=nn(G+C,0)),No(r)?C<=G&&r.indexOf(a,C)>-1:!!G&&Qi(r,a,C)>-1}var vE=le(function(r,a,C){var M=-1,G=typeof a=="function",Y=Rn(r)?yt(r.length):[];return Xr(r,function(nt){Y[++M]=G?Fn(a,nt,C):Js(nt,a,C)}),Y}),pE=So(function(r,a,C){Ir(r,C,a)});function Oo(r,a){var C=re(r)?$e:zf;return C(r,zt(a,3))}function mE(r,a,C,M){return r==null?[]:(re(a)||(a=a==null?[]:[a]),C=M?n:C,re(C)||(C=C==null?[]:[C]),Zf(r,a,C))}var yE=So(function(r,a,C){r[C?0:1].push(a)},function(){return[[],[]]});function _E(r,a,C){var M=re(r)?Jl:Ef,G=arguments.length<3;return M(r,zt(a,4),C,G,Xr)}function AE(r,a,C){var M=re(r)?Dy:Ef,G=arguments.length<3;return M(r,zt(a,4),C,G,$f)}function EE(r,a){var C=re(r)?qr:Gf;return C(r,Mo(zt(a,3)))}function bE(r){var a=re(r)?Mf:g_;return a(r)}function TE(r,a,C){(C?An(r,a,C):a===n)?a=1:a=se(a);var M=re(r)?V1:v_;return M(r,a)}function SE(r){var a=re(r)?W1:m_;return a(r)}function kE(r){if(r==null)return 0;if(Rn(r))return No(r)?Ji(r):r.length;var a=vn(r);return a==ut||a==Et?r.size:mu(r).length}function wE(r,a,C){var M=re(r)?Xl:y_;return C&&An(r,a,C)&&(a=n),M(r,zt(a,3))}var CE=le(function(r,a){if(r==null)return[];var C=a.length;return C>1&&An(r,a[0],a[1])?a=[]:C>2&&An(a[0],a[1],a[2])&&(a=[a[0]]),Zf(r,un(a,1),[])}),Po=o1||function(){return ln.Date.now()};function RE(r,a){if(typeof a!="function")throw new Wn(u);return r=se(r),function(){if(--r<1)return a.apply(this,arguments)}}function Vh(r,a,C){return a=C?n:a,a=r&&a==null?r.length:a,Lr(r,L,n,n,n,n,a)}function Wh(r,a){var C;if(typeof a!="function")throw new Wn(u);return r=se(r),function(){return--r>0&&(C=a.apply(this,arguments)),r<=1&&(a=n),C}}var Gu=le(function(r,a,C){var M=h;if(C.length){var G=Zr(C,as(Gu));M|=A}return Lr(r,M,a,C,G)}),zh=le(function(r,a,C){var M=h|c;if(C.length){var G=Zr(C,as(zh));M|=A}return Lr(a,M,r,C,G)});function Yh(r,a,C){a=C?n:a;var M=Lr(r,T,n,n,n,n,n,a);return M.placeholder=Yh.placeholder,M}function qh(r,a,C){a=C?n:a;var M=Lr(r,E,n,n,n,n,n,a);return M.placeholder=qh.placeholder,M}function Qh(r,a,C){var M,G,Y,nt,lt,vt,kt=0,Ct=!1,Lt=!1,Bt=!0;if(typeof r!="function")throw new Wn(u);a=Zn(a)||0,Ge(C)&&(Ct=!!C.leading,Lt="maxWait"in C,Y=Lt?nn(Zn(C.maxWait)||0,a):Y,Bt="trailing"in C?!!C.trailing:Bt);function Gt(qe){var or=M,Mr=G;return M=G=n,kt=qe,nt=r.apply(Mr,or),nt}function Qt(qe){return kt=qe,lt=ra(he,a),Ct?Gt(qe):nt}function oe(qe){var or=qe-vt,Mr=qe-kt,vg=a-or;return Lt?gn(vg,Y-Mr):vg}function Zt(qe){var or=qe-vt,Mr=qe-kt;return vt===n||or>=a||or<0||Lt&&Mr>=Y}function he(){var qe=Po();if(Zt(qe))return ve(qe);lt=ra(he,oe(qe))}function ve(qe){return lt=n,Bt&&M?Gt(qe):(M=G=n,nt)}function Un(){lt!==n&&ah(lt),kt=0,M=vt=G=lt=n}function En(){return lt===n?nt:ve(Po())}function $n(){var qe=Po(),or=Zt(qe);if(M=arguments,G=this,vt=qe,or){if(lt===n)return Qt(vt);if(Lt)return ah(lt),lt=ra(he,a),Gt(vt)}return lt===n&&(lt=ra(he,a)),nt}return $n.cancel=Un,$n.flush=En,$n}var xE=le(function(r,a){return Uf(r,1,a)}),IE=le(function(r,a,C){return Uf(r,Zn(a)||0,C)});function LE(r){return Lr(r,D)}function Fo(r,a){if(typeof r!="function"||a!=null&&typeof a!="function")throw new Wn(u);var C=function(){var M=arguments,G=a?a.apply(this,M):M[0],Y=C.cache;if(Y.has(G))return Y.get(G);var nt=r.apply(this,M);return C.cache=Y.set(G,nt)||Y,nt};return C.cache=new(Fo.Cache||xr),C}Fo.Cache=xr;function Mo(r){if(typeof r!="function")throw new Wn(u);return function(){var a=arguments;switch(a.length){case 0:return!r.call(this);case 1:return!r.call(this,a[0]);case 2:return!r.call(this,a[0],a[1]);case 3:return!r.call(this,a[0],a[1],a[2])}return!r.apply(this,a)}}function DE(r){return Wh(2,r)}var OE=__(function(r,a){a=a.length==1&&re(a[0])?$e(a[0],Mn(zt())):$e(un(a,1),Mn(zt()));var C=a.length;return le(function(M){for(var G=-1,Y=gn(M.length,C);++G<Y;)M[G]=a[G].call(this,M[G]);return Fn(r,this,M)})}),Hu=le(function(r,a){var C=Zr(a,as(Hu));return Lr(r,A,n,a,C)}),Zh=le(function(r,a){var C=Zr(a,as(Zh));return Lr(r,w,n,a,C)}),PE=Dr(function(r,a){return Lr(r,x,n,n,n,a)});function FE(r,a){if(typeof r!="function")throw new Wn(u);return a=a===n?a:se(a),le(r,a)}function ME(r,a){if(typeof r!="function")throw new Wn(u);return a=a==null?0:nn(se(a),0),le(function(C){var M=C[a],G=ni(C,0,a);return M&&Qr(G,M),Fn(r,this,G)})}function BE(r,a,C){var M=!0,G=!0;if(typeof r!="function")throw new Wn(u);return Ge(C)&&(M="leading"in C?!!C.leading:M,G="trailing"in C?!!C.trailing:G),Qh(r,a,{leading:M,maxWait:a,trailing:G})}function NE(r){return Vh(r,1)}function UE(r,a){return Hu(wu(a),r)}function $E(){if(!arguments.length)return[];var r=arguments[0];return re(r)?r:[r]}function GE(r){return Yn(r,b)}function HE(r,a){return a=typeof a=="function"?a:n,Yn(r,b,a)}function jE(r){return Yn(r,v|b)}function KE(r,a){return a=typeof a=="function"?a:n,Yn(r,v|b,a)}function VE(r,a){return a==null||Nf(r,a,an(a))}function ar(r,a){return r===a||r!==r&&a!==a}var WE=Ro(gu),zE=Ro(function(r,a){return r>=a}),Ii=Kf(function(){return arguments}())?Kf:function(r){return Ve(r)&&we.call(r,"callee")&&!If.call(r,"callee")},re=yt.isArray,YE=df?Mn(df):n_;function Rn(r){return r!=null&&Bo(r.length)&&!Pr(r)}function Ye(r){return Ve(r)&&Rn(r)}function qE(r){return r===!0||r===!1||Ve(r)&&_n(r)==j}var ri=u1||Xu,QE=ff?Mn(ff):r_;function ZE(r){return Ve(r)&&r.nodeType===1&&!ia(r)}function JE(r){if(r==null)return!0;if(Rn(r)&&(re(r)||typeof r=="string"||typeof r.splice=="function"||ri(r)||os(r)||Ii(r)))return!r.length;var a=vn(r);if(a==ut||a==Et)return!r.size;if(na(r))return!mu(r).length;for(var C in r)if(we.call(r,C))return!1;return!0}function XE(r,a){return Xs(r,a)}function tb(r,a,C){C=typeof C=="function"?C:n;var M=C?C(r,a):n;return M===n?Xs(r,a,n,C):!!M}function ju(r){if(!Ve(r))return!1;var a=_n(r);return a==It||a==bt||typeof r.message=="string"&&typeof r.name=="string"&&!ia(r)}function eb(r){return typeof r=="number"&&Df(r)}function Pr(r){if(!Ge(r))return!1;var a=_n(r);return a==z||a==tt||a==it||a==St}function Jh(r){return typeof r=="number"&&r==se(r)}function Bo(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=H}function Ge(r){var a=typeof r;return r!=null&&(a=="object"||a=="function")}function Ve(r){return r!=null&&typeof r=="object"}var Xh=hf?Mn(hf):s_;function nb(r,a){return r===a||pu(r,a,Ou(a))}function rb(r,a,C){return C=typeof C=="function"?C:n,pu(r,a,Ou(a),C)}function ib(r){return tg(r)&&r!=+r}function sb(r){if(H_(r))throw new ne(o);return Vf(r)}function ab(r){return r===null}function ob(r){return r==null}function tg(r){return typeof r=="number"||Ve(r)&&_n(r)==ft}function ia(r){if(!Ve(r)||_n(r)!=_t)return!1;var a=uo(r);if(a===null)return!0;var C=we.call(a,"constructor")&&a.constructor;return typeof C=="function"&&C instanceof C&&so.call(C)==r1}var Ku=gf?Mn(gf):a_;function lb(r){return Jh(r)&&r>=-H&&r<=H}var eg=vf?Mn(vf):o_;function No(r){return typeof r=="string"||!re(r)&&Ve(r)&&_n(r)==Pt}function Nn(r){return typeof r=="symbol"||Ve(r)&&_n(r)==Dt}var os=pf?Mn(pf):l_;function ub(r){return r===n}function cb(r){return Ve(r)&&vn(r)==$t}function db(r){return Ve(r)&&_n(r)==Ht}var fb=Ro(yu),hb=Ro(function(r,a){return r<=a});function ng(r){if(!r)return[];if(Rn(r))return No(r)?ir(r):Cn(r);if(Vs&&r[Vs])return Vy(r[Vs]());var a=vn(r),C=a==ut?su:a==Et?no:ls;return C(r)}function Fr(r){if(!r)return r===0?r:0;if(r=Zn(r),r===B||r===-B){var a=r<0?-1:1;return a*V}return r===r?r:0}function se(r){var a=Fr(r),C=a%1;return a===a?C?a-C:a:0}function rg(r){return r?wi(se(r),0,et):0}function Zn(r){if(typeof r=="number")return r;if(Nn(r))return q;if(Ge(r)){var a=typeof r.valueOf=="function"?r.valueOf():r;r=Ge(a)?a+"":a}if(typeof r!="string")return r===0?r:+r;r=bf(r);var C=Y0.test(r);return C||Q0.test(r)?Ry(r.slice(2),C?2:8):z0.test(r)?q:+r}function ig(r){return yr(r,xn(r))}function gb(r){return r?wi(se(r),-H,H):r===0?r:0}function ke(r){return r==null?"":Bn(r)}var vb=is(function(r,a){if(na(a)||Rn(a)){yr(a,an(a),r);return}for(var C in a)we.call(a,C)&&Qs(r,C,a[C])}),sg=is(function(r,a){yr(a,xn(a),r)}),Uo=is(function(r,a,C,M){yr(a,xn(a),r,M)}),pb=is(function(r,a,C,M){yr(a,an(a),r,M)}),mb=Dr(du);function yb(r,a){var C=rs(r);return a==null?C:Bf(C,a)}var _b=le(function(r,a){r=Re(r);var C=-1,M=a.length,G=M>2?a[2]:n;for(G&&An(a[0],a[1],G)&&(M=1);++C<M;)for(var Y=a[C],nt=xn(Y),lt=-1,vt=nt.length;++lt<vt;){var kt=nt[lt],Ct=r[kt];(Ct===n||ar(Ct,ts[kt])&&!we.call(r,kt))&&(r[kt]=Y[kt])}return r}),Ab=le(function(r){return r.push(n,bh),Fn(ag,n,r)});function Eb(r,a){return yf(r,zt(a,3),mr)}function bb(r,a){return yf(r,zt(a,3),hu)}function Tb(r,a){return r==null?r:fu(r,zt(a,3),xn)}function Sb(r,a){return r==null?r:Hf(r,zt(a,3),xn)}function kb(r,a){return r&&mr(r,zt(a,3))}function wb(r,a){return r&&hu(r,zt(a,3))}function Cb(r){return r==null?[]:Ao(r,an(r))}function Rb(r){return r==null?[]:Ao(r,xn(r))}function Vu(r,a,C){var M=r==null?n:Ci(r,a);return M===n?C:M}function xb(r,a){return r!=null&&kh(r,a,J1)}function Wu(r,a){return r!=null&&kh(r,a,X1)}var Ib=mh(function(r,a,C){a!=null&&typeof a.toString!="function"&&(a=ao.call(a)),r[a]=C},Yu(In)),Lb=mh(function(r,a,C){a!=null&&typeof a.toString!="function"&&(a=ao.call(a)),we.call(r,a)?r[a].push(C):r[a]=[C]},zt),Db=le(Js);function an(r){return Rn(r)?Ff(r):mu(r)}function xn(r){return Rn(r)?Ff(r,!0):u_(r)}function Ob(r,a){var C={};return a=zt(a,3),mr(r,function(M,G,Y){Ir(C,a(M,G,Y),M)}),C}function Pb(r,a){var C={};return a=zt(a,3),mr(r,function(M,G,Y){Ir(C,G,a(M,G,Y))}),C}var Fb=is(function(r,a,C){Eo(r,a,C)}),ag=is(function(r,a,C,M){Eo(r,a,C,M)}),Mb=Dr(function(r,a){var C={};if(r==null)return C;var M=!1;a=$e(a,function(Y){return Y=ei(Y,r),M||(M=Y.length>1),Y}),yr(r,Lu(r),C),M&&(C=Yn(C,v|f|b,I_));for(var G=a.length;G--;)Tu(C,a[G]);return C});function Bb(r,a){return og(r,Mo(zt(a)))}var Nb=Dr(function(r,a){return r==null?{}:d_(r,a)});function og(r,a){if(r==null)return{};var C=$e(Lu(r),function(M){return[M]});return a=zt(a),Jf(r,C,function(M,G){return a(M,G[0])})}function Ub(r,a,C){a=ei(a,r);var M=-1,G=a.length;for(G||(G=1,r=n);++M<G;){var Y=r==null?n:r[_r(a[M])];Y===n&&(M=G,Y=C),r=Pr(Y)?Y.call(r):Y}return r}function $b(r,a,C){return r==null?r:ta(r,a,C)}function Gb(r,a,C,M){return M=typeof M=="function"?M:n,r==null?r:ta(r,a,C,M)}var lg=Ah(an),ug=Ah(xn);function Hb(r,a,C){var M=re(r),G=M||ri(r)||os(r);if(a=zt(a,4),C==null){var Y=r&&r.constructor;G?C=M?new Y:[]:Ge(r)?C=Pr(Y)?rs(uo(r)):{}:C={}}return(G?Vn:mr)(r,function(nt,lt,vt){return a(C,nt,lt,vt)}),C}function jb(r,a){return r==null?!0:Tu(r,a)}function Kb(r,a,C){return r==null?r:rh(r,a,wu(C))}function Vb(r,a,C,M){return M=typeof M=="function"?M:n,r==null?r:rh(r,a,wu(C),M)}function ls(r){return r==null?[]:iu(r,an(r))}function Wb(r){return r==null?[]:iu(r,xn(r))}function zb(r,a,C){return C===n&&(C=a,a=n),C!==n&&(C=Zn(C),C=C===C?C:0),a!==n&&(a=Zn(a),a=a===a?a:0),wi(Zn(r),a,C)}function Yb(r,a,C){return a=Fr(a),C===n?(C=a,a=0):C=Fr(C),r=Zn(r),t_(r,a,C)}function qb(r,a,C){if(C&&typeof C!="boolean"&&An(r,a,C)&&(a=C=n),C===n&&(typeof a=="boolean"?(C=a,a=n):typeof r=="boolean"&&(C=r,r=n)),r===n&&a===n?(r=0,a=1):(r=Fr(r),a===n?(a=r,r=0):a=Fr(a)),r>a){var M=r;r=a,a=M}if(C||r%1||a%1){var G=Of();return gn(r+G*(a-r+Cy("1e-"+((G+"").length-1))),a)}return Au(r,a)}var Qb=ss(function(r,a,C){return a=a.toLowerCase(),r+(C?cg(a):a)});function cg(r){return zu(ke(r).toLowerCase())}function dg(r){return r=ke(r),r&&r.replace(J0,$y).replace(my,"")}function Zb(r,a,C){r=ke(r),a=Bn(a);var M=r.length;C=C===n?M:wi(se(C),0,M);var G=C;return C-=a.length,C>=0&&r.slice(C,G)==a}function Jb(r){return r=ke(r),r&&Gd.test(r)?r.replace(Ei,Gy):r}function Xb(r){return r=ke(r),r&&N0.test(r)?r.replace(Hl,"\\$&"):r}var tT=ss(function(r,a,C){return r+(C?"-":"")+a.toLowerCase()}),eT=ss(function(r,a,C){return r+(C?" ":"")+a.toLowerCase()}),nT=gh("toLowerCase");function rT(r,a,C){r=ke(r),a=se(a);var M=a?Ji(r):0;if(!a||M>=a)return r;var G=(a-M)/2;return Co(go(G),C)+r+Co(ho(G),C)}function iT(r,a,C){r=ke(r),a=se(a);var M=a?Ji(r):0;return a&&M<a?r+Co(a-M,C):r}function sT(r,a,C){r=ke(r),a=se(a);var M=a?Ji(r):0;return a&&M<a?Co(a-M,C)+r:r}function aT(r,a,C){return C||a==null?a=0:a&&(a=+a),h1(ke(r).replace(jl,""),a||0)}function oT(r,a,C){return(C?An(r,a,C):a===n)?a=1:a=se(a),Eu(ke(r),a)}function lT(){var r=arguments,a=ke(r[0]);return r.length<3?a:a.replace(r[1],r[2])}var uT=ss(function(r,a,C){return r+(C?"_":"")+a.toLowerCase()});function cT(r,a,C){return C&&typeof C!="number"&&An(r,a,C)&&(a=C=n),C=C===n?et:C>>>0,C?(r=ke(r),r&&(typeof a=="string"||a!=null&&!Ku(a))&&(a=Bn(a),!a&&Zi(r))?ni(ir(r),0,C):r.split(a,C)):[]}var dT=ss(function(r,a,C){return r+(C?" ":"")+zu(a)});function fT(r,a,C){return r=ke(r),C=C==null?0:wi(se(C),0,r.length),a=Bn(a),r.slice(C,C+a.length)==a}function hT(r,a,C){var M=K.templateSettings;C&&An(r,a,C)&&(a=n),r=ke(r),a=Uo({},a,M,Eh);var G=Uo({},a.imports,M.imports,Eh),Y=an(G),nt=iu(G,Y),lt,vt,kt=0,Ct=a.interpolate||Za,Lt="__p += '",Bt=au((a.escape||Za).source+"|"+Ct.source+"|"+(Ct===Hd?W0:Za).source+"|"+(a.evaluate||Za).source+"|$","g"),Gt="//# sourceURL="+(we.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++by+"]")+`
`;r.replace(Bt,function(Zt,he,ve,Un,En,$n){return ve||(ve=Un),Lt+=r.slice(kt,$n).replace(X0,Hy),he&&(lt=!0,Lt+=`' +
__e(`+he+`) +
'`),En&&(vt=!0,Lt+=`';
`+En+`;
__p += '`),ve&&(Lt+=`' +
((__t = (`+ve+`)) == null ? '' : __t) +
'`),kt=$n+Zt.length,Zt}),Lt+=`';
`;var Qt=we.call(a,"variable")&&a.variable;if(!Qt)Lt=`with (obj) {
`+Lt+`
}
`;else if(K0.test(Qt))throw new ne(m);Lt=(vt?Lt.replace(yn,""):Lt).replace(Ke,"$1").replace(Ue,"$1;"),Lt="function("+(Qt||"obj")+`) {
`+(Qt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(lt?", __e = _.escape":"")+(vt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Lt+`return __p
}`;var oe=hg(function(){return be(Y,Gt+"return "+Lt).apply(n,nt)});if(oe.source=Lt,ju(oe))throw oe;return oe}function gT(r){return ke(r).toLowerCase()}function vT(r){return ke(r).toUpperCase()}function pT(r,a,C){if(r=ke(r),r&&(C||a===n))return bf(r);if(!r||!(a=Bn(a)))return r;var M=ir(r),G=ir(a),Y=Tf(M,G),nt=Sf(M,G)+1;return ni(M,Y,nt).join("")}function mT(r,a,C){if(r=ke(r),r&&(C||a===n))return r.slice(0,wf(r)+1);if(!r||!(a=Bn(a)))return r;var M=ir(r),G=Sf(M,ir(a))+1;return ni(M,0,G).join("")}function yT(r,a,C){if(r=ke(r),r&&(C||a===n))return r.replace(jl,"");if(!r||!(a=Bn(a)))return r;var M=ir(r),G=Tf(M,ir(a));return ni(M,G).join("")}function _T(r,a){var C=k,M=R;if(Ge(a)){var G="separator"in a?a.separator:G;C="length"in a?se(a.length):C,M="omission"in a?Bn(a.omission):M}r=ke(r);var Y=r.length;if(Zi(r)){var nt=ir(r);Y=nt.length}if(C>=Y)return r;var lt=C-Ji(M);if(lt<1)return M;var vt=nt?ni(nt,0,lt).join(""):r.slice(0,lt);if(G===n)return vt+M;if(nt&&(lt+=vt.length-lt),Ku(G)){if(r.slice(lt).search(G)){var kt,Ct=vt;for(G.global||(G=au(G.source,ke(jd.exec(G))+"g")),G.lastIndex=0;kt=G.exec(Ct);)var Lt=kt.index;vt=vt.slice(0,Lt===n?lt:Lt)}}else if(r.indexOf(Bn(G),lt)!=lt){var Bt=vt.lastIndexOf(G);Bt>-1&&(vt=vt.slice(0,Bt))}return vt+M}function AT(r){return r=ke(r),r&&Ya.test(r)?r.replace(Pn,qy):r}var ET=ss(function(r,a,C){return r+(C?" ":"")+a.toUpperCase()}),zu=gh("toUpperCase");function fg(r,a,C){return r=ke(r),a=C?n:a,a===n?Ky(r)?Jy(r):Fy(r):r.match(a)||[]}var hg=le(function(r,a){try{return Fn(r,n,a)}catch(C){return ju(C)?C:new ne(C)}}),bT=Dr(function(r,a){return Vn(a,function(C){C=_r(C),Ir(r,C,Gu(r[C],r))}),r});function TT(r){var a=r==null?0:r.length,C=zt();return r=a?$e(r,function(M){if(typeof M[1]!="function")throw new Wn(u);return[C(M[0]),M[1]]}):[],le(function(M){for(var G=-1;++G<a;){var Y=r[G];if(Fn(Y[0],this,M))return Fn(Y[1],this,M)}})}function ST(r){return q1(Yn(r,v))}function Yu(r){return function(){return r}}function kT(r,a){return r==null||r!==r?a:r}var wT=ph(),CT=ph(!0);function In(r){return r}function qu(r){return Wf(typeof r=="function"?r:Yn(r,v))}function RT(r){return Yf(Yn(r,v))}function xT(r,a){return qf(r,Yn(a,v))}var IT=le(function(r,a){return function(C){return Js(C,r,a)}}),LT=le(function(r,a){return function(C){return Js(r,C,a)}});function Qu(r,a,C){var M=an(a),G=Ao(a,M);C==null&&!(Ge(a)&&(G.length||!M.length))&&(C=a,a=r,r=this,G=Ao(a,an(a)));var Y=!(Ge(C)&&"chain"in C)||!!C.chain,nt=Pr(r);return Vn(G,function(lt){var vt=a[lt];r[lt]=vt,nt&&(r.prototype[lt]=function(){var kt=this.__chain__;if(Y||kt){var Ct=r(this.__wrapped__),Lt=Ct.__actions__=Cn(this.__actions__);return Lt.push({func:vt,args:arguments,thisArg:r}),Ct.__chain__=kt,Ct}return vt.apply(r,Qr([this.value()],arguments))})}),r}function DT(){return ln._===this&&(ln._=i1),this}function Zu(){}function OT(r){return r=se(r),le(function(a){return Qf(a,r)})}var PT=Ru($e),FT=Ru(mf),MT=Ru(Xl);function gg(r){return Fu(r)?tu(_r(r)):f_(r)}function BT(r){return function(a){return r==null?n:Ci(r,a)}}var NT=yh(),UT=yh(!0);function Ju(){return[]}function Xu(){return!1}function $T(){return{}}function GT(){return""}function HT(){return!0}function jT(r,a){if(r=se(r),r<1||r>H)return[];var C=et,M=gn(r,et);a=zt(a),r-=et;for(var G=ru(M,a);++C<r;)a(C);return G}function KT(r){return re(r)?$e(r,_r):Nn(r)?[r]:Cn(Ph(ke(r)))}function VT(r){var a=++n1;return ke(r)+a}var WT=wo(function(r,a){return r+a},0),zT=xu("ceil"),YT=wo(function(r,a){return r/a},1),qT=xu("floor");function QT(r){return r&&r.length?_o(r,In,gu):n}function ZT(r,a){return r&&r.length?_o(r,zt(a,2),gu):n}function JT(r){return Af(r,In)}function XT(r,a){return Af(r,zt(a,2))}function tS(r){return r&&r.length?_o(r,In,yu):n}function eS(r,a){return r&&r.length?_o(r,zt(a,2),yu):n}var nS=wo(function(r,a){return r*a},1),rS=xu("round"),iS=wo(function(r,a){return r-a},0);function sS(r){return r&&r.length?nu(r,In):0}function aS(r,a){return r&&r.length?nu(r,zt(a,2)):0}return K.after=RE,K.ary=Vh,K.assign=vb,K.assignIn=sg,K.assignInWith=Uo,K.assignWith=pb,K.at=mb,K.before=Wh,K.bind=Gu,K.bindAll=bT,K.bindKey=zh,K.castArray=$E,K.chain=Hh,K.chunk=q_,K.compact=Q_,K.concat=Z_,K.cond=TT,K.conforms=ST,K.constant=Yu,K.countBy=sE,K.create=yb,K.curry=Yh,K.curryRight=qh,K.debounce=Qh,K.defaults=_b,K.defaultsDeep=Ab,K.defer=xE,K.delay=IE,K.difference=J_,K.differenceBy=X_,K.differenceWith=tA,K.drop=eA,K.dropRight=nA,K.dropRightWhile=rA,K.dropWhile=iA,K.fill=sA,K.filter=oE,K.flatMap=cE,K.flatMapDeep=dE,K.flatMapDepth=fE,K.flatten=Nh,K.flattenDeep=aA,K.flattenDepth=oA,K.flip=LE,K.flow=wT,K.flowRight=CT,K.fromPairs=lA,K.functions=Cb,K.functionsIn=Rb,K.groupBy=hE,K.initial=cA,K.intersection=dA,K.intersectionBy=fA,K.intersectionWith=hA,K.invert=Ib,K.invertBy=Lb,K.invokeMap=vE,K.iteratee=qu,K.keyBy=pE,K.keys=an,K.keysIn=xn,K.map=Oo,K.mapKeys=Ob,K.mapValues=Pb,K.matches=RT,K.matchesProperty=xT,K.memoize=Fo,K.merge=Fb,K.mergeWith=ag,K.method=IT,K.methodOf=LT,K.mixin=Qu,K.negate=Mo,K.nthArg=OT,K.omit=Mb,K.omitBy=Bb,K.once=DE,K.orderBy=mE,K.over=PT,K.overArgs=OE,K.overEvery=FT,K.overSome=MT,K.partial=Hu,K.partialRight=Zh,K.partition=yE,K.pick=Nb,K.pickBy=og,K.property=gg,K.propertyOf=BT,K.pull=mA,K.pullAll=$h,K.pullAllBy=yA,K.pullAllWith=_A,K.pullAt=AA,K.range=NT,K.rangeRight=UT,K.rearg=PE,K.reject=EE,K.remove=EA,K.rest=FE,K.reverse=Uu,K.sampleSize=TE,K.set=$b,K.setWith=Gb,K.shuffle=SE,K.slice=bA,K.sortBy=CE,K.sortedUniq=xA,K.sortedUniqBy=IA,K.split=cT,K.spread=ME,K.tail=LA,K.take=DA,K.takeRight=OA,K.takeRightWhile=PA,K.takeWhile=FA,K.tap=QA,K.throttle=BE,K.thru=Do,K.toArray=ng,K.toPairs=lg,K.toPairsIn=ug,K.toPath=KT,K.toPlainObject=ig,K.transform=Hb,K.unary=NE,K.union=MA,K.unionBy=BA,K.unionWith=NA,K.uniq=UA,K.uniqBy=$A,K.uniqWith=GA,K.unset=jb,K.unzip=$u,K.unzipWith=Gh,K.update=Kb,K.updateWith=Vb,K.values=ls,K.valuesIn=Wb,K.without=HA,K.words=fg,K.wrap=UE,K.xor=jA,K.xorBy=KA,K.xorWith=VA,K.zip=WA,K.zipObject=zA,K.zipObjectDeep=YA,K.zipWith=qA,K.entries=lg,K.entriesIn=ug,K.extend=sg,K.extendWith=Uo,Qu(K,K),K.add=WT,K.attempt=hg,K.camelCase=Qb,K.capitalize=cg,K.ceil=zT,K.clamp=zb,K.clone=GE,K.cloneDeep=jE,K.cloneDeepWith=KE,K.cloneWith=HE,K.conformsTo=VE,K.deburr=dg,K.defaultTo=kT,K.divide=YT,K.endsWith=Zb,K.eq=ar,K.escape=Jb,K.escapeRegExp=Xb,K.every=aE,K.find=lE,K.findIndex=Mh,K.findKey=Eb,K.findLast=uE,K.findLastIndex=Bh,K.findLastKey=bb,K.floor=qT,K.forEach=jh,K.forEachRight=Kh,K.forIn=Tb,K.forInRight=Sb,K.forOwn=kb,K.forOwnRight=wb,K.get=Vu,K.gt=WE,K.gte=zE,K.has=xb,K.hasIn=Wu,K.head=Uh,K.identity=In,K.includes=gE,K.indexOf=uA,K.inRange=Yb,K.invoke=Db,K.isArguments=Ii,K.isArray=re,K.isArrayBuffer=YE,K.isArrayLike=Rn,K.isArrayLikeObject=Ye,K.isBoolean=qE,K.isBuffer=ri,K.isDate=QE,K.isElement=ZE,K.isEmpty=JE,K.isEqual=XE,K.isEqualWith=tb,K.isError=ju,K.isFinite=eb,K.isFunction=Pr,K.isInteger=Jh,K.isLength=Bo,K.isMap=Xh,K.isMatch=nb,K.isMatchWith=rb,K.isNaN=ib,K.isNative=sb,K.isNil=ob,K.isNull=ab,K.isNumber=tg,K.isObject=Ge,K.isObjectLike=Ve,K.isPlainObject=ia,K.isRegExp=Ku,K.isSafeInteger=lb,K.isSet=eg,K.isString=No,K.isSymbol=Nn,K.isTypedArray=os,K.isUndefined=ub,K.isWeakMap=cb,K.isWeakSet=db,K.join=gA,K.kebabCase=tT,K.last=Qn,K.lastIndexOf=vA,K.lowerCase=eT,K.lowerFirst=nT,K.lt=fb,K.lte=hb,K.max=QT,K.maxBy=ZT,K.mean=JT,K.meanBy=XT,K.min=tS,K.minBy=eS,K.stubArray=Ju,K.stubFalse=Xu,K.stubObject=$T,K.stubString=GT,K.stubTrue=HT,K.multiply=nS,K.nth=pA,K.noConflict=DT,K.noop=Zu,K.now=Po,K.pad=rT,K.padEnd=iT,K.padStart=sT,K.parseInt=aT,K.random=qb,K.reduce=_E,K.reduceRight=AE,K.repeat=oT,K.replace=lT,K.result=Ub,K.round=rS,K.runInContext=ct,K.sample=bE,K.size=kE,K.snakeCase=uT,K.some=wE,K.sortedIndex=TA,K.sortedIndexBy=SA,K.sortedIndexOf=kA,K.sortedLastIndex=wA,K.sortedLastIndexBy=CA,K.sortedLastIndexOf=RA,K.startCase=dT,K.startsWith=fT,K.subtract=iS,K.sum=sS,K.sumBy=aS,K.template=hT,K.times=jT,K.toFinite=Fr,K.toInteger=se,K.toLength=rg,K.toLower=gT,K.toNumber=Zn,K.toSafeInteger=gb,K.toString=ke,K.toUpper=vT,K.trim=pT,K.trimEnd=mT,K.trimStart=yT,K.truncate=_T,K.unescape=AT,K.uniqueId=VT,K.upperCase=ET,K.upperFirst=zu,K.each=jh,K.eachRight=Kh,K.first=Uh,Qu(K,function(){var r={};return mr(K,function(a,C){we.call(K.prototype,C)||(r[C]=a)}),r}(),{chain:!1}),K.VERSION=i,Vn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){K[r].placeholder=K}),Vn(["drop","take"],function(r,a){ge.prototype[r]=function(C){C=C===n?1:nn(se(C),0);var M=this.__filtered__&&!a?new ge(this):this.clone();return M.__filtered__?M.__takeCount__=gn(C,M.__takeCount__):M.__views__.push({size:gn(C,et),type:r+(M.__dir__<0?"Right":"")}),M},ge.prototype[r+"Right"]=function(C){return this.reverse()[r](C).reverse()}}),Vn(["filter","map","takeWhile"],function(r,a){var C=a+1,M=C==P||C==U;ge.prototype[r]=function(G){var Y=this.clone();return Y.__iteratees__.push({iteratee:zt(G,3),type:C}),Y.__filtered__=Y.__filtered__||M,Y}}),Vn(["head","last"],function(r,a){var C="take"+(a?"Right":"");ge.prototype[r]=function(){return this[C](1).value()[0]}}),Vn(["initial","tail"],function(r,a){var C="drop"+(a?"":"Right");ge.prototype[r]=function(){return this.__filtered__?new ge(this):this[C](1)}}),ge.prototype.compact=function(){return this.filter(In)},ge.prototype.find=function(r){return this.filter(r).head()},ge.prototype.findLast=function(r){return this.reverse().find(r)},ge.prototype.invokeMap=le(function(r,a){return typeof r=="function"?new ge(this):this.map(function(C){return Js(C,r,a)})}),ge.prototype.reject=function(r){return this.filter(Mo(zt(r)))},ge.prototype.slice=function(r,a){r=se(r);var C=this;return C.__filtered__&&(r>0||a<0)?new ge(C):(r<0?C=C.takeRight(-r):r&&(C=C.drop(r)),a!==n&&(a=se(a),C=a<0?C.dropRight(-a):C.take(a-r)),C)},ge.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},ge.prototype.toArray=function(){return this.take(et)},mr(ge.prototype,function(r,a){var C=/^(?:filter|find|map|reject)|While$/.test(a),M=/^(?:head|last)$/.test(a),G=K[M?"take"+(a=="last"?"Right":""):a],Y=M||/^find/.test(a);!G||(K.prototype[a]=function(){var nt=this.__wrapped__,lt=M?[1]:arguments,vt=nt instanceof ge,kt=lt[0],Ct=vt||re(nt),Lt=function(he){var ve=G.apply(K,Qr([he],lt));return M&&Bt?ve[0]:ve};Ct&&C&&typeof kt=="function"&&kt.length!=1&&(vt=Ct=!1);var Bt=this.__chain__,Gt=!!this.__actions__.length,Qt=Y&&!Bt,oe=vt&&!Gt;if(!Y&&Ct){nt=oe?nt:new ge(this);var Zt=r.apply(nt,lt);return Zt.__actions__.push({func:Do,args:[Lt],thisArg:n}),new zn(Zt,Bt)}return Qt&&oe?r.apply(this,lt):(Zt=this.thru(Lt),Qt?M?Zt.value()[0]:Zt.value():Zt)})}),Vn(["pop","push","shift","sort","splice","unshift"],function(r){var a=ro[r],C=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",M=/^(?:pop|shift)$/.test(r);K.prototype[r]=function(){var G=arguments;if(M&&!this.__chain__){var Y=this.value();return a.apply(re(Y)?Y:[],G)}return this[C](function(nt){return a.apply(re(nt)?nt:[],G)})}}),mr(ge.prototype,function(r,a){var C=K[a];if(C){var M=C.name+"";we.call(ns,M)||(ns[M]=[]),ns[M].push({name:a,func:C})}}),ns[ko(n,c).name]=[{name:"wrapper",func:n}],ge.prototype.clone=A1,ge.prototype.reverse=E1,ge.prototype.value=b1,K.prototype.at=ZA,K.prototype.chain=JA,K.prototype.commit=XA,K.prototype.next=tE,K.prototype.plant=nE,K.prototype.reverse=rE,K.prototype.toJSON=K.prototype.valueOf=K.prototype.value=iE,K.prototype.first=K.prototype.head,Vs&&(K.prototype[Vs]=eE),K},Xi=Xy();bi?((bi.exports=Xi)._=Xi,ql._=Xi):ln._=Xi}).call(ys)})(gl,gl.exports);const _N=({kw:t,cityId:e=1}={})=>Se.get(`https://apis.netstart.cn/maoyan/search/suggest?kw=${t}&cityId=${e}&stype=-1`),AN=({kw:t,cityId:e=1,offset:n=0}={})=>Se.get(`https://apis.netstart.cn/maoyan/search/movies?keyword=${t}&ci=${e}&offset=${n}`),EN=({kw:t,cityId:e=1,offset:n=0}={})=>Se.get(`https://apis.netstart.cn/maoyan/search/cinemas?keyword=${t}&ci=${e}&offset=${n}`);const Hs=t=>(de("data-v-4d8566d8"),t=t(),fe(),t),bN={class:"search-view"},TN={class:"search-view-input"},SN={class:"search-view-input-wrap"},kN=Hs(()=>_("img",{src:mN,alt:""},null,-1)),wN={class:"search-view-history-list"},CN=["onClick"],RN=Hs(()=>_("span",{class:"search-view-history-list-card-icon"},null,-1)),xN={class:"search-view-history-list-card-name"},IN=["onClick"],LN={class:"search-suggest-list"},DN={key:0,class:"movies"},ON=Hs(()=>_("div",{class:"search-suggest-title"},"\u7535\u5F71/\u7535\u89C6\u5267/\u7EFC\u827A",-1)),PN={class:"list"},FN=["onClick"],MN=["src"],BN={class:"movies-msg"},NN={class:"movies-name"},UN=Hs(()=>_("span",null,null,-1)),$N=["innerHTML"],GN={class:"movies-detail"},HN={class:"movies-item"},jN={class:"movies-ename"},KN={class:"movies-type"},VN={class:"movies-time"},WN=Hs(()=>_("div",{class:"movies-wish"},[_("span",null,"\u60F3\u770B")],-1)),zN={key:1,class:"cinemas"},YN=Hs(()=>_("div",{class:"search-suggest-title"},"\u5F71\u9662",-1)),qN={class:"list"},QN=["onClick"],ZN={class:"info"},JN={class:"cinemas-name"},XN={class:"cinemas-addr"},tU={class:"cinemas-type"},eU={class:"cinemas-sell"},nU={key:0,class:"cinemas-snack"},rU={__name:"SearchView",setup(t){const e=Z(""),n=gl.exports.debounce(u,1e3),i=Z(null),s=jt(()=>f=>f!=null&&f.sc?(f==null?void 0:f.sc)==0?"\u6682\u65E0\u8BC4\u5206":(f==null?void 0:f.sc)+"<span>\u5206</span>":(f==null?void 0:f.wish)==0?"":(f==null?void 0:f.wish)+"<span style='font-size: 10rem'>\u4EBA\u60F3\u770B</span>");let o=Z(JSON.parse(localStorage.getItem("searchhistory"))||[]);function u(){if(e.value!=""){_N({kw:e.value}).then(b=>{i.value=b.data});let f=[e.value,...o.value.filter(b=>b!=e.value)];f.length>3?(f=f.slice(0,3),localStorage.setItem("0 ",JSON.stringify(f))):localStorage.setItem("searchhistory",JSON.stringify(f))}else i.value=[]}function m(f){this.value=f,u()}function p(f){let b=[...o.value.filter(S=>S!=f)];localStorage.setItem("searchhistory",JSON.stringify(b)),this.history=JSON.parse(localStorage.getItem("searchhistory"))||[]}const l=Z(23.4),y=Z(113.3),v=Z(20);return(f,b)=>{var S,d,h,c,g,T;return N(),$("div",bN,[_("section",TN,[_("div",SN,[kN,Le(_("input",{type:"text",placeholder:"\u641C\u7535\u5F71\u3001\u641C\u5F71\u9662","onUpdate:modelValue":b[0]||(b[0]=E=>e.value=E),onInput:b[1]||(b[1]=(...E)=>X(n)&&X(n)(...E))},null,544),[[cl,e.value]]),Le(_("img",{src:yN,alt:"",onClick:b[2]||(b[2]=Qe(E=>e.value="",["stop"]))},null,512),[[Ze,e.value!=""]])]),_("div",{class:"cancel",onClick:b[3]||(b[3]=E=>f.$router.go(-1))},"\u53D6\u6D88")]),Le(_("section",wN,[(N(!0),$(ht,null,At(X(o),(E,A)=>(N(),$("div",{class:"search-view-history-list-card",key:A,onClick:w=>m(E)},[RN,_("span",xN,Q(E),1),_("div",{class:"search-view-history-list-card-delete",onClick:Qe(w=>p(E),["stop"])},null,8,IN)],8,CN))),128))],512),[[Ze,e.value==""]]),Le(_("section",LN,[(S=i.value)!=null&&S.movies?(N(),$("div",DN,[ON,_("div",PN,[(N(!0),$(ht,null,At((d=i.value)==null?void 0:d.movies.list,(E,A)=>{var w;return N(),$("div",{class:Kt(["list-card",{lastcard:A==((w=i.value)==null?void 0:w.movies.list.length)-1}]),key:E.id,onClick:L=>f.$router.push({path:"/filmdetails",query:{id:E.id}})},[_("img",{src:E==null?void 0:E.img,alt:""},null,8,MN),_("div",BN,[_("div",NN,[_("div",null,[_("span",null,Q(E==null?void 0:E.nm),1),UN]),_("div",{innerHTML:X(s)(E)},null,8,$N)]),_("div",GN,[_("div",HN,[_("div",jN,Q(E==null?void 0:E.enm),1),_("div",KN,Q(E==null?void 0:E.cat),1),_("div",VN,Q(E==null?void 0:E.rt),1)]),WN])])],10,FN)}),128))]),_("div",{class:"search-suggest-all",onClick:b[4]||(b[4]=E=>f.$router.push({path:"/searchlist",query:{kw:e.value,ismovies:!0}}))},"\u67E5\u770B\u5168\u90E8"+Q((h=i.value)==null?void 0:h.movies.total)+"\u90E8\u5F71\u89C6\u5267",1)])):pt("",!0),(c=i.value)!=null&&c.cinemas?(N(),$("div",zN,[YN,_("div",qN,[(N(!0),$(ht,null,At((g=i.value)==null?void 0:g.cinemas.list,(E,A)=>{var w;return N(),$("div",{class:Kt(["list-card",{lastcard:A==((w=i.value)==null?void 0:w.cinemas.list.length)-1}]),onClick:Qe(L=>f.$router.push({path:"/ticket",query:{id:E==null?void 0:E.id,lat:l.value,lng:y.value,cityId:v.value}}),["stop"])},[_("div",ZN,[_("div",JN,[_("span",null,Q(E.nm),1),_("div",null,[_("span",null,Q(E.sellPrice),1),Vt(" \u5143\u8D77")])]),_("div",XN,Q(E.addr),1),_("div",tU,[_("div",eU,Q(E.sell?"\u5EA7":"\u6EE1"),1),(N(!0),$(ht,null,At(E.hallType,(L,x)=>(N(),$("div",{class:"cinemas-halltype",key:x},Q(L),1))),128)),E.snack==1?(N(),$("div",nU,"\u5C0F\u5403")):pt("",!0)])])],10,QN)}),256))]),_("div",{class:"search-suggest-all",onClick:b[5]||(b[5]=E=>f.$router.push({path:"/searchlist",query:{kw:e.value,ismovies:!1}}))},"\u67E5\u770B\u5168\u90E8"+Q((T=i.value)==null?void 0:T.cinemas.total)+"\u5BB6\u7535\u5F71\u9662",1)])):pt("",!0)],512),[[Ze,e.value!=""]])])}}},iU=Te(rU,[["__scopeId","data-v-4d8566d8"]]),js="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAA2CAQAAAB6xuFyAAAA5UlEQVRIx8XXOQ7CMBAF0BGiCJAg1uvmAFAicRv2pWCHK6RAyiU+FRKyKcbzTZj+RZHjfH+LBA5amKBEgRz1UJphj/fkdgoUYXSHzyntFJja6RGZjqbYerRTAd049MTQrpauHXrW0taf6MqhF/QqoMt49KqlTSzi0Rv6FdB5PHrX05lHBzrasNPEow8lFcHYTEXwdOhQH8Y1/2khUT5iXjsxrzX5lcn9Re5s8p/6DdfmCJlgZHaSqR2HW0+qGDxlubUXkI2E7EIxeMZytz4elPWRLK5f2nZIZSbLuogI2uZrgntBeQGbUtRY1cTNBQAAAABJRU5ErkJggg==",sU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAsCAYAAADmZKH2AAAAAXNSR0IArs4c6QAACAVJREFUWAm1mQtsVEUXx8/cpYCiFPFZjW+UaARNEL+IUYMVQbCo3UJbQUV8JKDRfCq+jdWIRo3GGBMfiKJY2wItggj4Csa3+AxGRRNFUT/8olbbQogtu+Pv3O2Mt7t32y2lk5RzZs5j/nPmzJm5i5E+tFnL7bC2lIyQlJSIlRJrZG8j8qexssUEsmW3AfLdc+Xmj52dAl+9a9OW2GNtSsoAMgXLcdZKIq8HIxag620gqxJGVi2dbj7PqxsjKBgcoE5Kp2U+YM6M8VPQkDHyHmBvXVZt3izEoEdwgBqRSsmDOJua7ZDJUmznBjHyM/RXnP2eNjIcegD9g9A/3ooUxdi9HgRyLZH8IlsW7XcLDmBTiFYt0Sp2Rhh0AKaJsZWJhKxlgmYny6YzVtuh7VvlrFRayojYdIAOdjosbDs+LmuqNi+4sWwaC85aa5JL5FaTljtxGKgRimn+qSUONY1J8322o576LPSgdEpuQ+/SaDQDIw9yeG5kkalsH7HgkvX2XlZ1k1NG6fsgIcneJrSzj9LKent0h0gj236cG8f/gsZqc4XrO5oDrrzOXoCw1isYeZX8qO5u+5xuofTCV+yQbc2yCP0KZ0P0rmmsNI+4vtIu4FjV2B1W3nK5QV68OKpSkjWGDe6HlqyzC5lrdgiEw0UQziYIr7mpwnzSjubZDhFVDpMW1Bt230tm9hcwnZNUmQN5R3nSKMHhe4rcHKh9bR7ctAapRGGUDhKxFlSmLp5otmm/vxpRaufElzPfrzoH8x8CQJ974baCVlF/iXCkKqF8R2OVuUv5nhq2emOcx41xArr78Pcn/JcmISsbK8zHPdmrPNlgr7RpebRTdwuAjwT49gE6gOCcCLDmwUPl4U7FvGRmoy3Z3iGPUqDLQyXywTcr5fi8nVP/BhPMbagy33pZDEM5WUBSz8PFoYhL8KmHcmG4rQxOjNg8VjvZtEb6OWxymR0NsE9ZUAZYjkZmAHkpB+yj8gY7Po9KOKzby275gMCHeFzOTXDGbMkax8fRC5vsfrJDVjPxAU6Os1VaCvibBD+XGlDPXxhL/hnK7bBc65vTj6PYRuctrbE2MFV19rB2kU2hgZG20fvL8JrxenDjG8f/SSa8XKUkbCtgZiyrMquytYnWKdwpSxg/sFO2lqvq7Gy9aL+83m5mSQfrmCmSsUFHkDkEoZKVD7oDpu839GaFuvwDyDlxwFTeVGneZVtmsABXIyf1GD2bKStqT3hGBiSuThg2ovCb4+NoW7uUAqhIZeh+0d2lrTrh08jIK8prYzu6jRwp9XtGk4UbGRZwUjw4BC1OGEcBdpgfJ8qe74Yh39534i72bjBKjfzluxZw7E3B4CJbpAnnDpP3l4fxL2WAgi9/C9ISrRLFAeH79xboCjTHC1H+ITJ4coTPy+Lf65EKm/IqZgT+3ai4Ai7bX7yBkSM8H8PsOUheJ2J/q4hSciyVfXaMmh9CPpFQ+TJFCFd7YQwDID9/YOWXIJWQTyN642rW2fDWiIx59ulzTRtb85QfSMsjPLEqfT/CcK1N4LA9x0aSDeEBWsFN8V1EJYdlwae5QereZ6Eh18yPCA5RAYNTeVe95JSyKZMO5x7+GP3DnYztWgdojepGwBxBBE5DXubk0D+4L8dyE+Td1oo6O46a867aAKqVF8vwMKnpLPWOrMzzfAzDBM0yQCYDaLMTA2Q8juenrTRCH4gBVtYdMPWD3fXOH3Q5+qkQHLmwyAlwfCrROcn14yivjY0Dh8gYAC5mYfiNb8hXyEAZw0S+nMRpclcfhZ9znYyoPaM8Y5nG1up9GRZJnL7EkynnU9DpRikLOZxtVt0T+NuHA9BMMn/FR/RKcuzrqG4+nmvradLhkk75eor7f5T34PSJ3sHXuXNA2ZjJ1VTr+v1FWdwknkj+0ic39am+Vufz4LQTXQHRayniZVxfbX5SWX+0i5rs3lv/Fv2wLlH/2TsW5pybeI+BMg+F8H5li4s7jDyr3xZOvqvptnZ5Ap8O2FaCcWV0ji7g9BchkFxMPEmdsNCO59vigajBruLJ8ZsIQNL7MzIne5e6gFNF8mwN0bvfGVEeruNtdoPr7wpK4b4UYPc6X8y3kNr6vOs7mgNOBaOmyy0Y/Fv70nJfRb29xBn1hXKlnYdv3U7XXuMKnes6URoLroaPaAxm4uQNp8w+L+BkVbj+zlDsJ1AV64ha5qVi5CP9NOR08hjPbbHgVE0NineT8wH4ifbVIT/ENJAr12q/t00fCdi/zCIzH+1Gvhk0RCYzz9Z8vno8iax2X4rs24Ab6Zxg9DhV/Coc5/wy5HQc1dM+rZ6rTeRmN8aB+4n39KlNSfOjH4thegSnNp0A1wBwTMTH2mG7y3R9qUTGurCz1tnBbf+XRdj5lwsTbmRhE1nY5i7KMZ2CwKnd7BV2z5btspyJSp0fjDcUiZyTXQJUrgui8q+APdnpQ9cP2kOm1JUZ/60QkeWweXMuW1MjxCHR18hiJyN/RpPJHwLkdDemlIv8RFLhQ9goMP0ltLRQYOqn4Mipsmsk938p0/o0Ck8dTvgpWO4pKZa7/9cqVyObD3CCSqOg8xC4a2mV3GkMr75etJ0Cp/6J1hlEpx6A+7r5iGoLff8dgPNWPoMupsC+6HR6Q3canE7S+WPO4mge+smNfJAI5AISf5Mf6yXTJ3A6l5aKigbRbb6NPdtLo8V/ijw0ej+Z392vB4Xg7DM4NwnbnOC785jiEfLNkycafpPue/sHSyPizI2qhfQAAAAASUVORK5CYII=",aU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAApUlEQVQ4y62TsQ3DIBBF/z9lAncZwzu4tOQlkJiJyEtYcukd3GQHdx4B3KQICRwg+bpD/wnu/wNoLH437skxrPbQAInoJbz4nvtqAABC5zcNiQCxPEsI43bu/RY6gKcMZq8Aygj/j3SEqWs1hOnR8ghzbuQQyQFml+FjslODK5VUPMneP3SjrY3BNa5G4/KV5T+2eleSJ3LQ5cAj+p4Tx7CaA3fWBQsUbqgvgYxLAAAAAElFTkSuQmCC",oU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJ0AAACQCAMAAAAlZpk6AAAAulBMVEUAAADS0tLS0tLS0tLR0dHS0tLS0tLS0tLS0tLR0dHS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLR0dHS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tL5+fn7+/vh4ODR0dH////Nzc3u7u7j4uLp6ene3t78/PzT09Pa2dnn5+fg4ODd3NzV1NTX1tbb29vk5OTx8fHY2NjMzMzz8/Pr6+v39/fBpVhOAAAAJHRSTlMAQ3yz/KUc22HrCzWtayMFild0FvfyKxHMmLw94sSQoILUTkikZ5ElAAAJnUlEQVR42uyY247bIBCGc2Gp7UXfwsNAMIMP+Gy//2vVUEeovdjBcermIp93pVWUXWa/MPDD7fbzG74n337ebt8R1XuC+P32A10x3N+PoXD444aqku9JpXCr7i7zd0TeH9XBGz7y/nH3cfdx93H3cff/+bh7hbs/y9650lSAEtxJyn1pdJ1R2IeUxLsbhPHUA10mbjEBPRPjDgY7YbYx2fkie7JQyg+J07gC07M9drUxRnRTdU0vEzRK91rrvsSF8q/nnUajhRDaqEpCfgGUN9hXHmMLYuadxkZs6MZXd4G7P6tj3MXq3tTd45PtL3K3dsnuoMfSeErfFVcA0Khae0q7cD07O7S4kbXzNQteLhdE68Fu5fYKGnQthKj90ngJAHCvTV3XppqJ2yvyxzvAf1/w+PoedeacOwj/zeONFxDqewzJuoP4S1e5i3Vy7nZp6e6AiM5IjjUludtJlEdz0S8rnXAHcUjWHc06NFDvG4h3QotDxHIget4d3cXvnl0h59a7EQNhvePNraUqmxZtv0o4ud4hNtx6B9W+V4xJe4W84yiEaFxW3p9L0yFBmV5vjMjtFSEFxATFPbLAUnhKVDqXJzMKVi/NKLE6YZwaC6Kr8t0Rd4FSKb3S6/Mdn415d0Ff5nh9vDv+XFGHc0Wau0iJKGaiJ84VHv5cAYNTgcnFxMC5i5hW4f2gPiqUyjyq5M5kIc4EBsrT3UU6RDMfXPuKx3mWvwsgSR7pX4VUdxFdt5Nd8kP65D4kfxcQE1QOB9xF9KYva47oiwmK3WdjhDrqLlK3ylV5enKJEQrY+zuSHoLD7iJBX3rzkgxQSjYefhOmzmF3UR/aKpdJ+mgdAjPw+U5nkyfr4YS7jc6qbkjRR2s3BbDiehaKrG087bTIE+426lHhpo9XJ1TZeCwOxGQUYXWxseipl3DC3YZuUJUDsftsh1XhSckoVlQeMSXvs18wKjfAKzNKrO6ku0CXGXhhRhF7dfqMu4h2boVkdxWf70ThEafmXcS2Kz/v+sLTIOcOlq1nu65rnDrTs3HTVT1xf0NPY9NtIN+zeY/Kg9WZ9S6ueWbN2XOdyZTHbeoYdwDzvnB7y6fcmTZzBVBCOh4CM3kfX7sD8oRN75y70ic9YlOiL29PbZAD4+6PyHDCnWnVJi7YYBNKhHe313XCXch4WM/BG+8u/pzgjn5zwp02TrUL7cXx7oACwLsDmgfPSvC0uw6VXiU8auOT8WNI3l3fukAFT7ozLtvEyV0c745W4wJtwbmDBW05jmNpt9cPuotn2iA+fn39SD25MGTmBs6dxpgCju8VurGqvOdxxvHuwk5WeRrk7gLOZZR6E1eHGce44zPK6/OdsdM4EPwl7k3y3ZhZvYZu+FfuQFtdbRT66LxrnBoHGWfcgXmXfgdVYDz1HOjZus1sFWfcAXdAYtpPPZbt2V/smluOwjAMRX9YSlwokPSJiPrY/7amcyMRlAm13Rnla26FVIQqm9M4bm2vtgkl5t44KTvUdvB6mHeOgTe3oaw9PvlcYa7LprsXNcqcb8YeGb8zH33jC/fX+7JpMynPs6J2BdmpeZxri1AlNTtInmfjryJ2xq23R9N27rLnGzFHtChgR5CEHQqrs19B+hfsgoTPdxCJ/jXhtoSTg+sOliDHsiPfD9baoffYGcWVt+PsyCwWJm+zY9iRH0OT/jTO7H4X6e6y4/fMYPLcroadqRgw9jMgVxRgRzScKphs+T5Z9cpkqAUcZ6fPs9oaVAF2ml5P4l0BdsoaVLyzhdihyvNt0jbdPrsYFRZRUYKdG+pKOH9H8zidYp+sxH53WeqgieuTJZNGJfY7tOb6atOT7ZPRe5+sxLoDJrfXJ8tNh+hneT6C+7M+WfI4o1P+9kqzNa7m2MWzI+xM6piQHQ6WXXSf9PCitXf/VOhyMZsDBmnRQQk4MTqGXY6wQomj+GjQcesuEw9qdNArgBXoOHa5WulBdPiuQ8etu+QCLbwf7FToOHaMUQ060qNj111WanSQGt0/uy/RIOwMgb3lwQf09EA7o9nVTcxtdAYfsDE3UWdnEFQfvECQgUFQVkR9MAIRWUEGIOCSZhyMQJqLYRQA2je3HUWBIAz3qKgIHpGDiqc1oS4IaQI0pt//xbYpOq6LXbA3e7Gb+S7n+6v6F5NJJ8N8881/wHp7HXewdtO3QHCzOt69PN68c3O7fnNi74GN+7EAA8M8oj3wLhCP1tovDrbB+0dH++nV6N0V6w3YKjDMds9lVnTIcg6HdVtuDKL+CJQS4raedwZRfsyXAu4rXQ4DXZpAwIYIbJ6Z3y+BHQYOIBITNUQLpdcuSKPP4dh+PBdyYoEKDHCFMjUOF9UsVN6ZCPLdnaXyD6JckkrYMsWPPbVAwpz149kiIchx+AZZmhD1z4vm0WZEu4y7zbOxOBFIMjiyfr72eUIOb9QXN64yKiDsFQvPVUF6fPjnKqGoZgNf7bav3YWxxZE+XU4C5kWioNt7akHUV98bbJdS34xul1AB3Y70wleHh5FaQLabDrYrMkXxvqL9SanbZTrwItUBge2Ux+l3MvSVje26Ab1AMdhuDhVXVJWsX6tzUXHEUu3uwDEg6kL7opTag8O8GKfz8tfRRa3nAaaqHQYEBjRNoD11P9DOuVrIGUAWzzR9JhJg5uLP3LlqN2r9OIaqTvAPagImR6tlysKbpYjUdPJMkbICf9zqQ6gW3Nw2IArUTwzoBRcV+BPCLwsqKYQUEG1Xn34dLG0QCsnh8nHJ9r7cZhqB/chZs27goQKopeD+yOksGGa9208arh4RCM7o4x8mubhNNPcTMwZGE83MFBhmiqxJv0Dv0dNIyAYD3/wtgvlu9DvLr9/9qM87pNYstt39u633vmDZXTB3mGZ1jeGD/fF1QGDy/vj0GrdpjSwj+OT+us0GY8MC2237nWbNbbJDLbk/1/eC2OBLye2tHqc1sj4Az8tuIq9gHKJ/2NxwvgBcML0D/tY3vFuKT281M/uS+047npMaGYHIDIFCgqVvu6VJ19xWC26QU//20lzX2AXqxEiJV9kL5LTG033qTiImP5S3oE6Jq7JqPyMvNBJO6tHFylNXEodN4yrp0YoN1AnV31L794K+cDkMyBtTzUfqnk2/ZV/z3ZBWnDn16YsqCtm8ZwHMqXaKjF+Ymq6p6ZJvhrRiVlGBQsxWbEcuSEtY9rY7fLf7l9vVz9TIs2jblZTP+GZIY7uUQmI7ekHTTtS5kVq27STtN0Ma2+VEIK+wHX1+064Hl7Flnz8MaYUPNP6K3aCH3U/jv4SSo0QSMgAAAABJRU5ErkJggg==";const pr=t=>(de("data-v-935faf50"),t=t(),fe(),t),lU={class:"details"},uU={class:"details-box-top"},cU=pr(()=>_("img",{src:js,alt:""},null,-1)),dU=[cU],fU=pr(()=>_("span",null,null,-1)),hU={class:"wrap"},gU={class:"detail-top"},vU=pr(()=>_("div",{class:"position"},[_("img",{src:sU,alt:""})],-1)),pU={key:0},mU=pr(()=>_("div",{class:"wu"},[_("span",null,"\u6682\u65E0\u8BE5\u5F71\u9662\u7684\u5F71\u7247\u4FE1\u606F")],-1)),yU=[mU],_U={key:1,class:"post"},AU=pr(()=>_("div",{class:"mask"},null,-1)),EU={class:"mask-bg"},bU={class:"post-filer"},TU=["onClick"],SU={key:2,class:"moviename"},kU={class:"box"},wU={class:"box-top"},CU={class:"title"},RU={key:0,class:"fen"},xU={key:1,class:"fen"},IU={class:"desc"},LU={key:0},DU={key:0,class:"discount"},OU=pr(()=>_("p",null,"\u6298\u6263",-1)),PU=pr(()=>_("img",{src:aU,alt:""},null,-1)),FU={key:1},MU={class:"detail-btm"},BU={key:0,class:"tns"},NU=pr(()=>_("img",{src:oU,alt:""},null,-1)),UU=pr(()=>_("h2",null,"\u4ECA\u65E5\u573A\u6B21\u5DF2\u6620\u5B8C",-1)),$U=[NU,UU],GU={key:1},HU={class:"fl"},jU={class:"cen"},KU={class:"cen-btm"},VU={class:"fr"},WU={class:"fr-top"},zU={class:"col"},YU={class:"col-te"},qU={key:0,class:"vipprice"},QU={class:"icon"},ZU={class:"num"},JU={class:"ext"},XU=["onClick"],t6=pr(()=>_("span",null,"\u8D2D\u7968",-1)),e6=[t6],n6={key:0,class:"lodaing"},r6=pr(()=>_("div",{class:"img"},[_("img",{class:"img1",src:yi,alt:""}),_("img",{class:"img2",src:_i,alt:""})],-1)),i6=[r6],s6={__name:"CinemaDetails",setup(t){Z(23.4),Z(113.3),Z(20);const e=ze(),n=Z(!1),s=kr().query.cinemaId,o=Z(),u=Z({}),m=Z({}),p=Z({}),l=Z({});Xt(()=>{n.value=!0,Iv({cinemaId:s}).then(T=>{var E,A,w,L,x;p.value=(E=T.data.data.movies[0])==null?void 0:E.shows,l.value=(A=T.data.data)==null?void 0:A.movies[0],u.value=T.data.data,o.value=(x=(L=(w=l.value)==null?void 0:w.desc)==null?void 0:L.split("|")[0])==null?void 0:x.split("\u5206\u949F")[0],n.value=!1})});const y=Z({});Xt(()=>{n.value=!0,Xx({cinemaId:s}).then(T=>{y.value=T.data.data,n.value=!1})});const v=Z(null),f=Z(null);hn(()=>{b(0)});const b=T=>{v.value.style.transform="translate3d("+Number(137.5-T*80)+"rem, 0rem, 0rem)",v.value.style.transitionDuration=" 0ms;"},S=Z(0),d=T=>{S.value=T,l.value=[],p.value=[],m.value=[],Iv({cinemaId:s}).then(E=>{var A;l.value=E.data.data.movies[T],p.value=(A=E.data.data.movies[T])==null?void 0:A.shows,m.value=E.data.data.movies[T]})};function h(T){let A=T.showDate.split("-"),w=new Date,x=new Date(A[0],String(A[1]-1),A[2]).getDay(),D=w.getDate();if(A[2]==D)return"\u4ECA\u5929"+A[1]+"\u6708"+A[2]+"\u65E5";if(A[2]==Number(D)+1)return"\u660E\u5929"+A[1]+"\u6708"+A[2]+"\u65E5";if(A[2]==Number(D)+2)return"\u540E\u5929"+A[1]+"\u6708"+A[2]+"\u65E5";if(x==1)return"\u661F\u671F\u4E00"+A[1]+"\u6708"+A[2]+"\u65E5";if(x==2)return"\u661F\u671F\u4E8C"+A[1]+"\u6708"+A[2]+"\u65E5";if(x==3)return"\u661F\u671F\u4E09"+A[1]+"\u6708"+A[2]+"\u65E5";if(x==4)return"\u661F\u671F\u56DB"+A[1]+"\u6708"+A[2]+"\u65E5";if(x==5)return"\u661F\u671F\u4E94"+A[1]+"\u6708"+A[2]+"\u65E5";if(x==6)return"\u661F\u671F\u516D"+A[1]+"\u6708"+A[2]+"\u65E5";if(x==0)return"\u661F\u671F\u65E5"+A[1]+"\u6708"+A[2]+"\u65E5"}const c=Z(0);function g(T){let E=T.split(":"),A=l.value.desc.split("|")[0].split("\u5206\u949F")[0];return A>60&&A<120?(E[0]=Number(E[0])+1,E[1]=Number(E[1])+(A-60),E[1]>=60&&(E[0]=E[0]+1,E[1]=E[1]-60,E[1]<10&&(E[1]="0"+E[1])),E[0]==24?E[0]="00":E[0]==25&&(E[0]="01")):A>120&&(E[0]=Number(E[0])+2,E[1]=Number(E[1])+(A-120),E[1]>=60&&(E[0]=E[0]+1,E[1]=E[1]-60,E[1]<10&&(E[1]="0"+E[1])),E[0]==24?E[0]="00":E[0]==25&&(E[0]="01")),E[0]+":"+E[1]}return(T,E)=>{var x,D,k,R,I;const A=Wt("van-image"),w=Wt("van-tab"),L=Wt("van-tabs");return N(),$("div",lU,[_("div",uU,[_("span",{onClick:E[0]||(E[0]=O=>T.$router.back())},dU),_("span",null,Q(y.value.nm),1),fU]),_("div",hU,[_("div",gU,[_("div",null,[_("h3",null,Q(y.value.nm),1),_("p",null,Q(y.value.addr),1)]),vU]),l.value?pt("",!0):(N(),$("div",pU,yU)),l.value?(N(),$("div",_U,[AU,_("div",EU,[at(A,{width:"100%",height:"100%",src:`${(x=l.value)==null?void 0:x.img}`},null,8,["src"])]),_("div",bU,[_("ul",{class:"item",ref_key:"item",ref:v},[(N(!0),$(ht,null,At(u.value.movies,(O,P)=>(N(),$("li",{ref_for:!0,ref_key:"itemli",ref:f,key:P,onClick:F=>(d(P),b(P)),class:Kt({active:S.value==P})},[_("div",{class:Kt(["img",{activeimg:S.value==P}])},[at(A,{width:"65",height:"95",src:O?`${O==null?void 0:O.img}`:""},null,8,["src"])],2)],10,TU))),128))],512)])])):pt("",!0),l.value?(N(),$("div",SU,[_("div",kU,[_("div",wU,[_("span",CU,Q((D=l.value)==null?void 0:D.nm),1),((k=l.value)==null?void 0:k.sc)!=0?(N(),$("span",RU,Q((R=l.value)==null?void 0:R.sc)+"\u5206",1)):(N(),$("span",xU,"\u6682\u65E0\u8BC4\u5206"))]),_("span",IU,Q((I=l.value)==null?void 0:I.desc),1)])])):pt("",!0),at(L,{active:c.value,"onUpdate:active":E[1]||(E[1]=O=>c.value=O),"line-width":"70rem","swipe-threshold":"2"},{default:Jt(()=>{var O;return[(N(!0),$(ht,null,At((O=l.value)==null?void 0:O.shows,(P,F)=>(N(),ie(w,{key:F,title:h(P)},{default:Jt(()=>{var U,B,H,V,q,et,rt,ot,J,W;return[(U=l.value)!=null&&U.shows?(N(),$("div",LU,[(H=(B=u.value)==null?void 0:B.vipInfo)!=null&&H.length?(N(),$("div",DU,[OU,_("h2",null,Q((V=u.value)!=null&&V.vipInfo?(et=(q=u.value)==null?void 0:q.vipInfo[0])==null?void 0:et.title:""),1),_("span",null,Q((rt=u.value)!=null&&rt.vipInfo?(J=(ot=u.value)==null?void 0:ot.vipInfo[0])==null?void 0:J.process:""),1),PU])):pt("",!0)])):pt("",!0),(W=l.value)!=null&&W.shows?(N(),$("div",FU,[(N(!0),$(ht,null,At(l.value.shows,(st,it)=>(N(),$("div",{class:"datelisitem",key:it},[Le(_("div",MU,[p.value[it].plist.length==0?(N(),$("div",BU,$U)):pt("",!0),p.value[it].plist.length?(N(),$("ul",GU,[(N(!0),$(ht,null,At(p.value[it].plist,(j,gt)=>(N(),$("li",{key:gt},[_("div",HU,[_("h3",null,Q(j.tm),1),_("span",null,Q(g(j.tm))+"\u6563\u573A",1)]),_("div",jU,[_("p",null,[Vt(Q(j.lang)+" ",1),_("span",null,Q(j.tp),1)]),_("p",KU,Q(j.th),1)]),_("div",VU,[_("div",WU,[_("p",zU,[Vt(" \uFFE5"),_("span",YU,Q(j.baseSellPrice),1)]),j.vipPriceName?(N(),$("div",qU,[_("span",QU,Q(j.vipPriceName),1),_("span",ZU,"\uFFE5"+Q(j.vipPrice),1)])):pt("",!0)]),_("span",JU,Q(j.extraDesc),1)]),_("div",{class:"btn",onClick:Qe(bt=>{var It,z;return T.$router.push({path:"/buyTicket"}),X(e).getTick({name:y.value.nm,ting:j.th,movie:(It=l.value)==null?void 0:It.nm,date:h(st),times:j.tm,timed:g(j.tm),model1:j.lang,model2:j.tp,img:(z=l.value)==null?void 0:z.img,money:j.baseSellPrice})},["stop"])},e6,8,XU)]))),128))])):pt("",!0)],512),[[Ze,it==c.value]])]))),128))])):pt("",!0)]}),_:2},1032,["title"]))),128))]}),_:1},8,["active"])]),n.value?(N(),$("div",n6,i6)):pt("",!0)])}}},a6=Te(s6,[["__scopeId","data-v-935faf50"]]);const o6=t=>(de("data-v-4720e96f"),t=t(),fe(),t),l6={class:"searchlistview"},u6={class:"searchlistview-list"},c6={class:"list-wrap"},d6=["onClick"],f6=["src"],h6={class:"info"},g6={class:"name-score"},v6={class:"name"},p6=o6(()=>_("span",null,null,-1)),m6=["innerHTML"],y6={class:"detail-section"},_6={class:"detail-items"},A6={class:"ename"},E6={class:"catogary"},b6={class:"release"},T6=["onClick"],S6={class:"info"},k6={class:"name-price"},w6={class:"address"},C6={class:"feature-tags"},R6={class:"distance"},x6={__name:"SearchListView",setup(t){yd().use(E0);const n=Z(23.4),i=Z(113.3),s=Z(20),o=jt(()=>b=>b!=null&&b.score?(b==null?void 0:b.score)==0?"<span style='font-size: 14rem;color:#666'>\u6682\u65E0\u8BC4\u5206</span>":(b==null?void 0:b.score)+"<span style='font-size: 10rem'>\u5206</span>":(b==null?void 0:b.wish)==0?"<span style='font-size: 14rem;color:#666'>\u6682\u65E0\u8BC4\u5206</span>":(b==null?void 0:b.wish)+"<span style='font-size: 10rem'>\u4EBA\u60F3\u770B</span>");let u=Z(0);const m=()=>{y.query.ismovies=="true"?AN({kw:y.query.kw,offset:u*20}).then(b=>{p.value=!1,v.value.push(...b.data),u++,b.data.length<20&&(l.value=!0)}):EN({kw:y.query.kw,offset:u*20}).then(b=>{p.value=!1,f.value.push(...b.data),u++,b.data.length<20&&(l.value=!0)})},p=Z(!1),l=Z(!1),y=kr();let v=Z([]),f=Z([]);return(b,S)=>{const d=Wt("van-list");return N(),$("div",l6,[_("section",u6,[_("div",c6,[at(d,{loading:p.value,"onUpdate:loading":S[0]||(S[0]=h=>p.value=h),finished:l.value,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:m},{default:Jt(()=>[X(v)?(N(!0),$(ht,{key:0},At(X(v),h=>(N(),$("div",{class:"movie-card",key:h.id,onClick:c=>b.$router.push({path:"/filmdetails",query:{id:h.id}})},[_("img",{src:h==null?void 0:h.poster,alt:""},null,8,f6),_("div",h6,[_("div",g6,[_("div",v6,[_("span",null,Q(h.name),1),p6]),_("div",{class:"wish",innerHTML:X(o)(h)},null,8,m6)]),_("div",y6,[_("div",_6,[_("p",A6,Q(h.ename),1),_("p",E6,Q(h.catogary),1),_("p",b6,Q(h.release),1)])])])],8,d6))),128)):pt("",!0),X(f)?(N(!0),$(ht,{key:1},At(X(f),h=>(N(),$("div",{class:"cinema-card",key:h.id,onClick:Qe(c=>b.$router.push({path:"/ticket",query:{id:h.id,lat:n.value,lng:i.value,cityId:s.value}}),["stop"])},[_("div",S6,[_("div",k6,[_("span",null,Q(h.info.name),1),_("span",null,[_("span",null,Q(h.info.price),1),Vt(" \u5143\u8D77 ")])]),_("div",w6,Q(h.info.address),1),_("div",C6,[(N(!0),$(ht,null,At(h.info.tags,c=>(N(),$("span",{class:Kt({featrue:c=="\u5C0F\u5403"})},Q(c),3))),256))])]),_("div",R6,Q(h.distance),1)],8,T6))),128)):pt("",!0)]),_:1},8,["loading","finished"])])])])}}},I6=Te(x6,[["__scopeId","data-v-4720e96f"]]),L6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAMAAACfWMssAAAAbFBMVEUAAACNf3+NgICOgYGNf3+Nfn6Nf3+YhoaNgICPgYGNgICNf3+Nfn6TgoKYhYWMf3+Mfn6Rg4ONfn6Mfn6Nfn62gICMfn6Mfn6PgYGVhoaNfn6Nfn6Nf3+RgICOgICNf3+Nf3+QgICNgICMfn4cgw8rAAAAI3RSTlMA5JgzndJ2CGRHOt1oGA3qxx78zLME8/A/EsGsVClXo40uhAP9iy4AAAFWSURBVEjH7ZbbdoIwEEVzI0AEVATFa2vP//9jXcE0sfXCzGvdj7A2EHJmMuL/UuvyUFhbHEpdT3Xywe4lEuTeDvlLTasN7rBR+pnVVxkeklX9I8957Ynq7mpbg5eY7V9vOcMEZsvf3lFiEvJ46+k5JjLXqddITEY2iWhAwESvBIkyeLkECRkCWIBIcRVXILK6bj3IjDGoQKYKe0FFeXFxEwylJEZ2n12oRqNuk7zwokyXvRWiWfx8Ttn6ZNdC5B0SpBfXiDgf3PjQD1w4+S6EhLW/2SLic9jHZVhcGAtijkgbrvDemHHXuOP+VcXdxxM3OTU3qyJjVof44tajBrkD8Cq5FIECzC7XSzD7agHwOnmfAbyzwwHgnVYGAOt8bHz8OSeya+GhzwAWAerUsUeENOc0yZ6480CYrJYyeJ2gcQ4tVgsiw2gaohb64S4XdJzpbC7eeL4BjOjqPqJI0OEAAAAASUVORK5CYII=",D6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAMAAACfWMssAAACEFBMVEUAAAB7a+fv2Tdw3mv/ekPJ1/96sP/a/3b/owMBwP0BwP3/owP/owXx3z7/kTEXyv//2Tz/qlXv2TZs2FIBv/37dED/owMBwP3v2Tb/owRs2FMCwP36dEECwP37dUHv2jb/owV9bOnx2zcEwP//pASEbfKEdPD/kT1s2FL/ogNr11P7c0Dv2DcBwP18auj/owNr2FP7c0Hu2TZ7auj7c0EBv/1r11Pv2TZ7a+hs11MBwP3/owR7auj6c0B7a+h7a+j7c0Du2Tb/owQBwPxs2FP/owP/owNs2FL/owP7dEH/owTv2TZ8augCwP1s2VMCwP1r2FR8auj6dUECwP38dUEDwPxt2VT/pAYDwf5r2lT7dkF8ber6c0IFwP//owZv21QHxf8Jwv+AbOvx3TsLxP//rAz/kTL/5k0n2f97a+f7c0D/ogNs2FL/owP7dEFs2FJs11P6dED6dEHu2Tds11IBwPz7dEABwPzv2DZ7auhr2FPu2Dd8a+d7audr2FP/owQCwPzv2Dbv2TcCwP36dEHu2Tf/owN8a+kCwP17a+jv2Ddt11N9audr2FR7a+jw2Djw2Db/pAR9bOn8dEL/pAXv2Td9a+dt2FXw2zds2FX8dEIDwf9+bOls11T7d0Tx2jhr21f/owXz2zv/qAf/oght21uEcez/qgkQv/9t21t7auf6c0Du2DZr11IBv/z/ogPPQhWyAAAAqnRSTlMA1+kHFwEDAvz76eNkEQ0KBgP6+Pbt29rQysSpo4Z3bGlaR0E4EgsK/Pf08/Hw7uvp6OXk5ODg3t3a1dXU0c7Ix8fEs6WknpqQjIKBgHl2c3BvbGtfXVxaVEdGOzQwLCYlHRoaFRQSCgb29vLv6eXj4d7Y19PKysbAvry5t7ayrKqko52amZiUkZGQjYuDend2c2ZhX11WVFROTUpHQDw3Mi8rIyEcGxsQDl4MY+kAAAKOSURBVEjH7dP1V9tQFMDxy6AUqFDc21JgRcZgOAwZ7j58sI0Nmbu7u7u7PdrkX1zfO7RJ7ktC+zvfX5LTns/JTXID64Wa+70983RS0uFjDS9CUHHTmUUr/va7AWA+Mghm2F6xIi8CYJiUZxvWcju2KRiD9YSQphl9N4IYg2GEdkd33i3akFzaqAO7dSBp/K0jp49rQ1KTp0aMZqeVvgx7kSYkF9Xus0cUTRP0JCJTE5I+3s1Fib5avtHzzw0ISn3kBk0TWVFdi3TekSQNWI+HNYv+Ssx0SxZv8pCVjeBWUSotV9ohDoYpL5krKupYYFtL18GKIHmtgO2iskM/6a/W7go7YPhY7mwFIsoM/hBszFNOimpxq8Ma9H05lSx5wghqsPw5fhkdcmZyxgENw83D/OeRJrGSZzYABBnrY2y2tXhQ7S0e6LECVxMh+x6yZ7LrqiAIMSCVLLIKuhZApZlz9+bpcfeNaAFBE1vT23/o+Z5bqW/V+N67lPFXjGr/wdj9eI+nmmd/sxKF1SpB6qXpyhw9Wno3eXxtwCy2v1gIVAe4pSeU8XB5NEaQlYGYzVHGFIaRY5WCokEFM76qpoSHsWcEVI7cWVL9CMNJ7KJj5dDhwXCgsO0XewspCoZv0YWhMcHrLRwIp7NmJaJJFTUjGO6l1U6xRWuVuRSDErp4yLq8k/77QZp3FFDNPGQlPKLzLvevznsqEsMv8QgGOvqGbXgGe6SzwOXAUOo8mzenThCyQKVrGErlP/hHd2hyzKAGl1IRlFc6Lhkuy1k5xLWBdrbrOjAB9OqN14L5Q6Db9ws+WMbD9K+wVq4TnqcYVo1DEBks9PssDaiDnZ8MEHzv0k/WVh1J7xyaCof1Quw/dWvMde9rAS0AAAAASUVORK5CYII=",O6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAMAAACfWMssAAAA81BMVEUAAAAC1mkE1GkE02gB12kF0mgG0WgH0GgA2GoIz2cD1moC12oJ1m8U3XMn4X4B2moC12kC12sE1moD1moI3nKA/4AH0mkF1moE1msG120J3nBO/5wE1moD2msE1moH0mkC12sC2GoE1msC2W0G1GoF12sE1msD2GoG1GoG1W0G2G4G2G4G0WkH0WkI02kC2WsE1moE1WoE1moE1moJ0GgD2GsK3W0P3nAHz2cD1GkJ0GkA2msB2GsE1WsB2GoI0mgI0GgJ0GkI02oB2WsB2GwJ02oI02kF0mgC12oJz2kJz2gG1GkH02oB2WsC2msKzmcI0WrdwDuZAAAAUXRSTlMA9fX19fX19fX15c0iCwb18+nhehsCsYJgLhQDoFLdw6SbcGplVkpHPToyJvDXyMW0rZeMiU8YEfPt5uPY0ru7qKKWiHNqQvPv6+Hgq5KEg15h1H/IAAACvklEQVRIx+2T55aiQBBGPxADihgwZ8ecw7g6Oee0+/5Ps6XdDcIguvt3954+p7qwLg1ShX+QQr+Te2iUu6k/svrGJBQLMS7mreiBWjkSMiE/Fjv/OuTcjqVZxO/3nVr8UkIhJaTQEhLLLzqe3vJKIUJMdkTDw1tFFA8+i7s8nc6TFImWu1nfJZZ4AZlrKDjyxo7/UxIkwmuJlsg48a7rg16Kn3NptBOSWxZxe80jUXoMouGe5VzEiMT5ASLvnlXScDKQBEcgfjgyQQ9ODHmDJEtJjYYjIku0pQssI4Xl93DyIZuc1kphl6ySKR0bLTiZyF68lHIa3El+r/bJPloUk8ZyPdvlh/t67dNo5m3iMysUUGJyFwVS2UgsFuPjfV572jqRFQvZ4r0NDOpxx7BNzJcdOwXxmAOg8bI1mWLwZksmzn0+v89Pi0liH84jOlUsrClVzlnnli2BoMD2bUSvbHNCS8TEphv0d7+JJc6AqW3QbHIiDyJrEwP+AK2hhqbESF5KJuFInG0m62nRhlS5hoKQb5DiE5VNoxPnXklHP7HVyY9MNKG0hSw/Yz0VNS6uAHE9uRnQWcDBMJquUGdTwQWIOWv1uE57Q2K0QRRGDnGMnswpA5ro/AdgNeL7OtYsx5v6YCDIyCAnC2Z1a2Km84rYVrEhmglucwfDre3NSFTATXVbXOBYdK9dsG50ysV+ULWdeOTbwyUXH7lIQVXVDMpm1+4gw8VbKh8uCvnmbXX0qr5B8xO21neQ5eJIVW80cPQicO1oQqc4AGOR6cHGL1uZ1ZT8RtfYRbEaMLFJG5572En+hNqBekK0Bi0rZuFBzuwlIZmxqsOLZnAH0yi8aZ1Rlfl1zS99rWMfqYzKBC4zbnEA3Q/1G2MchPZ4c8aEk+rPp+abqr7iUNKFQfepn9JBrBYnZ2n8FakU/rOH38AvRFrZ6GeGAAAAAElFTkSuQmCC";var P6=Object.defineProperty,F6=Object.defineProperties,M6=Object.getOwnPropertyDescriptors,Wv=Object.getOwnPropertySymbols,B6=Object.prototype.hasOwnProperty,N6=Object.prototype.propertyIsEnumerable,zv=(t,e,n)=>e in t?P6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yc=(t,e)=>{for(var n in e||(e={}))B6.call(e,n)&&zv(t,n,e[n]);if(Wv)for(var n of Wv(e))N6.call(e,n)&&zv(t,n,e[n]);return t},qc=(t,e)=>F6(t,M6(e));function Yv(t,e,n,i){var s,o=!1,u=0;function m(){s&&clearTimeout(s)}function p(){for(var l=arguments.length,y=new Array(l),v=0;v<l;v++)y[v]=arguments[v];var f=this,b=Date.now()-u;function S(){u=Date.now(),n.apply(f,y)}function d(){s=void 0}o||(i&&!s&&S(),m(),i===void 0&&b>t?S():e!==!0&&(s=setTimeout(i?d:S,i===void 0?t-b:t)))}return typeof e!="boolean"&&(i=n,n=e,e=void 0),p.cancel=function(){m(),o=!0},p}function qv(t,e,n){return n===void 0?Yv(t,e,!1):Yv(t,n,e!==!1)}function U6(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var R0={exports:{}};typeof window<"u"&&(R0.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(i,s,o){n.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:o})},n.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},n.t=function(i,s){if(1&s&&(i=n(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var u in i)n.d(o,u,function(m){return i[m]}.bind(null,u));return o},n.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return n.d(s,"a",s),s},n.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},n.p="/dist/",n(n.s="./src/hls.ts")}({"./node_modules/eventemitter3/index.js":function(t,e,n){var i=Object.prototype.hasOwnProperty,s="~";function o(){}function u(y,v,f){this.fn=y,this.context=v,this.once=f||!1}function m(y,v,f,b,S){if(typeof f!="function")throw new TypeError("The listener must be a function");var d=new u(f,b||y,S),h=s?s+v:v;return y._events[h]?y._events[h].fn?y._events[h]=[y._events[h],d]:y._events[h].push(d):(y._events[h]=d,y._eventsCount++),y}function p(y,v){--y._eventsCount==0?y._events=new o:delete y._events[v]}function l(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(s=!1)),l.prototype.eventNames=function(){var y,v,f=[];if(this._eventsCount===0)return f;for(v in y=this._events)i.call(y,v)&&f.push(s?v.slice(1):v);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(y)):f},l.prototype.listeners=function(y){var v=s?s+y:y,f=this._events[v];if(!f)return[];if(f.fn)return[f.fn];for(var b=0,S=f.length,d=new Array(S);b<S;b++)d[b]=f[b].fn;return d},l.prototype.listenerCount=function(y){var v=s?s+y:y,f=this._events[v];return f?f.fn?1:f.length:0},l.prototype.emit=function(y,v,f,b,S,d){var h=s?s+y:y;if(!this._events[h])return!1;var c,g,T=this._events[h],E=arguments.length;if(T.fn){switch(T.once&&this.removeListener(y,T.fn,void 0,!0),E){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,v),!0;case 3:return T.fn.call(T.context,v,f),!0;case 4:return T.fn.call(T.context,v,f,b),!0;case 5:return T.fn.call(T.context,v,f,b,S),!0;case 6:return T.fn.call(T.context,v,f,b,S,d),!0}for(g=1,c=new Array(E-1);g<E;g++)c[g-1]=arguments[g];T.fn.apply(T.context,c)}else{var A,w=T.length;for(g=0;g<w;g++)switch(T[g].once&&this.removeListener(y,T[g].fn,void 0,!0),E){case 1:T[g].fn.call(T[g].context);break;case 2:T[g].fn.call(T[g].context,v);break;case 3:T[g].fn.call(T[g].context,v,f);break;case 4:T[g].fn.call(T[g].context,v,f,b);break;default:if(!c)for(A=1,c=new Array(E-1);A<E;A++)c[A-1]=arguments[A];T[g].fn.apply(T[g].context,c)}}return!0},l.prototype.on=function(y,v,f){return m(this,y,v,f,!1)},l.prototype.once=function(y,v,f){return m(this,y,v,f,!0)},l.prototype.removeListener=function(y,v,f,b){var S=s?s+y:y;if(!this._events[S])return this;if(!v)return p(this,S),this;var d=this._events[S];if(d.fn)d.fn!==v||b&&!d.once||f&&d.context!==f||p(this,S);else{for(var h=0,c=[],g=d.length;h<g;h++)(d[h].fn!==v||b&&!d[h].once||f&&d[h].context!==f)&&c.push(d[h]);c.length?this._events[S]=c.length===1?c[0]:c:p(this,S)}return this},l.prototype.removeAllListeners=function(y){var v;return y?(v=s?s+y:y,this._events[v]&&p(this,v)):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=s,l.EventEmitter=l,t.exports=l},"./node_modules/url-toolkit/src/url-toolkit.js":function(t,e,n){var i,s,o,u,m;i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,s=/^([^\/?#]*)([^]*)$/,o=/(?:\/|^)\.(?=\/)/g,u=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,m={buildAbsoluteURL:function(p,l,y){if(y=y||{},p=p.trim(),!(l=l.trim())){if(!y.alwaysNormalize)return p;var v=m.parseURL(p);if(!v)throw new Error("Error trying to parse base URL.");return v.path=m.normalizePath(v.path),m.buildURLFromParts(v)}var f=m.parseURL(l);if(!f)throw new Error("Error trying to parse relative URL.");if(f.scheme)return y.alwaysNormalize?(f.path=m.normalizePath(f.path),m.buildURLFromParts(f)):l;var b=m.parseURL(p);if(!b)throw new Error("Error trying to parse base URL.");if(!b.netLoc&&b.path&&b.path[0]!=="/"){var S=s.exec(b.path);b.netLoc=S[1],b.path=S[2]}b.netLoc&&!b.path&&(b.path="/");var d={scheme:b.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment};if(!f.netLoc&&(d.netLoc=b.netLoc,f.path[0]!=="/"))if(f.path){var h=b.path,c=h.substring(0,h.lastIndexOf("/")+1)+f.path;d.path=m.normalizePath(c)}else d.path=b.path,f.params||(d.params=b.params,f.query||(d.query=b.query));return d.path===null&&(d.path=y.alwaysNormalize?m.normalizePath(f.path):f.path),m.buildURLFromParts(d)},parseURL:function(p){var l=i.exec(p);return l?{scheme:l[1]||"",netLoc:l[2]||"",path:l[3]||"",params:l[4]||"",query:l[5]||"",fragment:l[6]||""}:null},normalizePath:function(p){for(p=p.split("").reverse().join("").replace(o,"");p.length!==(p=p.replace(u,"")).length;);return p.split("").reverse().join("")},buildURLFromParts:function(p){return p.scheme+p.netLoc+p.path+p.params+p.query+p.fragment}},t.exports=m},"./node_modules/webworkify-webpack/index.js":function(t,e,n){function i(l){var y={};function v(b){if(y[b])return y[b].exports;var S=y[b]={i:b,l:!1,exports:{}};return l[b].call(S.exports,S,S.exports,v),S.l=!0,S.exports}v.m=l,v.c=y,v.i=function(b){return b},v.d=function(b,S,d){v.o(b,S)||Object.defineProperty(b,S,{configurable:!1,enumerable:!0,get:d})},v.r=function(b){Object.defineProperty(b,"__esModule",{value:!0})},v.n=function(b){var S=b&&b.__esModule?function(){return b.default}:function(){return b};return v.d(S,"a",S),S},v.o=function(b,S){return Object.prototype.hasOwnProperty.call(b,S)},v.p="/",v.oe=function(b){throw console.error(b),b};var f=v(v.s=ENTRY_MODULE);return f.default||f}var s="[\\.|\\-|\\+|\\w|/|@]+",o="\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)";function u(l){return(l+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function m(l,y,v){var f={};f[v]=[];var b=y.toString(),S=b.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!S)return f;for(var d,h=S[1],c=new RegExp("(\\\\n|\\W)"+u(h)+o,"g");d=c.exec(b);)d[3]!=="dll-reference"&&f[v].push(d[3]);for(c=new RegExp("\\("+u(h)+'\\("(dll-reference\\s('+s+'))"\\)\\)'+o,"g");d=c.exec(b);)l[d[2]]||(f[v].push(d[1]),l[d[2]]=n(d[1]).m),f[d[2]]=f[d[2]]||[],f[d[2]].push(d[4]);for(var g,T=Object.keys(f),E=0;E<T.length;E++)for(var A=0;A<f[T[E]].length;A++)g=f[T[E]][A],isNaN(1*g)||(f[T[E]][A]=1*f[T[E]][A]);return f}function p(l){return Object.keys(l).reduce(function(y,v){return y||l[v].length>0},!1)}t.exports=function(l,y){y=y||{};var v={main:n.m},f=y.all?{main:Object.keys(v.main)}:function(c,g){for(var T={main:[g]},E={main:[]},A={main:{}};p(T);)for(var w=Object.keys(T),L=0;L<w.length;L++){var x=w[L],D=T[x].pop();if(A[x]=A[x]||{},!A[x][D]&&c[x][D]){A[x][D]=!0,E[x]=E[x]||[],E[x].push(D);for(var k=m(c,c[x][D],x),R=Object.keys(k),I=0;I<R.length;I++)T[R[I]]=T[R[I]]||[],T[R[I]]=T[R[I]].concat(k[R[I]])}}return E}(v,l),b="";Object.keys(f).filter(function(c){return c!=="main"}).forEach(function(c){for(var g=0;f[c][g];)g++;f[c].push(g),v[c][g]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",b=b+"var "+c+" = ("+i.toString().replace("ENTRY_MODULE",JSON.stringify(g))+")({"+f[c].map(function(T){return JSON.stringify(T)+": "+v[c][T].toString()}).join(",")+`});
`}),b=b+"new (("+i.toString().replace("ENTRY_MODULE",JSON.stringify(l))+")({"+f.main.map(function(c){return JSON.stringify(c)+": "+v.main[c].toString()}).join(",")+"}))(self);";var S=new window.Blob([b],{type:"text/javascript"});if(y.bare)return S;var d=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(S),h=new window.Worker(d);return h.objectURL=d,h}},"./src/config.ts":function(t,e,n){n.r(e),n.d(e,"hlsDefaultConfig",function(){return w}),n.d(e,"mergeConfig",function(){return L}),n.d(e,"enableStreamingMode",function(){return x});var i=n("./src/controller/abr-controller.ts"),s=n("./src/controller/audio-stream-controller.ts"),o=n("./src/controller/audio-track-controller.ts"),u=n("./src/controller/subtitle-stream-controller.ts"),m=n("./src/controller/subtitle-track-controller.ts"),p=n("./src/controller/buffer-controller.ts"),l=n("./src/controller/timeline-controller.ts"),y=n("./src/controller/cap-level-controller.ts"),v=n("./src/controller/fps-controller.ts"),f=n("./src/controller/eme-controller.ts"),b=n("./src/utils/xhr-loader.ts"),S=n("./src/utils/fetch-loader.ts"),d=n("./src/utils/cues.ts"),h=n("./src/utils/mediakeys-helper.ts"),c=n("./src/utils/logger.ts");function g(){return(g=Object.assign||function(D){for(var k=1;k<arguments.length;k++){var R=arguments[k];for(var I in R)Object.prototype.hasOwnProperty.call(R,I)&&(D[I]=R[I])}return D}).apply(this,arguments)}function T(D,k){var R=Object.keys(D);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(D);k&&(I=I.filter(function(O){return Object.getOwnPropertyDescriptor(D,O).enumerable})),R.push.apply(R,I)}return R}function E(D){for(var k=1;k<arguments.length;k++){var R=arguments[k]!=null?arguments[k]:{};k%2?T(Object(R),!0).forEach(function(I){A(D,I,R[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(R)):T(Object(R)).forEach(function(I){Object.defineProperty(D,I,Object.getOwnPropertyDescriptor(R,I))})}return D}function A(D,k,R){return k in D?Object.defineProperty(D,k,{value:R,enumerable:!0,configurable:!0,writable:!0}):D[k]=R,D}var w=E(E({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:b.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:i.default,bufferController:p.default,capLevelController:y.default,fpsController:v.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:h.requestMediaKeySystemAccess,testBandwidth:!0,progressive:!1,lowLatencyMode:!0},{cueHandler:d.default,enableCEA708Captions:!0,enableWebVTT:!0,enableIMSC1:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:u.SubtitleStreamController,subtitleTrackController:m.default,timelineController:l.TimelineController,audioStreamController:s.default,audioTrackController:o.default,emeController:f.default});function L(D,k){if((k.liveSyncDurationCount||k.liveMaxLatencyDurationCount)&&(k.liveSyncDuration||k.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(k.liveMaxLatencyDurationCount!==void 0&&(k.liveSyncDurationCount===void 0||k.liveMaxLatencyDurationCount<=k.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(k.liveMaxLatencyDuration!==void 0&&(k.liveSyncDuration===void 0||k.liveMaxLatencyDuration<=k.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');return g({},D,k)}function x(D){var k=D.loader;k!==S.default&&k!==b.default?(c.logger.log("[config]: Custom loader detected, cannot enable progressive streaming"),D.progressive=!1):Object(S.fetchSupported)()&&(D.loader=S.default,D.progressive=!0,D.enableSoftwareAES=!0,c.logger.log("[config]: Progressive streaming enabled, using FetchLoader"))}},"./src/controller/abr-controller.ts":function(t,e,n){n.r(e);var i=n("./src/polyfills/number.ts"),s=n("./src/utils/ewma-bandwidth-estimator.ts"),o=n("./src/events.ts"),u=n("./src/utils/buffer-helper.ts"),m=n("./src/errors.ts"),p=n("./src/types/loader.ts"),l=n("./src/utils/logger.ts");function y(f,b){for(var S=0;S<b.length;S++){var d=b[S];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}var v=function(){function f(h){this.hls=void 0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=void 0,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=h;var c=h.config;this.bwEstimator=new s.default(c.abrEwmaSlowVoD,c.abrEwmaFastVoD,c.abrEwmaDefaultEstimate),this.registerListeners()}var b,S,d=f.prototype;return d.registerListeners=function(){var h=this.hls;h.on(o.Events.FRAG_LOADING,this.onFragLoading,this),h.on(o.Events.FRAG_LOADED,this.onFragLoaded,this),h.on(o.Events.FRAG_BUFFERED,this.onFragBuffered,this),h.on(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),h.on(o.Events.ERROR,this.onError,this)},d.unregisterListeners=function(){var h=this.hls;h.off(o.Events.FRAG_LOADING,this.onFragLoading,this),h.off(o.Events.FRAG_LOADED,this.onFragLoaded,this),h.off(o.Events.FRAG_BUFFERED,this.onFragBuffered,this),h.off(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),h.off(o.Events.ERROR,this.onError,this)},d.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},d.onFragLoading=function(h,c){var g,T=c.frag;T.type===p.PlaylistLevelType.MAIN&&(this.timer||(this.fragCurrent=T,this.partCurrent=(g=c.part)!=null?g:null,this.timer=self.setInterval(this.onCheck,100)))},d.onLevelLoaded=function(h,c){var g=this.hls.config;c.details.live?this.bwEstimator.update(g.abrEwmaSlowLive,g.abrEwmaFastLive):this.bwEstimator.update(g.abrEwmaSlowVoD,g.abrEwmaFastVoD)},d._abandonRulesCheck=function(){var h=this.fragCurrent,c=this.partCurrent,g=this.hls,T=g.autoLevelEnabled,E=g.config,A=g.media;if(h&&A){var w=c?c.stats:h.stats,L=c?c.duration:h.duration;if(w.aborted)return l.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);if(T&&!A.paused&&A.playbackRate&&A.readyState){var x=performance.now()-w.loading.start,D=Math.abs(A.playbackRate);if(!(x<=500*L/D)){var k=g.levels,R=g.minAutoLevel,I=k[h.level],O=w.total||Math.max(w.loaded,Math.round(L*I.maxBitrate/8)),P=Math.max(1,w.bwEstimate?w.bwEstimate/8:1e3*w.loaded/x),F=(O-w.loaded)/P,U=A.currentTime,B=(u.BufferHelper.bufferInfo(A,U,E.maxBufferHole).end-U)/D;if(!(B>=2*L/D||F<=B)){var H,V=Number.POSITIVE_INFINITY;for(H=h.level-1;H>R&&!((V=L*k[H].maxBitrate/(6.4*P))<B);H--);if(!(V>=F)){var q=this.bwEstimator.getEstimate();l.logger.warn("Fragment "+h.sn+(c?" part "+c.index:"")+" of level "+h.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+H+`
      Current BW estimate: `+(Object(i.isFiniteNumber)(q)?(q/1024).toFixed(3):"Unknown")+` Kb/s
      Estimated load time for current fragment: `+F.toFixed(3)+` s
      Estimated load time for the next fragment: `+V.toFixed(3)+` s
      Time to underbuffer: `+B.toFixed(3)+" s"),g.nextLoadLevel=H,this.bwEstimator.sample(x,w.loaded),this.clearTimer(),h.loader&&(this.fragCurrent=this.partCurrent=null,h.loader.abort()),g.trigger(o.Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:h,part:c,stats:w})}}}}}},d.onFragLoaded=function(h,c){var g=c.frag,T=c.part;if(g.type===p.PlaylistLevelType.MAIN&&Object(i.isFiniteNumber)(g.sn)){var E=T?T.stats:g.stats,A=T?T.duration:g.duration;if(this.clearTimer(),this.lastLoadedFragLevel=g.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var w=this.hls.levels[g.level],L=(w.loaded?w.loaded.bytes:0)+E.loaded,x=(w.loaded?w.loaded.duration:0)+A;w.loaded={bytes:L,duration:x},w.realBitrate=Math.round(8*L/x)}if(g.bitrateTest){var D={stats:E,frag:g,part:T,id:g.type};this.onFragBuffered(o.Events.FRAG_BUFFERED,D),g.bitrateTest=!1}}},d.onFragBuffered=function(h,c){var g=c.frag,T=c.part,E=T?T.stats:g.stats;if(!E.aborted&&g.type===p.PlaylistLevelType.MAIN&&g.sn!=="initSegment"){var A=E.parsing.end-E.loading.start;this.bwEstimator.sample(A,E.loaded),E.bwEstimate=this.bwEstimator.getEstimate(),g.bitrateTest?this.bitrateTestDelay=A/1e3:this.bitrateTestDelay=0}},d.onError=function(h,c){switch(c.details){case m.ErrorDetails.FRAG_LOAD_ERROR:case m.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},d.clearTimer=function(){self.clearInterval(this.timer),this.timer=void 0},d.getNextABRAutoLevel=function(){var h=this.fragCurrent,c=this.partCurrent,g=this.hls,T=g.maxAutoLevel,E=g.config,A=g.minAutoLevel,w=g.media,L=c?c.duration:h?h.duration:0,x=w?w.currentTime:0,D=w&&w.playbackRate!==0?Math.abs(w.playbackRate):1,k=this.bwEstimator?this.bwEstimator.getEstimate():E.abrEwmaDefaultEstimate,R=(u.BufferHelper.bufferInfo(w,x,E.maxBufferHole).end-x)/D,I=this.findBestLevel(k,A,T,R,E.abrBandWidthFactor,E.abrBandWidthUpFactor);if(I>=0)return I;l.logger.trace((R?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var O=L?Math.min(L,E.maxStarvationDelay):E.maxStarvationDelay,P=E.abrBandWidthFactor,F=E.abrBandWidthUpFactor;if(!R){var U=this.bitrateTestDelay;U&&(O=(L?Math.min(L,E.maxLoadingDelay):E.maxLoadingDelay)-U,l.logger.trace("bitrate test took "+Math.round(1e3*U)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*O)+" ms"),P=F=1)}return I=this.findBestLevel(k,A,T,R+O,P,F),Math.max(I,0)},d.findBestLevel=function(h,c,g,T,E,A){for(var w,L=this.fragCurrent,x=this.partCurrent,D=this.lastLoadedFragLevel,k=this.hls.levels,R=k[D],I=!(R==null||(w=R.details)===null||w===void 0||!w.live),O=R==null?void 0:R.codecSet,P=x?x.duration:L?L.duration:0,F=g;F>=c;F--){var U=k[F];if(U&&(!O||U.codecSet===O)){var B=U.details,H=(x?B==null?void 0:B.partTarget:B==null?void 0:B.averagetargetduration)||P,V=void 0;V=F<=D?E*h:A*h;var q=k[F].maxBitrate,et=q*H/V;if(l.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+F+"/"+Math.round(V)+"/"+q+"/"+H+"/"+T+"/"+et),V>q&&(!et||I&&!this.bitrateTestDelay||et<T))return F}}return-1},b=f,(S=[{key:"nextAutoLevel",get:function(){var h=this._nextAutoLevel,c=this.bwEstimator;if(!(h===-1||c&&c.canEstimate()))return h;var g=this.getNextABRAutoLevel();return h!==-1&&(g=Math.min(h,g)),g},set:function(h){this._nextAutoLevel=h}}])&&y(b.prototype,S),f}();e.default=v},"./src/controller/audio-stream-controller.ts":function(t,e,n){n.r(e);var i=n("./src/polyfills/number.ts"),s=n("./src/controller/base-stream-controller.ts"),o=n("./src/events.ts"),u=n("./src/utils/buffer-helper.ts"),m=n("./src/controller/fragment-tracker.ts"),p=n("./src/types/level.ts"),l=n("./src/types/loader.ts"),y=n("./src/loader/fragment.ts"),v=n("./src/demux/chunk-cache.ts"),f=n("./src/demux/transmuxer-interface.ts"),b=n("./src/types/transmuxer.ts"),S=n("./src/controller/fragment-finders.ts"),d=n("./src/utils/discontinuities.ts"),h=n("./src/errors.ts"),c=n("./src/utils/logger.ts");function g(){return(g=Object.assign||function(A){for(var w=1;w<arguments.length;w++){var L=arguments[w];for(var x in L)Object.prototype.hasOwnProperty.call(L,x)&&(A[x]=L[x])}return A}).apply(this,arguments)}function T(A,w){return(T=Object.setPrototypeOf||function(L,x){return L.__proto__=x,L})(A,w)}var E=function(A){var w,L;function x(k,R){var I;return(I=A.call(this,k,R,"[audio-stream-controller]")||this).videoBuffer=null,I.videoTrackCC=-1,I.waitingVideoCC=-1,I.audioSwitch=!1,I.trackId=-1,I.waitingData=null,I.mainDetails=null,I.bufferFlushed=!1,I._registerListeners(),I}L=A,(w=x).prototype=Object.create(L.prototype),w.prototype.constructor=w,T(w,L);var D=x.prototype;return D.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},D._registerListeners=function(){var k=this.hls;k.on(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),k.on(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),k.on(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),k.on(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),k.on(o.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),k.on(o.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),k.on(o.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),k.on(o.Events.ERROR,this.onError,this),k.on(o.Events.BUFFER_RESET,this.onBufferReset,this),k.on(o.Events.BUFFER_CREATED,this.onBufferCreated,this),k.on(o.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),k.on(o.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),k.on(o.Events.FRAG_BUFFERED,this.onFragBuffered,this)},D._unregisterListeners=function(){var k=this.hls;k.off(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),k.off(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),k.off(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),k.off(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),k.off(o.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),k.off(o.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),k.off(o.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),k.off(o.Events.ERROR,this.onError,this),k.off(o.Events.BUFFER_RESET,this.onBufferReset,this),k.off(o.Events.BUFFER_CREATED,this.onBufferCreated,this),k.off(o.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),k.off(o.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),k.off(o.Events.FRAG_BUFFERED,this.onFragBuffered,this)},D.onInitPtsFound=function(k,R){var I=R.frag,O=R.id,P=R.initPTS;if(O==="main"){var F=I.cc;this.initPTS[I.cc]=P,this.log("InitPTS for cc: "+F+" found from main: "+P),this.videoTrackCC=F,this.state===s.State.WAITING_INIT_PTS&&this.tick()}},D.startLoad=function(k){if(!this.levels)return this.startPosition=k,void(this.state=s.State.STOPPED);var R=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,R>0&&k===-1?(this.log("Override startPosition with lastCurrentTime @"+R.toFixed(3)),this.state=s.State.IDLE):(this.loadedmetadata=!1,this.state=s.State.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=k,this.tick()},D.doTick=function(){switch(this.state){case s.State.IDLE:this.doTickIdle();break;case s.State.WAITING_TRACK:var k,R=this.levels,I=this.trackId,O=R==null||(k=R[I])===null||k===void 0?void 0:k.details;if(O){if(this.waitForCdnTuneIn(O))break;this.state=s.State.WAITING_INIT_PTS}break;case s.State.FRAG_LOADING_WAITING_RETRY:var P,F=performance.now(),U=this.retryDate;(!U||F>=U||(P=this.media)!==null&&P!==void 0&&P.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.state=s.State.IDLE);break;case s.State.WAITING_INIT_PTS:var B=this.waitingData;if(B){var H=B.frag,V=B.part,q=B.cache,et=B.complete;if(this.initPTS[H.cc]!==void 0){this.waitingData=null,this.waitingVideoCC=-1,this.state=s.State.FRAG_LOADING;var rt={frag:H,part:V,payload:q.flush(),networkDetails:null};this._handleFragmentLoadProgress(rt),et&&A.prototype._handleFragmentLoadComplete.call(this,rt)}else if(this.videoTrackCC!==this.waitingVideoCC)c.logger.log("Waiting fragment cc ("+H.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var ot=this.getLoadPosition(),J=u.BufferHelper.bufferInfo(this.mediaBuffer,ot,this.config.maxBufferHole);Object(S.fragmentWithinToleranceTest)(J.end,this.config.maxFragLookUpTolerance,H)<0&&(c.logger.log("Waiting fragment cc ("+H.cc+") @ "+H.start+" cancelled because another fragment at "+J.end+" is needed"),this.clearWaitingFragment())}}else this.state=s.State.IDLE}this.onTickEnd()},D.clearWaitingFragment=function(){var k=this.waitingData;k&&(this.fragmentTracker.removeFragment(k.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=s.State.IDLE)},D.onTickEnd=function(){var k=this.media;if(k&&k.readyState){var R=(this.mediaBuffer?this.mediaBuffer:k).buffered;!this.loadedmetadata&&R.length&&(this.loadedmetadata=!0),this.lastCurrentTime=k.currentTime}},D.doTickIdle=function(){var k,R,I=this.hls,O=this.levels,P=this.media,F=this.trackId,U=I.config;if(O&&O[F]&&(P||!this.startFragRequested&&U.startFragPrefetch)){var B=O[F].details;if(!B||B.live&&this.levelLastLoaded!==F||this.waitForCdnTuneIn(B))this.state=s.State.WAITING_TRACK;else{this.bufferFlushed&&(this.bufferFlushed=!1,this.afterBufferFlushed(this.mediaBuffer?this.mediaBuffer:this.media,y.ElementaryStreamTypes.AUDIO,l.PlaylistLevelType.AUDIO));var H=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,l.PlaylistLevelType.AUDIO);if(H!==null){var V=H.len,q=this.getMaxBufferLength(),et=this.audioSwitch;if(!(V>=q)||et){if(!et&&this._streamEnded(H,B))return I.trigger(o.Events.BUFFER_EOS,{type:"audio"}),void(this.state=s.State.ENDED);var rt=B.fragments[0].start,ot=H.end;if(et){var J=this.getLoadPosition();ot=J,B.PTSKnown&&J<rt&&(H.end>rt||H.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),P.currentTime=rt+.05)}var W=this.getNextFragment(ot,B);W?((k=W.decryptdata)===null||k===void 0?void 0:k.keyFormat)!=="identity"||(R=W.decryptdata)!==null&&R!==void 0&&R.key?this.loadFragment(W,B,ot):this.loadKey(W,B):this.bufferFlushed=!0}}}}},D.getMaxBufferLength=function(){var k=A.prototype.getMaxBufferLength.call(this),R=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,l.PlaylistLevelType.MAIN);return R===null?k:Math.max(k,R.len)},D.onMediaDetaching=function(){this.videoBuffer=null,A.prototype.onMediaDetaching.call(this)},D.onAudioTracksUpdated=function(k,R){var I=R.audioTracks;this.resetTransmuxer(),this.levels=I.map(function(O){return new p.Level(O)})},D.onAudioTrackSwitching=function(k,R){var I=!!R.url;this.trackId=R.id;var O=this.fragCurrent;O!=null&&O.loader&&O.loader.abort(),this.fragCurrent=null,this.clearWaitingFragment(),I?this.setInterval(100):this.resetTransmuxer(),I?(this.audioSwitch=!0,this.state=s.State.IDLE):this.state=s.State.STOPPED,this.tick()},D.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1},D.onLevelLoaded=function(k,R){this.mainDetails=R.details},D.onAudioTrackLoaded=function(k,R){var I,O=this.levels,P=R.details,F=R.id;if(O){this.log("Track "+F+" loaded ["+P.startSN+","+P.endSN+"],duration:"+P.totalduration);var U=O[F],B=0;if(P.live||(I=U.details)!==null&&I!==void 0&&I.live){var H=this.mainDetails;if(P.fragments[0]||(P.deltaUpdateFailed=!0),P.deltaUpdateFailed||!H)return;!U.details&&P.hasProgramDateTime&&H.hasProgramDateTime?(Object(d.alignPDT)(P,H),B=P.fragments[0].start):B=this.alignPlaylists(P,U.details)}U.details=P,this.levelLastLoaded=F,this.startFragRequested||!this.mainDetails&&P.live||this.setStartPosition(U.details,B),this.state!==s.State.WAITING_TRACK||this.waitForCdnTuneIn(P)||(this.state=s.State.IDLE),this.tick()}else this.warn("Audio tracks were reset while loading level "+F)},D._handleFragmentLoadProgress=function(k){var R,I=k.frag,O=k.part,P=k.payload,F=this.config,U=this.trackId,B=this.levels;if(B){var H=B[U];console.assert(H,"Audio track is defined on fragment load progress");var V=H.details;console.assert(V,"Audio track details are defined on fragment load progress");var q=F.defaultAudioCodec||H.audioCodec||"mp4a.40.2",et=this.transmuxer;et||(et=this.transmuxer=new f.default(this.hls,l.PlaylistLevelType.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var rt=this.initPTS[I.cc],ot=(R=I.initSegment)===null||R===void 0?void 0:R.data;if(rt!==void 0){var J=O?O.index:-1,W=J!==-1,st=new b.ChunkMetadata(I.level,I.sn,I.stats.chunkCount,P.byteLength,J,W);et.push(P,ot,q,"",I,O,V.totalduration,!1,st,rt)}else c.logger.log("Unknown video PTS for cc "+I.cc+", waiting for video PTS before demuxing audio frag "+I.sn+" of ["+V.startSN+" ,"+V.endSN+"],track "+U),(this.waitingData=this.waitingData||{frag:I,part:O,cache:new v.default,complete:!1}).cache.push(new Uint8Array(P)),this.waitingVideoCC=this.videoTrackCC,this.state=s.State.WAITING_INIT_PTS}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+I.sn+" of level "+I.level+" will not be buffered")},D._handleFragmentLoadComplete=function(k){this.waitingData?this.waitingData.complete=!0:A.prototype._handleFragmentLoadComplete.call(this,k)},D.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},D.onBufferCreated=function(k,R){var I=R.tracks.audio;I&&(this.mediaBuffer=I.buffer),R.tracks.video&&(this.videoBuffer=R.tracks.video.buffer)},D.onFragBuffered=function(k,R){var I=R.frag,O=R.part;I.type===l.PlaylistLevelType.AUDIO&&(this.fragContextChanged(I)?this.warn("Fragment "+I.sn+(O?" p: "+O.index:"")+" of level "+I.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+this.audioSwitch):(I.sn!=="initSegment"&&(this.fragPrevious=I,this.audioSwitch&&(this.audioSwitch=!1,this.hls.trigger(o.Events.AUDIO_TRACK_SWITCHED,{id:this.trackId}))),this.fragBufferedComplete(I,O)))},D.onError=function(k,R){switch(R.details){case h.ErrorDetails.FRAG_LOAD_ERROR:case h.ErrorDetails.FRAG_LOAD_TIMEOUT:case h.ErrorDetails.KEY_LOAD_ERROR:case h.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(l.PlaylistLevelType.AUDIO,R);break;case h.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case h.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:this.state!==s.State.ERROR&&this.state!==s.State.STOPPED&&(this.state=R.fatal?s.State.ERROR:s.State.IDLE,this.warn(R.details+" while loading frag, switching to "+this.state+" state"));break;case h.ErrorDetails.BUFFER_FULL_ERROR:if(R.parent==="audio"&&(this.state===s.State.PARSING||this.state===s.State.PARSED)){var I=!0,O=this.getFwdBufferInfo(this.mediaBuffer,l.PlaylistLevelType.AUDIO);O&&O.len>.5&&(I=!this.reduceMaxBufferLength(O.len)),I&&(this.warn("Buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,A.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.resetLoadingState()}}},D.onBufferFlushed=function(k,R){R.type===y.ElementaryStreamTypes.AUDIO&&(this.bufferFlushed=!0)},D._handleTransmuxComplete=function(k){var R,I="audio",O=this.hls,P=k.remuxResult,F=k.chunkMeta,U=this.getCurrentContext(F);if(!U)return this.warn("The loading context changed while buffering fragment "+F.sn+" of level "+F.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(F.level);var B=U.frag,H=U.part,V=P.audio,q=P.text,et=P.id3,rt=P.initSegment;if(!this.fragContextChanged(B)){if(this.state=s.State.PARSING,this.audioSwitch&&V&&this.completeAudioSwitch(),rt!=null&&rt.tracks&&(this._bufferInitSegment(rt.tracks,B,F),O.trigger(o.Events.FRAG_PARSING_INIT_SEGMENT,{frag:B,id:I,tracks:rt.tracks})),V){var ot=V.startPTS,J=V.endPTS,W=V.startDTS,st=V.endDTS;H&&(H.elementaryStreams[y.ElementaryStreamTypes.AUDIO]={startPTS:ot,endPTS:J,startDTS:W,endDTS:st}),B.setElementaryStreamInfo(y.ElementaryStreamTypes.AUDIO,ot,J,W,st),this.bufferFragmentData(V,B,H,F)}if(et!=null&&(R=et.samples)!==null&&R!==void 0&&R.length){var it=g({frag:B,id:I},et);O.trigger(o.Events.FRAG_PARSING_METADATA,it)}if(q){var j=g({frag:B,id:I},q);O.trigger(o.Events.FRAG_PARSING_USERDATA,j)}}},D._bufferInitSegment=function(k,R,I){if(this.state===s.State.PARSING){k.video&&delete k.video;var O=k.audio;if(O){O.levelCodec=O.codec,O.id="audio",this.log("Init audio buffer, container:"+O.container+", codecs[parsed]=["+O.codec+"]"),this.hls.trigger(o.Events.BUFFER_CODECS,k);var P=O.initSegment;if(P!=null&&P.byteLength){var F={type:"audio",frag:R,part:null,chunkMeta:I,parent:R.type,data:P};this.hls.trigger(o.Events.BUFFER_APPENDING,F)}this.tick()}}},D.loadFragment=function(k,R,I){var O=this.fragmentTracker.getState(k);this.fragCurrent=k,(this.audioSwitch||O===m.FragmentState.NOT_LOADED||O===m.FragmentState.PARTIAL)&&(k.sn==="initSegment"?this._loadInitSegment(k):R.live&&!Object(i.isFiniteNumber)(this.initPTS[k.cc])?(this.log("Waiting for video PTS in continuity counter "+k.cc+" of live stream before loading audio fragment "+k.sn+" of level "+this.trackId),this.state=s.State.WAITING_INIT_PTS):(this.startFragRequested=!0,A.prototype.loadFragment.call(this,k,R,I)))},D.completeAudioSwitch=function(){var k=this.hls,R=this.media,I=this.trackId;R&&(this.log("Switching audio track : flushing all audio"),A.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.audioSwitch=!1,k.trigger(o.Events.AUDIO_TRACK_SWITCHED,{id:I})},x}(s.default);e.default=E},"./src/controller/audio-track-controller.ts":function(t,e,n){n.r(e);var i=n("./src/events.ts"),s=n("./src/errors.ts"),o=n("./src/controller/base-playlist-controller.ts"),u=n("./src/types/loader.ts");function m(y,v){for(var f=0;f<v.length;f++){var b=v[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}function p(y,v){return(p=Object.setPrototypeOf||function(f,b){return f.__proto__=b,f})(y,v)}var l=function(y){var v,f;function b(c){var g;return(g=y.call(this,c,"[audio-track-controller]")||this).tracks=[],g.groupId=null,g.tracksInGroup=[],g.trackId=-1,g.trackName="",g.selectDefaultTrack=!0,g.registerListeners(),g}f=y,(v=b).prototype=Object.create(f.prototype),v.prototype.constructor=v,p(v,f);var S,d,h=b.prototype;return h.registerListeners=function(){var c=this.hls;c.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),c.on(i.Events.MANIFEST_PARSED,this.onManifestParsed,this),c.on(i.Events.LEVEL_LOADING,this.onLevelLoading,this),c.on(i.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),c.on(i.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),c.on(i.Events.ERROR,this.onError,this)},h.unregisterListeners=function(){var c=this.hls;c.off(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),c.off(i.Events.MANIFEST_PARSED,this.onManifestParsed,this),c.off(i.Events.LEVEL_LOADING,this.onLevelLoading,this),c.off(i.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),c.off(i.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),c.off(i.Events.ERROR,this.onError,this)},h.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,y.prototype.destroy.call(this)},h.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.trackName="",this.selectDefaultTrack=!0},h.onManifestParsed=function(c,g){this.tracks=g.audioTracks||[]},h.onAudioTrackLoaded=function(c,g){var T=g.id,E=g.details,A=this.tracksInGroup[T];if(A){var w=A.details;A.details=g.details,this.log("audioTrack "+T+" loaded ["+E.startSN+"-"+E.endSN+"]"),T===this.trackId&&(this.retryCount=0,this.playlistLoaded(T,g,w))}else this.warn("Invalid audio track id "+T)},h.onLevelLoading=function(c,g){this.switchLevel(g.level)},h.onLevelSwitching=function(c,g){this.switchLevel(g.level)},h.switchLevel=function(c){var g=this.hls.levels[c];if(g!=null&&g.audioGroupIds){var T=g.audioGroupIds[g.urlId];if(this.groupId!==T){this.groupId=T;var E=this.tracks.filter(function(w){return!T||w.groupId===T});this.selectDefaultTrack&&!E.some(function(w){return w.default})&&(this.selectDefaultTrack=!1),this.tracksInGroup=E;var A={audioTracks:E};this.log("Updating audio tracks, "+E.length+' track(s) found in "'+T+'" group-id'),this.hls.trigger(i.Events.AUDIO_TRACKS_UPDATED,A),this.selectInitialTrack()}}},h.onError=function(c,g){y.prototype.onError.call(this,c,g),!g.fatal&&g.context&&g.context.type===u.PlaylistContextType.AUDIO_TRACK&&g.context.id===this.trackId&&g.context.groupId===this.groupId&&this.retryLoadingOrFail(g)},h.setAudioTrack=function(c){var g=this.tracksInGroup;if(c<0||c>=g.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var T=g[this.trackId];this.log("Now switching to audio-track index "+c);var E=g[c],A=E.id,w=E.groupId,L=w===void 0?"":w,x=E.name,D=E.type,k=E.url;if(this.trackId=c,this.trackName=x,this.selectDefaultTrack=!1,this.hls.trigger(i.Events.AUDIO_TRACK_SWITCHING,{id:A,groupId:L,name:x,type:D,url:k}),!E.details||E.details.live){var R=this.switchParams(E.url,T==null?void 0:T.details);this.loadPlaylist(R)}}},h.selectInitialTrack=function(){var c=this.tracksInGroup;console.assert(c.length,"Initial audio track should be selected when tracks are known");var g=this.trackName,T=this.findTrackId(g)||this.findTrackId();T!==-1?this.setAudioTrack(T):(this.warn("No track found for running audio group-ID: "+this.groupId),this.hls.trigger(i.Events.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))},h.findTrackId=function(c){for(var g=this.tracksInGroup,T=0;T<g.length;T++){var E=g[T];if((!this.selectDefaultTrack||E.default)&&(!c||c===E.name))return E.id}return-1},h.loadPlaylist=function(c){var g=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(g)){var T=g.id,E=g.groupId,A=g.url;if(c)try{A=c.addDirectives(A)}catch(w){this.warn("Could not construct new URL with HLS Delivery Directives: "+w)}this.log("loading audio-track playlist for id: "+T),this.clearTimer(),this.hls.trigger(i.Events.AUDIO_TRACK_LOADING,{url:A,id:T,groupId:E,deliveryDirectives:c||null})}},S=b,(d=[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(c){this.selectDefaultTrack=!1,this.setAudioTrack(c)}}])&&m(S.prototype,d),b}(o.default);e.default=l},"./src/controller/base-playlist-controller.ts":function(t,e,n){n.r(e),n.d(e,"default",function(){return p});var i=n("./src/polyfills/number.ts"),s=n("./src/types/level.ts"),o=n("./src/controller/level-helper.ts"),u=n("./src/utils/logger.ts"),m=n("./src/errors.ts"),p=function(){function l(v,f){this.hls=void 0,this.timer=-1,this.canLoad=!1,this.retryCount=0,this.log=void 0,this.warn=void 0,this.log=u.logger.log.bind(u.logger,f+":"),this.warn=u.logger.warn.bind(u.logger,f+":"),this.hls=v}var y=l.prototype;return y.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},y.onError=function(v,f){f.fatal&&f.type===m.ErrorTypes.NETWORK_ERROR&&this.clearTimer()},y.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},y.startLoad=function(){this.canLoad=!0,this.retryCount=0,this.loadPlaylist()},y.stopLoad=function(){this.canLoad=!1,this.clearTimer()},y.switchParams=function(v,f){var b=f==null?void 0:f.renditionReports;if(b)for(var S=0;S<b.length;S++){var d=b[S],h=""+d.URI;if(h===v.substr(-h.length)){var c=parseInt(d["LAST-MSN"]),g=parseInt(d["LAST-PART"]);if(f&&this.hls.config.lowLatencyMode){var T=Math.min(f.age-f.partTarget,f.targetduration);g!==void 0&&T>f.partTarget&&(g+=1)}if(Object(i.isFiniteNumber)(c))return new s.HlsUrlParameters(c,Object(i.isFiniteNumber)(g)?g:void 0,s.HlsSkip.No)}}},y.loadPlaylist=function(v){},y.shouldLoadTrack=function(v){return this.canLoad&&v&&!!v.url&&(!v.details||v.details.live)},y.playlistLoaded=function(v,f,b){var S=this,d=f.details,h=f.stats,c=h.loading.end?Math.max(0,self.performance.now()-h.loading.end):0;if(d.advancedDateTime=Date.now()-c,d.live||b!=null&&b.live){if(d.reloaded(b),b&&this.log("live playlist "+v+" "+(d.advanced?"REFRESHED "+d.lastPartSn+"-"+d.lastPartIndex:"MISSED")),b&&d.fragments.length>0&&Object(o.mergeDetails)(b,d),!this.canLoad||!d.live)return;var g,T=void 0,E=void 0;if(d.canBlockReload&&d.endSN&&d.advanced){var A=this.hls.config.lowLatencyMode,w=d.lastPartSn,L=d.endSN,x=d.lastPartIndex,D=w===L;x!==-1?(T=D?L+1:w,E=D?A?0:x:x+1):T=L+1;var k=d.age,R=k+d.ageHeader,I=Math.min(R-d.partTarget,1.5*d.targetduration);if(I>0){if(b&&I>b.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+b.tuneInGoal+" to: "+I+" with playlist age: "+d.age),I=0;else{var O=Math.floor(I/d.targetduration);T+=O,E!==void 0&&(E+=Math.round(I%d.targetduration/d.partTarget)),this.log("CDN Tune-in age: "+d.ageHeader+"s last advanced "+k.toFixed(2)+"s goal: "+I+" skip sn "+O+" to part "+E)}d.tuneInGoal=I}if(g=this.getDeliveryDirectives(d,f.deliveryDirectives,T,E),A||!D)return void this.loadPlaylist(g)}else g=this.getDeliveryDirectives(d,f.deliveryDirectives,T,E);var P=Object(o.computeReloadInterval)(d,h);T!==void 0&&d.canBlockReload&&(P-=d.partTarget||1),this.log("reload live playlist "+v+" in "+Math.round(P)+" ms"),this.timer=self.setTimeout(function(){return S.loadPlaylist(g)},P)}else this.clearTimer()},y.getDeliveryDirectives=function(v,f,b,S){var d=Object(s.getSkipValue)(v,b);return f!=null&&f.skip&&v.deltaUpdateFailed&&(b=f.msn,S=f.part,d=s.HlsSkip.No),new s.HlsUrlParameters(b,S,d)},y.retryLoadingOrFail=function(v){var f,b=this,S=this.hls.config,d=this.retryCount<S.levelLoadingMaxRetry;if(d)if(this.retryCount++,v.details.indexOf("LoadTimeOut")>-1&&(f=v.context)!==null&&f!==void 0&&f.deliveryDirectives)this.warn("retry playlist loading #"+this.retryCount+' after "'+v.details+'"'),this.loadPlaylist();else{var h=Math.min(Math.pow(2,this.retryCount)*S.levelLoadingRetryDelay,S.levelLoadingMaxRetryTimeout);this.timer=self.setTimeout(function(){return b.loadPlaylist()},h),this.warn("retry playlist loading #"+this.retryCount+" in "+h+' ms after "'+v.details+'"')}else this.warn('cannot recover from error "'+v.details+'"'),this.clearTimer(),v.fatal=!0;return d},l}()},"./src/controller/base-stream-controller.ts":function(t,e,n){n.r(e),n.d(e,"State",function(){return A}),n.d(e,"default",function(){return w});var i=n("./src/polyfills/number.ts"),s=n("./src/task-loop.ts"),o=n("./src/controller/fragment-tracker.ts"),u=n("./src/utils/buffer-helper.ts"),m=n("./src/utils/logger.ts"),p=n("./src/events.ts"),l=n("./src/errors.ts"),y=n("./src/types/transmuxer.ts"),v=n("./src/utils/mp4-tools.ts"),f=n("./src/utils/discontinuities.ts"),b=n("./src/controller/fragment-finders.ts"),S=n("./src/controller/level-helper.ts"),d=n("./src/loader/fragment-loader.ts"),h=n("./src/crypt/decrypter.ts"),c=n("./src/utils/time-ranges.ts"),g=n("./src/types/loader.ts");function T(L,x){for(var D=0;D<x.length;D++){var k=x[D];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(L,k.key,k)}}function E(L,x){return(E=Object.setPrototypeOf||function(D,k){return D.__proto__=k,D})(L,x)}var A={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BACKTRACKING:"BACKTRACKING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},w=function(L){var x,D;function k(P,F,U){var B;return(B=L.call(this)||this).hls=void 0,B.fragPrevious=null,B.fragCurrent=null,B.fragmentTracker=void 0,B.transmuxer=null,B._state=A.STOPPED,B.media=void 0,B.mediaBuffer=void 0,B.config=void 0,B.bitrateTest=!1,B.lastCurrentTime=0,B.nextLoadPosition=0,B.startPosition=0,B.loadedmetadata=!1,B.fragLoadError=0,B.retryDate=0,B.levels=null,B.fragmentLoader=void 0,B.levelLastLoaded=null,B.startFragRequested=!1,B.decrypter=void 0,B.initPTS=[],B.onvseeking=null,B.onvended=null,B.logPrefix="",B.log=void 0,B.warn=void 0,B.logPrefix=U,B.log=m.logger.log.bind(m.logger,U+":"),B.warn=m.logger.warn.bind(m.logger,U+":"),B.hls=P,B.fragmentLoader=new d.default(P.config),B.fragmentTracker=F,B.config=P.config,B.decrypter=new h.default(P,P.config),P.on(p.Events.KEY_LOADED,B.onKeyLoaded,function(H){if(H===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}(B)),B}D=L,(x=k).prototype=Object.create(D.prototype),x.prototype.constructor=x,E(x,D);var R,I,O=k.prototype;return O.doTick=function(){this.onTickEnd()},O.onTickEnd=function(){},O.startLoad=function(P){},O.stopLoad=function(){this.fragmentLoader.abort();var P=this.fragCurrent;P&&this.fragmentTracker.removeFragment(P),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=A.STOPPED},O._streamEnded=function(P,F){var U=this.fragCurrent,B=this.fragmentTracker;if(!F.live&&U&&U.sn===F.endSN&&!P.nextStart){var H=B.getState(U);return H===o.FragmentState.PARTIAL||H===o.FragmentState.OK}return!1},O.onMediaAttached=function(P,F){var U=this.media=this.mediaBuffer=F.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),U.addEventListener("seeking",this.onvseeking),U.addEventListener("ended",this.onvended);var B=this.config;this.levels&&B.autoStartLoad&&this.state===A.STOPPED&&this.startLoad(B.startPosition)},O.onMediaDetaching=function(){var P=this.media;P!=null&&P.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),P&&(P.removeEventListener("seeking",this.onvseeking),P.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},O.onMediaSeeking=function(){var P=this.config,F=this.fragCurrent,U=this.media,B=this.mediaBuffer,H=this.state,V=U?U.currentTime:0,q=u.BufferHelper.bufferInfo(B||U,V,P.maxBufferHole);if(this.log("media seeking to "+(Object(i.isFiniteNumber)(V)?V.toFixed(3):V)+", state: "+H),H===A.ENDED)this.resetLoadingState();else if(F&&!q.len){var et=P.maxFragLookUpTolerance,rt=F.start-et,ot=V>F.start+F.duration+et;(V<rt||ot)&&(ot&&F.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),F.loader.abort()),this.resetLoadingState())}U&&(this.lastCurrentTime=V),this.loadedmetadata||q.len||(this.nextLoadPosition=this.startPosition=V),this.tickImmediate()},O.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},O.onKeyLoaded=function(P,F){if(this.state===A.KEY_LOADING&&F.frag===this.fragCurrent&&this.levels){this.state=A.IDLE;var U=this.levels[F.frag.level].details;U&&this.loadFragment(F.frag,U,F.frag.start)}},O.onHandlerDestroying=function(){this.stopLoad(),L.prototype.onHandlerDestroying.call(this)},O.onHandlerDestroyed=function(){this.state=A.STOPPED,this.hls.off(p.Events.KEY_LOADED,this.onKeyLoaded,this),this.fragmentLoader&&this.fragmentLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.fragmentLoader=this.fragmentTracker=null,L.prototype.onHandlerDestroyed.call(this)},O.loadKey=function(P,F){this.log("Loading key for "+P.sn+" of ["+F.startSN+"-"+F.endSN+"], "+(this.logPrefix==="[stream-controller]"?"level":"track")+" "+P.level),this.state=A.KEY_LOADING,this.fragCurrent=P,this.hls.trigger(p.Events.KEY_LOADING,{frag:P})},O.loadFragment=function(P,F,U){this._loadFragForPlayback(P,F,U)},O._loadFragForPlayback=function(P,F,U){var B=this;this._doFragLoad(P,F,U,function(H){if(B.fragContextChanged(P))return B.warn("Fragment "+P.sn+(H.part?" p: "+H.part.index:"")+" of level "+P.level+" was dropped during download."),void B.fragmentTracker.removeFragment(P);P.stats.chunkCount++,B._handleFragmentLoadProgress(H)}).then(function(H){if(H){B.fragLoadError=0;var V=B.state;if(!B.fragContextChanged(P))return"payload"in H&&(B.log("Loaded fragment "+P.sn+" of level "+P.level),B.hls.trigger(p.Events.FRAG_LOADED,H),B.state===A.BACKTRACKING)?(B.fragmentTracker.backtrack(P,H),void B.resetFragmentLoading(P)):void B._handleFragmentLoadComplete(H);(V===A.FRAG_LOADING||V===A.BACKTRACKING||!B.fragCurrent&&V===A.PARSING)&&(B.fragmentTracker.removeFragment(P),B.state=A.IDLE)}}).catch(function(H){B.warn(H),B.resetFragmentLoading(P)})},O.flushMainBuffer=function(P,F,U){if(U===void 0&&(U=null),P-F){var B={startOffset:P,endOffset:F,type:U};this.fragLoadError=0,this.hls.trigger(p.Events.BUFFER_FLUSHING,B)}},O._loadInitSegment=function(P){var F=this;this._doFragLoad(P).then(function(U){if(!U||F.fragContextChanged(P)||!F.levels)throw new Error("init load aborted");return U}).then(function(U){var B=F.hls,H=U.payload,V=P.decryptdata;if(H&&H.byteLength>0&&V&&V.key&&V.iv&&V.method==="AES-128"){var q=self.performance.now();return F.decrypter.webCryptoDecrypt(new Uint8Array(H),V.key.buffer,V.iv.buffer).then(function(et){var rt=self.performance.now();return B.trigger(p.Events.FRAG_DECRYPTED,{frag:P,payload:et,stats:{tstart:q,tdecrypt:rt}}),U.payload=et,U})}return U}).then(function(U){var B=F.fragCurrent,H=F.hls,V=F.levels;if(!V)throw new Error("init load aborted, missing levels");var q=V[P.level].details;console.assert(q,"Level details are defined when init segment is loaded");var et=P.stats;F.state=A.IDLE,F.fragLoadError=0,P.data=new Uint8Array(U.payload),et.parsing.start=et.buffering.start=self.performance.now(),et.parsing.end=et.buffering.end=self.performance.now(),U.frag===B&&H.trigger(p.Events.FRAG_BUFFERED,{stats:et,frag:B,part:null,id:P.type}),F.tick()}).catch(function(U){F.warn(U),F.resetFragmentLoading(P)})},O.fragContextChanged=function(P){var F=this.fragCurrent;return!P||!F||P.level!==F.level||P.sn!==F.sn||P.urlId!==F.urlId},O.fragBufferedComplete=function(P,F){var U=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+P.type+" sn: "+P.sn+(F?" part: "+F.index:"")+" of "+(this.logPrefix==="[stream-controller]"?"level":"track")+" "+P.level+" "+c.default.toString(u.BufferHelper.getBuffered(U))),this.state=A.IDLE,this.tick()},O._handleFragmentLoadComplete=function(P){var F=this.transmuxer;if(F){var U=P.frag,B=P.part,H=P.partsLoaded,V=!H||H.length===0||H.some(function(et){return!et}),q=new y.ChunkMetadata(U.level,U.sn,U.stats.chunkCount+1,0,B?B.index:-1,!V);F.flush(q)}},O._handleFragmentLoadProgress=function(P){},O._doFragLoad=function(P,F,U,B){var H=this;if(U===void 0&&(U=null),!this.levels)throw new Error("frag load aborted, missing levels");if(U=Math.max(P.start,U||0),this.config.lowLatencyMode&&F){var V=F.partList;if(V&&B){U>P.end&&F.fragmentHint&&(P=F.fragmentHint);var q=this.getNextPart(V,P,U);if(q>-1){var et=V[q];return this.log("Loading part sn: "+P.sn+" p: "+et.index+" cc: "+P.cc+" of playlist ["+F.startSN+"-"+F.endSN+"] parts [0-"+q+"-"+(V.length-1)+"] "+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+P.level+", target: "+parseFloat(U.toFixed(3))),this.nextLoadPosition=et.start+et.duration,this.state=A.FRAG_LOADING,this.hls.trigger(p.Events.FRAG_LOADING,{frag:P,part:V[q],targetBufferTime:U}),this.doFragPartsLoad(P,V,q,B).catch(function(rt){return H.handleFragLoadError(rt)})}if(!P.url||this.loadedEndOfParts(V,U))return Promise.resolve(null)}}return this.log("Loading fragment "+P.sn+" cc: "+P.cc+" "+(F?"of ["+F.startSN+"-"+F.endSN+"] ":"")+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+P.level+", target: "+parseFloat(U.toFixed(3))),Object(i.isFiniteNumber)(P.sn)&&!this.bitrateTest&&(this.nextLoadPosition=P.start+P.duration),this.state=A.FRAG_LOADING,this.hls.trigger(p.Events.FRAG_LOADING,{frag:P,targetBufferTime:U}),this.fragmentLoader.load(P,B).catch(function(rt){return H.handleFragLoadError(rt)})},O.doFragPartsLoad=function(P,F,U,B){var H=this;return new Promise(function(V,q){var et=[];(function rt(ot){var J=F[ot];H.fragmentLoader.loadPart(P,J,B).then(function(W){et[J.index]=W;var st=W.part;H.hls.trigger(p.Events.FRAG_LOADED,W);var it=F[ot+1];if(!it||it.fragment!==P)return V({frag:P,part:st,partsLoaded:et});rt(ot+1)}).catch(q)})(U)})},O.handleFragLoadError=function(P){var F=P.data;return F&&F.details===l.ErrorDetails.INTERNAL_ABORTED?this.handleFragLoadAborted(F.frag,F.part):this.hls.trigger(p.Events.ERROR,F),null},O._handleTransmuxerFlush=function(P){var F=this.getCurrentContext(P);if(F&&this.state===A.PARSING){var U=F.frag,B=F.part,H=F.level,V=self.performance.now();U.stats.parsing.end=V,B&&(B.stats.parsing.end=V),this.updateLevelTiming(U,B,H,P.partial)}else this.fragCurrent||(this.state=A.IDLE)},O.getCurrentContext=function(P){var F=this.levels,U=P.level,B=P.sn,H=P.part;if(!F||!F[U])return this.warn("Levels object was unset while buffering fragment "+B+" of level "+U+". The current chunk will not be buffered."),null;var V=F[U],q=H>-1?Object(S.getPartWith)(V,B,H):null,et=q?q.fragment:Object(S.getFragmentWithSN)(V,B,this.fragCurrent);return et?{frag:et,part:q,level:V}:null},O.bufferFragmentData=function(P,F,U,B){if(P&&this.state===A.PARSING){var H=P.data1,V=P.data2,q=H;if(H&&V&&(q=Object(v.appendUint8Array)(H,V)),q&&q.length){var et={type:P.type,frag:F,part:U,chunkMeta:B,parent:F.type,data:q};this.hls.trigger(p.Events.BUFFER_APPENDING,et),P.dropped&&P.independent&&!U&&this.flushBufferGap(F)}}},O.flushBufferGap=function(P){var F=this.media;if(F)if(u.BufferHelper.isBuffered(F,F.currentTime)){var U=F.currentTime,B=u.BufferHelper.bufferInfo(F,U,0),H=P.duration,V=Math.min(2*this.config.maxFragLookUpTolerance,.25*H),q=Math.max(Math.min(P.start-V,B.end-V),U+V);P.start-q>V&&this.flushMainBuffer(q,P.start)}else this.flushMainBuffer(0,P.start)},O.getFwdBufferInfo=function(P,F){var U=this.config,B=this.getLoadPosition();if(!Object(i.isFiniteNumber)(B))return null;var H=u.BufferHelper.bufferInfo(P,B,U.maxBufferHole);if(H.len===0&&H.nextStart!==void 0){var V=this.fragmentTracker.getBufferedFrag(B,F);if(V&&H.nextStart<V.end)return u.BufferHelper.bufferInfo(P,B,Math.max(H.nextStart,U.maxBufferHole))}return H},O.getMaxBufferLength=function(P){var F,U=this.config;return F=P?Math.max(8*U.maxBufferSize/P,U.maxBufferLength):U.maxBufferLength,Math.min(F,U.maxMaxBufferLength)},O.reduceMaxBufferLength=function(P){var F=this.config,U=P||F.maxBufferLength;return F.maxMaxBufferLength>=U&&(F.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+F.maxMaxBufferLength+"s"),!0)},O.getNextFragment=function(P,F){var U,B,H=F.fragments,V=H.length;if(!V)return null;var q,et=this.config,rt=H[0].start;if(F.live){var ot=et.initialLiveManifestSize;if(V<ot)return this.warn("Not enough fragments to start playback (have: "+V+", need: "+ot+")"),null;F.PTSKnown||this.startFragRequested||this.startPosition!==-1||(q=this.getInitialLiveFragment(F,H),this.startPosition=q?this.hls.liveSyncPosition||q.start:P)}else P<=rt&&(q=H[0]);if(!q){var J=et.lowLatencyMode?F.partEnd:F.fragmentEnd;q=this.getFragmentAtPosition(P,J,F)}return(U=q)===null||U===void 0||!U.initSegment||(B=q)!==null&&B!==void 0&&B.initSegment.data||this.bitrateTest||(q=q.initSegment),q},O.getNextPart=function(P,F,U){for(var B=-1,H=!1,V=!0,q=0,et=P.length;q<et;q++){var rt=P[q];if(V=V&&!rt.independent,B>-1&&U<rt.start)break;var ot=rt.loaded;!ot&&(H||rt.independent||V)&&rt.fragment===F&&(B=q),H=ot}return B},O.loadedEndOfParts=function(P,F){var U=P[P.length-1];return U&&F>U.start&&U.loaded},O.getInitialLiveFragment=function(P,F){var U=this.fragPrevious,B=null;if(U){if(P.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+U.programDateTime),B=Object(b.findFragmentByPDT)(F,U.endProgramDateTime,this.config.maxFragLookUpTolerance)),!B){var H=U.sn+1;if(H>=P.startSN&&H<=P.endSN){var V=F[H-P.startSN];U.cc===V.cc&&(B=V,this.log("Live playlist, switching playlist, load frag with next SN: "+B.sn))}B||(B=Object(b.findFragWithCC)(F,U.cc))&&this.log("Live playlist, switching playlist, load frag with same CC: "+B.sn)}}else{var q=this.hls.liveSyncPosition;q!==null&&(B=this.getFragmentAtPosition(q,this.bitrateTest?P.fragmentEnd:P.edge,P))}return B},O.getFragmentAtPosition=function(P,F,U){var B,H=this.config,V=this.fragPrevious,q=U.fragments,et=U.endSN,rt=U.fragmentHint,ot=H.maxFragLookUpTolerance,J=!!(H.lowLatencyMode&&U.partList&&rt);if(J&&rt&&!this.bitrateTest&&(q=q.concat(rt),et=rt.sn),P<F){var W=P>F-ot?0:ot;B=Object(b.findFragmentByPTS)(V,q,P,W)}else B=q[q.length-1];if(B){var st=B.sn-U.startSN,it=V&&B.level===V.level,j=q[st+1];if(this.fragmentTracker.getState(B)===o.FragmentState.BACKTRACKED){B=null;for(var gt=st;q[gt]&&this.fragmentTracker.getState(q[gt])===o.FragmentState.BACKTRACKED;)B=V?q[gt--]:q[--gt];B||(B=j)}else V&&B.sn===V.sn&&!J&&it&&(B.sn<et&&this.fragmentTracker.getState(j)!==o.FragmentState.OK?(this.log("SN "+B.sn+" just loaded, load next one: "+j.sn),B=j):B=null)}return B},O.synchronizeToLiveEdge=function(P){var F=this.config,U=this.media;if(U){var B=this.hls.liveSyncPosition,H=U.currentTime,V=P.fragments[0].start,q=P.edge,et=H>=V-F.maxFragLookUpTolerance&&H<=q;if(B!==null&&U.duration>B&&(H<B||!et)){var rt=F.liveMaxLatencyDuration!==void 0?F.liveMaxLatencyDuration:F.liveMaxLatencyDurationCount*P.targetduration;(!et&&U.readyState<4||H<q-rt)&&(this.loadedmetadata||(this.nextLoadPosition=B),U.readyState&&(this.warn("Playback: "+H.toFixed(3)+" is located too far from the end of live sliding playlist: "+q+", reset currentTime to : "+B.toFixed(3)),U.currentTime=B))}}},O.alignPlaylists=function(P,F){var U=this.levels,B=this.levelLastLoaded,H=this.fragPrevious,V=B!==null?U[B]:null,q=P.fragments.length;if(!q)return this.warn("No fragments in live playlist"),0;var et=P.fragments[0].start,rt=!F,ot=P.alignedSliding&&Object(i.isFiniteNumber)(et);if(rt||!ot&&!et){Object(f.alignStream)(H,V,P);var J=P.fragments[0].start;return this.log("Live playlist sliding: "+J.toFixed(2)+" start-sn: "+(F?F.startSN:"na")+"->"+P.startSN+" prev-sn: "+(H?H.sn:"na")+" fragments: "+q),J}return et},O.waitForCdnTuneIn=function(P){return P.live&&P.canBlockReload&&P.tuneInGoal>Math.max(P.partHoldBack,3*P.partTarget)},O.setStartPosition=function(P,F){var U=this.startPosition;if(U<F&&(U=-1),U===-1||this.lastCurrentTime===-1){var B=P.startTimeOffset;Object(i.isFiniteNumber)(B)?(U=F+B,B<0&&(U+=P.totalduration),U=Math.min(Math.max(F,U),F+P.totalduration),this.log("Start time offset "+B+" found in playlist, adjust startPosition to "+U),this.startPosition=U):P.live?U=this.hls.liveSyncPosition||F:this.startPosition=U=0,this.lastCurrentTime=U}this.nextLoadPosition=U},O.getLoadPosition=function(){var P=this.media,F=0;return this.loadedmetadata&&P?F=P.currentTime:this.nextLoadPosition&&(F=this.nextLoadPosition),F},O.handleFragLoadAborted=function(P,F){this.transmuxer&&P.sn!=="initSegment"&&P.stats.aborted&&(this.warn("Fragment "+P.sn+(F?" part"+F.index:"")+" of level "+P.level+" was aborted"),this.resetFragmentLoading(P))},O.resetFragmentLoading=function(P){this.fragCurrent&&this.fragContextChanged(P)||(this.state=A.IDLE)},O.onFragmentOrKeyLoadError=function(P,F){if(!F.fatal){var U=F.frag;if(U&&U.type===P){var B=this.fragCurrent;console.assert(B&&U.sn===B.sn&&U.level===B.level&&U.urlId===B.urlId,"Frag load error must match current frag to retry");var H=this.config;if(this.fragLoadError+1<=H.fragLoadingMaxRetry){if(this.resetLiveStartWhenNotLoaded(U.level))return;var V=Math.min(Math.pow(2,this.fragLoadError)*H.fragLoadingRetryDelay,H.fragLoadingMaxRetryTimeout);this.warn("Fragment "+U.sn+" of "+P+" "+U.level+" failed to load, retrying in "+V+"ms"),this.retryDate=self.performance.now()+V,this.fragLoadError++,this.state=A.FRAG_LOADING_WAITING_RETRY}else F.levelRetry?(P===g.PlaylistLevelType.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state=A.IDLE):(m.logger.error(F.details+" reaches max retry, redispatch as fatal ..."),F.fatal=!0,this.hls.stopLoad(),this.state=A.ERROR)}}},O.afterBufferFlushed=function(P,F,U){if(P){var B=u.BufferHelper.getBuffered(P);this.fragmentTracker.detectEvictedFragments(F,B,U),this.state===A.ENDED&&this.resetLoadingState()}},O.resetLoadingState=function(){this.fragCurrent=null,this.fragPrevious=null,this.state=A.IDLE},O.resetLiveStartWhenNotLoaded=function(P){if(!this.loadedmetadata){this.startFragRequested=!1;var F=this.levels?this.levels[P].details:null;if(F!=null&&F.live)return this.startPosition=-1,this.setStartPosition(F,0),this.resetLoadingState(),!0;this.nextLoadPosition=this.startPosition}return!1},O.updateLevelTiming=function(P,F,U,B){var H=this,V=U.details;console.assert(!!V,"level.details must be defined"),Object.keys(P.elementaryStreams).reduce(function(q,et){var rt=P.elementaryStreams[et];if(rt){var ot=rt.endPTS-rt.startPTS;if(ot<=0)return H.warn("Could not parse fragment "+P.sn+" "+et+" duration reliably ("+ot+") resetting transmuxer to fallback to playlist timing"),H.resetTransmuxer(),q||!1;var J=B?0:Object(S.updateFragPTSDTS)(V,P,rt.startPTS,rt.endPTS,rt.startDTS,rt.endDTS);return H.hls.trigger(p.Events.LEVEL_PTS_UPDATED,{details:V,level:U,drift:J,type:et,frag:P,start:rt.startPTS,end:rt.endPTS}),!0}return q},!1)?(this.state=A.PARSED,this.hls.trigger(p.Events.FRAG_PARSED,{frag:P,part:F})):this.resetLoadingState()},O.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},R=k,(I=[{key:"state",get:function(){return this._state},set:function(P){var F=this._state;F!==P&&(this._state=P,this.log(F+"->"+P))}}])&&T(R.prototype,I),k}(s.default)},"./src/controller/buffer-controller.ts":function(t,e,n){n.r(e),n.d(e,"default",function(){return b});var i=n("./src/polyfills/number.ts"),s=n("./src/events.ts"),o=n("./src/utils/logger.ts"),u=n("./src/errors.ts"),m=n("./src/utils/buffer-helper.ts"),p=n("./src/utils/mediasource-helper.ts"),l=n("./src/loader/fragment.ts"),y=n("./src/controller/buffer-operation-queue.ts"),v=Object(p.getMediaSource)(),f=/([ha]vc.)(?:\.[^.,]+)+/,b=function(){function S(h){var c=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var g=c.hls,T=c.media,E=c.mediaSource;o.logger.log("[buffer-controller]: Media source opened"),T&&(c.updateMediaElementDuration(),g.trigger(s.Events.MEDIA_ATTACHED,{media:T})),E&&E.removeEventListener("sourceopen",c._onMediaSourceOpen),c.checkPendingTracks()},this._onMediaSourceClose=function(){o.logger.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){o.logger.log("[buffer-controller]: Media source ended")},this.hls=h,this._initSourceBuffer(),this.registerListeners()}var d=S.prototype;return d.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},d.destroy=function(){this.unregisterListeners(),this.details=null},d.registerListeners=function(){var h=this.hls;h.on(s.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),h.on(s.Events.MEDIA_DETACHING,this.onMediaDetaching,this),h.on(s.Events.MANIFEST_PARSED,this.onManifestParsed,this),h.on(s.Events.BUFFER_RESET,this.onBufferReset,this),h.on(s.Events.BUFFER_APPENDING,this.onBufferAppending,this),h.on(s.Events.BUFFER_CODECS,this.onBufferCodecs,this),h.on(s.Events.BUFFER_EOS,this.onBufferEos,this),h.on(s.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),h.on(s.Events.LEVEL_UPDATED,this.onLevelUpdated,this),h.on(s.Events.FRAG_PARSED,this.onFragParsed,this),h.on(s.Events.FRAG_CHANGED,this.onFragChanged,this)},d.unregisterListeners=function(){var h=this.hls;h.off(s.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),h.off(s.Events.MEDIA_DETACHING,this.onMediaDetaching,this),h.off(s.Events.MANIFEST_PARSED,this.onManifestParsed,this),h.off(s.Events.BUFFER_RESET,this.onBufferReset,this),h.off(s.Events.BUFFER_APPENDING,this.onBufferAppending,this),h.off(s.Events.BUFFER_CODECS,this.onBufferCodecs,this),h.off(s.Events.BUFFER_EOS,this.onBufferEos,this),h.off(s.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),h.off(s.Events.LEVEL_UPDATED,this.onLevelUpdated,this),h.off(s.Events.FRAG_PARSED,this.onFragParsed,this),h.off(s.Events.FRAG_CHANGED,this.onFragChanged,this)},d._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new y.default(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]}},d.onManifestParsed=function(h,c){var g=2;(c.audio&&!c.video||!c.altAudio)&&(g=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=g,this.details=null,o.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},d.onMediaAttaching=function(h,c){var g=this.media=c.media;if(g&&v){var T=this.mediaSource=new v;T.addEventListener("sourceopen",this._onMediaSourceOpen),T.addEventListener("sourceended",this._onMediaSourceEnded),T.addEventListener("sourceclose",this._onMediaSourceClose),g.src=self.URL.createObjectURL(T),this._objectUrl=g.src}},d.onMediaDetaching=function(){var h=this.media,c=this.mediaSource,g=this._objectUrl;if(c){if(o.logger.log("[buffer-controller]: media source detaching"),c.readyState==="open")try{c.endOfStream()}catch(T){o.logger.warn("[buffer-controller]: onMediaDetaching: "+T.message+" while calling endOfStream")}this.onBufferReset(),c.removeEventListener("sourceopen",this._onMediaSourceOpen),c.removeEventListener("sourceended",this._onMediaSourceEnded),c.removeEventListener("sourceclose",this._onMediaSourceClose),h&&(g&&self.URL.revokeObjectURL(g),h.src===g?(h.removeAttribute("src"),h.load()):o.logger.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(s.Events.MEDIA_DETACHED,void 0)},d.onBufferReset=function(){var h=this;this.getSourceBufferTypes().forEach(function(c){var g=h.sourceBuffer[c];try{g&&(h.removeBufferListeners(c),h.mediaSource&&h.mediaSource.removeSourceBuffer(g),h.sourceBuffer[c]=void 0)}catch(T){o.logger.warn("[buffer-controller]: Failed to reset the "+c+" buffer",T)}}),this._initSourceBuffer()},d.onBufferCodecs=function(h,c){var g=this,T=this.getSourceBufferTypes().length;Object.keys(c).forEach(function(E){if(T){var A=g.tracks[E];if(A&&typeof A.buffer.changeType=="function"){var w=c[E],L=w.codec,x=w.levelCodec,D=w.container;if((A.levelCodec||A.codec).replace(f,"$1")!==(x||L).replace(f,"$1")){var k=D+";codecs="+(x||L);g.appendChangeType(E,k)}}}else g.pendingTracks[E]=c[E]}),T||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks())},d.appendChangeType=function(h,c){var g=this,T=this.operationQueue,E={execute:function(){var A=g.sourceBuffer[h];A&&(o.logger.log("[buffer-controller]: changing "+h+" sourceBuffer type to "+c),A.changeType(c)),T.shiftAndExecuteNext(h)},onStart:function(){},onComplete:function(){},onError:function(A){o.logger.warn("[buffer-controller]: Failed to change "+h+" SourceBuffer type",A)}};T.append(E,h)},d.onBufferAppending=function(h,c){var g=this,T=this.hls,E=this.operationQueue,A=this.tracks,w=c.data,L=c.type,x=c.frag,D=c.part,k=c.chunkMeta,R=k.buffering[L],I=self.performance.now();R.start=I;var O=x.stats.buffering,P=D?D.stats.buffering:null;O.start===0&&(O.start=I),P&&P.start===0&&(P.start=I);var F=A.audio,U=L==="audio"&&k.id===1&&(F==null?void 0:F.container)==="audio/mpeg",B={execute:function(){if(R.executeStart=self.performance.now(),U){var H=g.sourceBuffer[L];if(H){var V=x.start-H.timestampOffset;Math.abs(V)>=.1&&(o.logger.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+x.start+" (delta: "+V+") sn: "+x.sn+")"),H.timestampOffset=x.start)}}g.appendExecutor(w,L)},onStart:function(){},onComplete:function(){var H=self.performance.now();R.executeEnd=R.end=H,O.first===0&&(O.first=H),P&&P.first===0&&(P.first=H);var V=g.sourceBuffer,q={};for(var et in V)q[et]=m.BufferHelper.getBuffered(V[et]);g.appendError=0,g.hls.trigger(s.Events.BUFFER_APPENDED,{type:L,frag:x,part:D,chunkMeta:k,parent:x.type,timeRanges:q})},onError:function(H){o.logger.error("[buffer-controller]: Error encountered while trying to append to the "+L+" SourceBuffer",H);var V={type:u.ErrorTypes.MEDIA_ERROR,parent:x.type,details:u.ErrorDetails.BUFFER_APPEND_ERROR,err:H,fatal:!1};H.code===DOMException.QUOTA_EXCEEDED_ERR?V.details=u.ErrorDetails.BUFFER_FULL_ERROR:(g.appendError++,V.details=u.ErrorDetails.BUFFER_APPEND_ERROR,g.appendError>T.config.appendErrorMaxRetry&&(o.logger.error("[buffer-controller]: Failed "+T.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),V.fatal=!0)),T.trigger(s.Events.ERROR,V)}};E.append(B,L)},d.onBufferFlushing=function(h,c){var g=this,T=this.operationQueue,E=function(A){return{execute:g.removeExecutor.bind(g,A,c.startOffset,c.endOffset),onStart:function(){},onComplete:function(){g.hls.trigger(s.Events.BUFFER_FLUSHED,{type:A})},onError:function(w){o.logger.warn("[buffer-controller]: Failed to remove from "+A+" SourceBuffer",w)}}};c.type?T.append(E(c.type),c.type):this.getSourceBufferTypes().forEach(function(A){T.append(E(A),A)})},d.onFragParsed=function(h,c){var g=this,T=c.frag,E=c.part,A=[],w=E?E.elementaryStreams:T.elementaryStreams;w[l.ElementaryStreamTypes.AUDIOVIDEO]?A.push("audiovideo"):(w[l.ElementaryStreamTypes.AUDIO]&&A.push("audio"),w[l.ElementaryStreamTypes.VIDEO]&&A.push("video")),A.length===0&&o.logger.warn("Fragments must have at least one ElementaryStreamType set. type: "+T.type+" level: "+T.level+" sn: "+T.sn),this.blockBuffers(function(){var L=self.performance.now();T.stats.buffering.end=L,E&&(E.stats.buffering.end=L);var x=E?E.stats:T.stats;g.hls.trigger(s.Events.FRAG_BUFFERED,{frag:T,part:E,stats:x,id:T.type})},A)},d.onFragChanged=function(h,c){this.flushBackBuffer()},d.onBufferEos=function(h,c){var g=this;this.getSourceBufferTypes().reduce(function(T,E){var A=g.sourceBuffer[E];return c.type&&c.type!==E||A&&!A.ended&&(A.ended=!0,o.logger.log("[buffer-controller]: "+E+" sourceBuffer now EOS")),T&&!(A&&!A.ended)},!0)&&this.blockBuffers(function(){var T=g.mediaSource;T&&T.readyState==="open"&&T.endOfStream()})},d.onLevelUpdated=function(h,c){var g=c.details;g.fragments.length&&(this.details=g,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},d.flushBackBuffer=function(){var h=this.hls,c=this.details,g=this.media,T=this.sourceBuffer;if(g&&c!==null){var E=this.getSourceBufferTypes();if(E.length){var A=c.live&&h.config.liveBackBufferLength!==null?h.config.liveBackBufferLength:h.config.backBufferLength;if(Object(i.isFiniteNumber)(A)&&!(A<0)){var w=g.currentTime,L=c.levelTargetDuration,x=Math.max(A,L),D=Math.floor(w/L)*L-x;E.forEach(function(k){var R=T[k];if(R){var I=m.BufferHelper.getBuffered(R);I.length>0&&D>I.start(0)&&(h.trigger(s.Events.BACK_BUFFER_REACHED,{bufferEnd:D}),c.live&&h.trigger(s.Events.LIVE_BACK_BUFFER_REACHED,{bufferEnd:D}),h.trigger(s.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:D,type:k}))}})}}}},d.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&this.mediaSource.readyState==="open"){var h=this.details,c=this.hls,g=this.media,T=this.mediaSource,E=h.fragments[0].start+h.totalduration,A=g.duration,w=Object(i.isFiniteNumber)(T.duration)?T.duration:0;h.live&&c.config.liveDurationInfinity?(o.logger.log("[buffer-controller]: Media Source duration is set to Infinity"),T.duration=1/0,this.updateSeekableRange(h)):(E>w&&E>A||!Object(i.isFiniteNumber)(A))&&(o.logger.log("[buffer-controller]: Updating Media Source duration to "+E.toFixed(3)),T.duration=E)}},d.updateSeekableRange=function(h){var c=this.mediaSource,g=h.fragments;if(g.length&&h.live&&c!=null&&c.setLiveSeekableRange){var T=Math.max(0,g[0].start),E=Math.max(T,T+h.totalduration);c.setLiveSeekableRange(T,E)}},d.checkPendingTracks=function(){var h=this.bufferCodecEventsExpected,c=this.operationQueue,g=this.pendingTracks,T=Object.keys(g).length;if(T&&!h||T===2){this.createSourceBuffers(g),this.pendingTracks={};var E=this.getSourceBufferTypes();if(E.length===0)return void this.hls.trigger(s.Events.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"});E.forEach(function(A){c.executeNext(A)})}},d.createSourceBuffers=function(h){var c=this.sourceBuffer,g=this.mediaSource;if(!g)throw Error("createSourceBuffers called when mediaSource was null");var T=0;for(var E in h)if(!c[E]){var A=h[E];if(!A)throw Error("source buffer exists for track "+E+", however track does not");var w=A.levelCodec||A.codec,L=A.container+";codecs="+w;o.logger.log("[buffer-controller]: creating sourceBuffer("+L+")");try{var x=c[E]=g.addSourceBuffer(L),D=E;this.addBufferListener(D,"updatestart",this._onSBUpdateStart),this.addBufferListener(D,"updateend",this._onSBUpdateEnd),this.addBufferListener(D,"error",this._onSBUpdateError),this.tracks[E]={buffer:x,codec:w,container:A.container,levelCodec:A.levelCodec,id:A.id},T++}catch(k){o.logger.error("[buffer-controller]: error while trying to add sourceBuffer: "+k.message),this.hls.trigger(s.Events.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:k,mimeType:L})}}T&&this.hls.trigger(s.Events.BUFFER_CREATED,{tracks:this.tracks})},d._onSBUpdateStart=function(h){this.operationQueue.current(h).onStart()},d._onSBUpdateEnd=function(h){var c=this.operationQueue;c.current(h).onComplete(),c.shiftAndExecuteNext(h)},d._onSBUpdateError=function(h,c){o.logger.error("[buffer-controller]: "+h+" SourceBuffer error",c),this.hls.trigger(s.Events.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1});var g=this.operationQueue.current(h);g&&g.onError(c)},d.removeExecutor=function(h,c,g){var T=this.media,E=this.mediaSource,A=this.operationQueue,w=this.sourceBuffer[h];if(!T||!E||!w)return o.logger.warn("[buffer-controller]: Attempting to remove from the "+h+" SourceBuffer, but it does not exist"),void A.shiftAndExecuteNext(h);var L=Object(i.isFiniteNumber)(T.duration)?T.duration:1/0,x=Object(i.isFiniteNumber)(E.duration)?E.duration:1/0,D=Math.max(0,c),k=Math.min(g,L,x);k>D?(o.logger.log("[buffer-controller]: Removing ["+D+","+k+"] from the "+h+" SourceBuffer"),console.assert(!w.updating,h+" sourceBuffer must not be updating"),w.remove(D,k)):A.shiftAndExecuteNext(h)},d.appendExecutor=function(h,c){var g=this.operationQueue,T=this.sourceBuffer[c];if(!T)return o.logger.warn("[buffer-controller]: Attempting to append to the "+c+" SourceBuffer, but it does not exist"),void g.shiftAndExecuteNext(c);T.ended=!1,console.assert(!T.updating,c+" sourceBuffer must not be updating"),T.appendBuffer(h)},d.blockBuffers=function(h,c){var g=this;if(c===void 0&&(c=this.getSourceBufferTypes()),!c.length)return o.logger.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve(h);var T=this.operationQueue,E=c.map(function(A){return T.appendBlocker(A)});Promise.all(E).then(function(){h(),c.forEach(function(A){var w=g.sourceBuffer[A];w&&w.updating||T.shiftAndExecuteNext(A)})})},d.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},d.addBufferListener=function(h,c,g){var T=this.sourceBuffer[h];if(T){var E=g.bind(this,h);this.listeners[h].push({event:c,listener:E}),T.addEventListener(c,E)}},d.removeBufferListeners=function(h){var c=this.sourceBuffer[h];c&&this.listeners[h].forEach(function(g){c.removeEventListener(g.event,g.listener)})},S}()},"./src/controller/buffer-operation-queue.ts":function(t,e,n){n.r(e),n.d(e,"default",function(){return s});var i=n("./src/utils/logger.ts"),s=function(){function o(m){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=m}var u=o.prototype;return u.append=function(m,p){var l=this.queues[p];l.push(m),l.length===1&&this.buffers[p]&&this.executeNext(p)},u.insertAbort=function(m,p){this.queues[p].unshift(m),this.executeNext(p)},u.appendBlocker=function(m){var p,l=new Promise(function(v){p=v}),y={execute:p,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(y,m),l},u.executeNext=function(m){var p=this.buffers,l=this.queues,y=p[m],v=l[m];if(v.length){var f=v[0];try{f.execute()}catch(b){i.logger.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),f.onError(b),y&&y.updating||(v.shift(),this.executeNext(m))}}},u.shiftAndExecuteNext=function(m){this.queues[m].shift(),this.executeNext(m)},u.current=function(m){return this.queues[m][0]},o}()},"./src/controller/cap-level-controller.ts":function(t,e,n){n.r(e);var i=n("./src/events.ts");function s(u,m){for(var p=0;p<m.length;p++){var l=m[p];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(u,l.key,l)}}var o=function(){function u(v){this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.hls=void 0,this.streamController=void 0,this.clientRect=void 0,this.hls=v,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var m,p,l,y=u.prototype;return y.setStreamController=function(v){this.streamController=v},y.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},y.registerListeners=function(){var v=this.hls;v.on(i.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),v.on(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),v.on(i.Events.MANIFEST_PARSED,this.onManifestParsed,this),v.on(i.Events.BUFFER_CODECS,this.onBufferCodecs,this),v.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},y.unregisterListener=function(){var v=this.hls;v.off(i.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),v.off(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),v.off(i.Events.MANIFEST_PARSED,this.onManifestParsed,this),v.off(i.Events.BUFFER_CODECS,this.onBufferCodecs,this),v.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},y.onFpsDropLevelCapping=function(v,f){u.isLevelAllowed(f.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(f.droppedLevel)},y.onMediaAttaching=function(v,f){this.media=f.media instanceof HTMLVideoElement?f.media:null},y.onManifestParsed=function(v,f){var b=this.hls;this.restrictedLevels=[],this.firstLevel=f.firstLevel,b.config.capLevelToPlayerSize&&f.video&&this.startCapping()},y.onBufferCodecs=function(v,f){this.hls.config.capLevelToPlayerSize&&f.video&&this.startCapping()},y.onMediaDetaching=function(){this.stopCapping()},y.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var v=this.hls.levels;if(v.length){var f=this.hls;f.autoLevelCapping=this.getMaxLevel(v.length-1),f.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=f.autoLevelCapping}}},y.getMaxLevel=function(v){var f=this,b=this.hls.levels;if(!b.length)return-1;var S=b.filter(function(d,h){return u.isLevelAllowed(h,f.restrictedLevels)&&h<=v});return this.clientRect=null,u.getMaxLevelByMediaSize(S,this.mediaWidth,this.mediaHeight)},y.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},y.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},y.getDimensions=function(){if(this.clientRect)return this.clientRect;var v=this.media,f={width:0,height:0};if(v){var b=v.getBoundingClientRect();f.width=b.width,f.height=b.height,f.width||f.height||(f.width=b.right-b.left||v.width||0,f.height=b.bottom-b.top||v.height||0)}return this.clientRect=f,f},u.isLevelAllowed=function(v,f){return f===void 0&&(f=[]),f.indexOf(v)===-1},u.getMaxLevelByMediaSize=function(v,f,b){if(!v||!v.length)return-1;for(var S,d,h=v.length-1,c=0;c<v.length;c+=1){var g=v[c];if((g.width>=f||g.height>=b)&&(S=g,!(d=v[c+1])||S.width!==d.width||S.height!==d.height)){h=c;break}}return h},m=u,l=[{key:"contentScaleFactor",get:function(){var v=1;try{v=self.devicePixelRatio}catch{}return v}}],(p=[{key:"mediaWidth",get:function(){return this.getDimensions().width*u.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*u.contentScaleFactor}}])&&s(m.prototype,p),l&&s(m,l),u}();e.default=o},"./src/controller/eme-controller.ts":function(t,e,n){n.r(e);var i=n("./src/events.ts"),s=n("./src/errors.ts"),o=n("./src/utils/logger.ts"),u=n("./src/utils/mediakeys-helper.ts");function m(l,y){for(var v=0;v<y.length;v++){var f=y[v];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}var p=function(){function l(b){this.hls=void 0,this._widevineLicenseUrl=void 0,this._licenseXhrSetup=void 0,this._licenseResponseCallback=void 0,this._emeEnabled=void 0,this._requestMediaKeySystemAccess=void 0,this._drmSystemOptions=void 0,this._config=void 0,this._mediaKeysList=[],this._media=null,this._hasSetMediaKeys=!1,this._requestLicenseFailureCount=0,this.mediaKeysPromise=null,this._onMediaEncrypted=this.onMediaEncrypted.bind(this),this.hls=b,this._config=b.config,this._widevineLicenseUrl=this._config.widevineLicenseUrl,this._licenseXhrSetup=this._config.licenseXhrSetup,this._licenseResponseCallback=this._config.licenseResponseCallback,this._emeEnabled=this._config.emeEnabled,this._requestMediaKeySystemAccess=this._config.requestMediaKeySystemAccessFunc,this._drmSystemOptions=this._config.drmSystemOptions,this._registerListeners()}var y,v,f=l.prototype;return f.destroy=function(){this._unregisterListeners(),this.hls=this._onMediaEncrypted=null,this._requestMediaKeySystemAccess=null},f._registerListeners=function(){this.hls.on(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(i.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(i.Events.MANIFEST_PARSED,this.onManifestParsed,this)},f._unregisterListeners=function(){this.hls.off(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(i.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(i.Events.MANIFEST_PARSED,this.onManifestParsed,this)},f.getLicenseServerUrl=function(b){switch(b){case u.KeySystems.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+b+'"')},f._attemptKeySystemAccess=function(b,S,d){var h=this,c=function(T,E,A,w){switch(T){case u.KeySystems.WIDEVINE:return function(L,x,D){var k={audioCapabilities:[],videoCapabilities:[]};return L.forEach(function(R){k.audioCapabilities.push({contentType:'audio/mp4; codecs="'+R+'"',robustness:D.audioRobustness||""})}),x.forEach(function(R){k.videoCapabilities.push({contentType:'video/mp4; codecs="'+R+'"',robustness:D.videoRobustness||""})}),[k]}(E,A,w);default:throw new Error("Unknown key-system: "+T)}}(b,S,d,this._drmSystemOptions);o.logger.log("Requesting encrypted media key-system access");var g=this.requestMediaKeySystemAccess(b,c);this.mediaKeysPromise=g.then(function(T){return h._onMediaKeySystemAccessObtained(b,T)}),g.catch(function(T){o.logger.error('Failed to obtain key-system "'+b+'" access:',T)})},f._onMediaKeySystemAccessObtained=function(b,S){var d=this;o.logger.log('Access for key-system "'+b+'" obtained');var h={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:S,mediaKeySystemDomain:b};this._mediaKeysList.push(h);var c=Promise.resolve().then(function(){return S.createMediaKeys()}).then(function(g){return h.mediaKeys=g,o.logger.log('Media-keys created for key-system "'+b+'"'),d._onMediaKeysCreated(),g});return c.catch(function(g){o.logger.error("Failed to create media-keys:",g)}),c},f._onMediaKeysCreated=function(){var b=this;this._mediaKeysList.forEach(function(S){S.mediaKeysSession||(S.mediaKeysSession=S.mediaKeys.createSession(),b._onNewMediaKeySession(S.mediaKeysSession))})},f._onNewMediaKeySession=function(b){var S=this;o.logger.log("New key-system session "+b.sessionId),b.addEventListener("message",function(d){S._onKeySessionMessage(b,d.message)},!1)},f._onKeySessionMessage=function(b,S){o.logger.log("Got EME message event, creating license request"),this._requestLicense(S,function(d){o.logger.log("Received license data (length: "+(d&&d.byteLength)+"), updating key-session"),b.update(d)})},f.onMediaEncrypted=function(b){var S=this;if(o.logger.log('Media is encrypted using "'+b.initDataType+'" init data type'),!this.mediaKeysPromise)return o.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),void this.hls.trigger(i.Events.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});var d=function(h){S._media&&(S._attemptSetMediaKeys(h),S._generateRequestWithPreferredKeySession(b.initDataType,b.initData))};this.mediaKeysPromise.then(d).catch(d)},f._attemptSetMediaKeys=function(b){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var S=this._mediaKeysList[0];if(!S||!S.mediaKeys)return o.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(i.Events.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});o.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(S.mediaKeys),this._hasSetMediaKeys=!0}},f._generateRequestWithPreferredKeySession=function(b,S){var d=this,h=this._mediaKeysList[0];if(!h)return o.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(i.Events.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(h.mediaKeysSessionInitialized)o.logger.warn("Key-Session already initialized but requested again");else{var c=h.mediaKeysSession;if(!c)return o.logger.error("Fatal: Media is encrypted but no key-session existing"),void this.hls.trigger(i.Events.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0});if(!S)return o.logger.warn("Fatal: initData required for generating a key session is null"),void this.hls.trigger(i.Events.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_INIT_DATA,fatal:!0});o.logger.log('Generating key-session request for "'+b+'" init data type'),h.mediaKeysSessionInitialized=!0,c.generateRequest(b,S).then(function(){o.logger.debug("Key-session generation succeeded")}).catch(function(g){o.logger.error("Error generating key-session request:",g),d.hls.trigger(i.Events.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})})}},f._createLicenseXhr=function(b,S,d){var h=new XMLHttpRequest;h.responseType="arraybuffer",h.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,h,b,S,d);var c=this._licenseXhrSetup;if(c)try{c.call(this.hls,h,b),c=void 0}catch(g){o.logger.error(g)}try{h.readyState||h.open("POST",b,!0),c&&c.call(this.hls,h,b)}catch(g){throw new Error("issue setting up KeySystem license XHR "+g)}return h},f._onLicenseRequestReadyStageChange=function(b,S,d,h){switch(b.readyState){case 4:if(b.status===200){this._requestLicenseFailureCount=0,o.logger.log("License request succeeded");var c=b.response,g=this._licenseResponseCallback;if(g)try{c=g.call(this.hls,b,S)}catch(E){o.logger.error(E)}h(c)}else{if(o.logger.error("License Request XHR failed ("+S+"). Status: "+b.status+" ("+b.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount>3)return void this.hls.trigger(i.Events.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});var T=3-this._requestLicenseFailureCount+1;o.logger.warn("Retrying license request, "+T+" attempts left"),this._requestLicense(d,h)}}},f._generateLicenseRequestChallenge=function(b,S){switch(b.mediaKeySystemDomain){case u.KeySystems.WIDEVINE:return S}throw new Error("unsupported key-system: "+b.mediaKeySystemDomain)},f._requestLicense=function(b,S){o.logger.log("Requesting content license for key-system");var d=this._mediaKeysList[0];if(!d)return o.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(i.Events.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});try{var h=this.getLicenseServerUrl(d.mediaKeySystemDomain),c=this._createLicenseXhr(h,b,S);o.logger.log("Sending license request to URL: "+h);var g=this._generateLicenseRequestChallenge(d,b);c.send(g)}catch(T){o.logger.error("Failure requesting DRM license: "+T),this.hls.trigger(i.Events.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},f.onMediaAttached=function(b,S){if(this._emeEnabled){var d=S.media;this._media=d,d.addEventListener("encrypted",this._onMediaEncrypted)}},f.onMediaDetached=function(){var b=this._media,S=this._mediaKeysList;b&&(b.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null,this._mediaKeysList=[],Promise.all(S.map(function(d){if(d.mediaKeysSession)return d.mediaKeysSession.close().catch(function(){})})).then(function(){return b.setMediaKeys(null)}).catch(function(){}))},f.onManifestParsed=function(b,S){if(this._emeEnabled){var d=S.levels.map(function(c){return c.audioCodec}).filter(function(c){return!!c}),h=S.levels.map(function(c){return c.videoCodec}).filter(function(c){return!!c});this._attemptKeySystemAccess(u.KeySystems.WIDEVINE,d,h)}},y=l,(v=[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}])&&m(y.prototype,v),l}();e.default=p},"./src/controller/fps-controller.ts":function(t,e,n){n.r(e);var i=n("./src/events.ts"),s=n("./src/utils/logger.ts"),o=function(){function u(p){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=p,this.registerListeners()}var m=u.prototype;return m.setStreamController=function(p){this.streamController=p},m.registerListeners=function(){this.hls.on(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this)},m.unregisterListeners=function(){this.hls.off(i.Events.MEDIA_ATTACHING,this.onMediaAttaching)},m.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},m.onMediaAttaching=function(p,l){var y=this.hls.config;if(y.capLevelOnFPSDrop){var v=l.media instanceof self.HTMLVideoElement?l.media:null;this.media=v,v&&typeof v.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),y.fpsDroppedMonitoringPeriod)}},m.checkFPS=function(p,l,y){var v=performance.now();if(l){if(this.lastTime){var f=v-this.lastTime,b=y-this.lastDroppedFrames,S=l-this.lastDecodedFrames,d=1e3*b/f,h=this.hls;if(h.trigger(i.Events.FPS_DROP,{currentDropped:b,currentDecoded:S,totalDroppedFrames:y}),d>0&&b>h.config.fpsDroppedMonitoringThreshold*S){var c=h.currentLevel;s.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+c),c>0&&(h.autoLevelCapping===-1||h.autoLevelCapping>=c)&&(c-=1,h.trigger(i.Events.FPS_DROP_LEVEL_CAPPING,{level:c,droppedLevel:h.currentLevel}),h.autoLevelCapping=c,this.streamController.nextLevelSwitch())}}this.lastTime=v,this.lastDroppedFrames=y,this.lastDecodedFrames=l}},m.checkFPSInterval=function(){var p=this.media;if(p)if(this.isVideoPlaybackQualityAvailable){var l=p.getVideoPlaybackQuality();this.checkFPS(p,l.totalVideoFrames,l.droppedVideoFrames)}else this.checkFPS(p,p.webkitDecodedFrameCount,p.webkitDroppedFrameCount)},u}();e.default=o},"./src/controller/fragment-finders.ts":function(t,e,n){n.r(e),n.d(e,"findFragmentByPDT",function(){return o}),n.d(e,"findFragmentByPTS",function(){return u}),n.d(e,"fragmentWithinToleranceTest",function(){return m}),n.d(e,"pdtWithinToleranceTest",function(){return p}),n.d(e,"findFragWithCC",function(){return l});var i=n("./src/polyfills/number.ts"),s=n("./src/utils/binary-search.ts");function o(y,v,f){if(v===null||!Array.isArray(y)||!y.length||!Object(i.isFiniteNumber)(v)||v<(y[0].programDateTime||0)||v>=(y[y.length-1].endProgramDateTime||0))return null;f=f||0;for(var b=0;b<y.length;++b){var S=y[b];if(p(v,f,S))return S}return null}function u(y,v,f,b){f===void 0&&(f=0),b===void 0&&(b=0);var S=null;if(y?S=v[y.sn-v[0].sn+1]||null:f===0&&v[0].start===0&&(S=v[0]),S&&m(f,b,S)===0)return S;var d=s.default.search(v,m.bind(null,f,b));return d||S}function m(y,v,f){y===void 0&&(y=0),v===void 0&&(v=0);var b=Math.min(v,f.duration+(f.deltaPTS?f.deltaPTS:0));return f.start+f.duration-b<=y?1:f.start-b>y&&f.start?-1:0}function p(y,v,f){var b=1e3*Math.min(v,f.duration+(f.deltaPTS?f.deltaPTS:0));return(f.endProgramDateTime||0)-b>y}function l(y,v){return s.default.search(y,function(f){return f.cc<v?1:f.cc>v?-1:0})}},"./src/controller/fragment-tracker.ts":function(t,e,n){n.r(e),n.d(e,"FragmentState",function(){return i}),n.d(e,"FragmentTracker",function(){return m});var i,s,o=n("./src/events.ts"),u=n("./src/types/loader.ts");(s=i||(i={})).NOT_LOADED="NOT_LOADED",s.BACKTRACKED="BACKTRACKED",s.APPENDING="APPENDING",s.PARTIAL="PARTIAL",s.OK="OK";var m=function(){function y(f){this.activeFragment=null,this.activeParts=null,this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hls=f,this._registerListeners()}var v=y.prototype;return v._registerListeners=function(){var f=this.hls;f.on(o.Events.BUFFER_APPENDED,this.onBufferAppended,this),f.on(o.Events.FRAG_BUFFERED,this.onFragBuffered,this),f.on(o.Events.FRAG_LOADED,this.onFragLoaded,this)},v._unregisterListeners=function(){var f=this.hls;f.off(o.Events.BUFFER_APPENDED,this.onBufferAppended,this),f.off(o.Events.FRAG_BUFFERED,this.onFragBuffered,this),f.off(o.Events.FRAG_LOADED,this.onFragLoaded,this)},v.destroy=function(){this._unregisterListeners(),this.fragments=this.timeRanges=null},v.getAppendedFrag=function(f,b){if(b===u.PlaylistLevelType.MAIN){var S=this.activeFragment,d=this.activeParts;if(!S)return null;if(d)for(var h=d.length;h--;){var c=d[h],g=c?c.end:S.appendedPTS;if(c.start<=f&&g!==void 0&&f<=g)return h>9&&(this.activeParts=d.slice(h-9)),c}else if(S.start<=f&&S.appendedPTS!==void 0&&f<=S.appendedPTS)return S}return this.getBufferedFrag(f,b)},v.getBufferedFrag=function(f,b){for(var S=this.fragments,d=Object.keys(S),h=d.length;h--;){var c=S[d[h]];if((c==null?void 0:c.body.type)===b&&c.buffered){var g=c.body;if(g.start<=f&&f<=g.end)return g}}return null},v.detectEvictedFragments=function(f,b,S){var d=this;Object.keys(this.fragments).forEach(function(h){var c=d.fragments[h];if(c)if(c.buffered){var g=c.range[f];g&&g.time.some(function(T){var E=!d.isTimeBuffered(T.startPTS,T.endPTS,b);return E&&d.removeFragment(c.body),E})}else c.body.type===S&&d.removeFragment(c.body)})},v.detectPartialFragments=function(f){var b=this,S=this.timeRanges,d=f.frag,h=f.part;if(S&&d.sn!=="initSegment"){var c=l(d),g=this.fragments[c];g&&(Object.keys(S).forEach(function(T){var E=d.elementaryStreams[T];if(E){var A=S[T],w=h!==null||E.partial===!0;g.range[T]=b.getBufferedTimes(d,h,w,A)}}),g.backtrack=g.loaded=null,Object.keys(g.range).length?g.buffered=!0:this.removeFragment(g.body))}},v.fragBuffered=function(f){var b=l(f),S=this.fragments[b];S&&(S.backtrack=S.loaded=null,S.buffered=!0)},v.getBufferedTimes=function(f,b,S,d){for(var h={time:[],partial:S},c=b?b.start:f.start,g=b?b.end:f.end,T=f.minEndPTS||g,E=f.maxStartPTS||c,A=0;A<d.length;A++){var w=d.start(A)-this.bufferPadding,L=d.end(A)+this.bufferPadding;if(E>=w&&T<=L){h.time.push({startPTS:Math.max(c,d.start(A)),endPTS:Math.min(g,d.end(A))});break}if(c<L&&g>w)h.partial=!0,h.time.push({startPTS:Math.max(c,d.start(A)),endPTS:Math.min(g,d.end(A))});else if(g<=w)break}return h},v.getPartialFragment=function(f){var b,S,d,h=null,c=0,g=this.bufferPadding,T=this.fragments;return Object.keys(T).forEach(function(E){var A=T[E];A&&p(A)&&(S=A.body.start-g,d=A.body.end+g,f>=S&&f<=d&&(b=Math.min(f-S,d-f),c<=b&&(h=A.body,c=b)))}),h},v.getState=function(f){var b=l(f),S=this.fragments[b];return S?S.buffered?p(S)?i.PARTIAL:i.OK:S.backtrack?i.BACKTRACKED:i.APPENDING:i.NOT_LOADED},v.backtrack=function(f,b){var S=l(f),d=this.fragments[S];if(!d||d.backtrack)return null;var h=d.backtrack=b||d.loaded;return d.loaded=null,h},v.getBacktrackData=function(f){var b=l(f),S=this.fragments[b];if(S){var d,h=S.backtrack;if(h!=null&&(d=h.payload)!==null&&d!==void 0&&d.byteLength)return h;this.removeFragment(f)}return null},v.isTimeBuffered=function(f,b,S){for(var d,h,c=0;c<S.length;c++){if(d=S.start(c)-this.bufferPadding,h=S.end(c)+this.bufferPadding,f>=d&&b<=h)return!0;if(b<=d)return!1}return!1},v.onFragLoaded=function(f,b){var S=b.frag,d=b.part;if(S.sn!=="initSegment"&&!S.bitrateTest&&!d){var h=l(S);this.fragments[h]={body:S,loaded:b,backtrack:null,buffered:!1,range:Object.create(null)}}},v.onBufferAppended=function(f,b){var S=this,d=b.frag,h=b.part,c=b.timeRanges;if(d.type===u.PlaylistLevelType.MAIN)if(this.activeFragment=d,h){var g=this.activeParts;g||(this.activeParts=g=[]),g.push(h)}else this.activeParts=null;this.timeRanges=c,Object.keys(c).forEach(function(T){var E=c[T];if(S.detectEvictedFragments(T,E),!h)for(var A=0;A<E.length;A++)d.appendedPTS=Math.max(E.end(A),d.appendedPTS||0)})},v.onFragBuffered=function(f,b){this.detectPartialFragments(b)},v.hasFragment=function(f){var b=l(f);return!!this.fragments[b]},v.removeFragmentsInRange=function(f,b,S){var d=this;Object.keys(this.fragments).forEach(function(h){var c=d.fragments[h];if(c&&c.buffered){var g=c.body;g.type===S&&g.start<b&&g.end>f&&d.removeFragment(g)}})},v.removeFragment=function(f){var b=l(f);f.stats.loaded=0,f.clearElementaryStreamInfo(),delete this.fragments[b]},v.removeAllFragments=function(){this.fragments=Object.create(null),this.activeFragment=null,this.activeParts=null},y}();function p(y){var v,f;return y.buffered&&(((v=y.range.video)===null||v===void 0?void 0:v.partial)||((f=y.range.audio)===null||f===void 0?void 0:f.partial))}function l(y){return y.type+"_"+y.level+"_"+y.urlId+"_"+y.sn}},"./src/controller/gap-controller.ts":function(t,e,n){n.r(e),n.d(e,"STALL_MINIMUM_DURATION_MS",function(){return m}),n.d(e,"MAX_START_GAP_JUMP",function(){return p}),n.d(e,"SKIP_BUFFER_HOLE_STEP_SECONDS",function(){return l}),n.d(e,"SKIP_BUFFER_RANGE_START",function(){return y}),n.d(e,"default",function(){return v});var i=n("./src/utils/buffer-helper.ts"),s=n("./src/errors.ts"),o=n("./src/events.ts"),u=n("./src/utils/logger.ts"),m=250,p=2,l=.1,y=.05,v=function(){function f(S,d,h,c){this.config=void 0,this.media=void 0,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=S,this.media=d,this.fragmentTracker=h,this.hls=c}var b=f.prototype;return b.destroy=function(){this.hls=this.fragmentTracker=this.media=null},b.poll=function(S){var d=this.config,h=this.media,c=this.stalled,g=h.currentTime,T=h.seeking,E=this.seeking&&!T,A=!this.seeking&&T;if(this.seeking=T,g===S){if((A||E)&&(this.stalled=null),!h.paused&&!h.ended&&h.playbackRate!==0&&i.BufferHelper.getBuffered(h).length){var w=i.BufferHelper.bufferInfo(h,g,0),L=w.len>0,x=w.nextStart||0;if(L||x){if(T){var D=w.len>p,k=!x||x-g>p&&!this.fragmentTracker.getPartialFragment(g);if(D||k)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var R,I=Math.max(x,w.start||0)-g,O=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,P=!(O==null||(R=O.details)===null||R===void 0)&&R.live?2*O.details.targetduration:p;if(I>0&&I<=P)return void this._trySkipBufferHole(null)}var F=self.performance.now();if(c!==null){var U=F-c;!T&&U>=m&&this._reportStall(w.len);var B=i.BufferHelper.bufferInfo(h,g,d.maxBufferHole);this._tryFixBufferStall(B,U)}else this.stalled=F}}}else if(this.moved=!0,c!==null){if(this.stallReported){var H=self.performance.now()-c;u.logger.warn("playback not stuck anymore @"+g+", after "+Math.round(H)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},b._tryFixBufferStall=function(S,d){var h=this.config,c=this.fragmentTracker,g=this.media.currentTime,T=c.getPartialFragment(g);T&&this._trySkipBufferHole(T)||S.len>h.maxBufferHole&&d>1e3*h.highBufferWatchdogPeriod&&(u.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},b._reportStall=function(S){var d=this.hls,h=this.media;this.stallReported||(this.stallReported=!0,u.logger.warn("Playback stalling at @"+h.currentTime+" due to low buffer (buffer="+S+")"),d.trigger(o.Events.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:S}))},b._trySkipBufferHole=function(S){for(var d=this.config,h=this.hls,c=this.media,g=c.currentTime,T=0,E=i.BufferHelper.getBuffered(c),A=0;A<E.length;A++){var w=E.start(A);if(g+d.maxBufferHole>=T&&g<w){var L=Math.max(w+y,c.currentTime+l);return u.logger.warn("skipping hole, adjusting currentTime from "+g+" to "+L),this.moved=!0,this.stalled=null,c.currentTime=L,S&&h.trigger(o.Events.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+g+" to "+L,frag:S}),L}T=E.end(A)}return 0},b._tryNudgeBuffer=function(){var S=this.config,d=this.hls,h=this.media,c=h.currentTime,g=(this.nudgeRetry||0)+1;if(this.nudgeRetry=g,g<S.nudgeMaxRetry){var T=c+g*S.nudgeOffset;u.logger.warn("Nudging 'currentTime' from "+c+" to "+T),h.currentTime=T,d.trigger(o.Events.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else u.logger.error("Playhead still not moving while enough data buffered @"+c+" after "+S.nudgeMaxRetry+" nudges"),d.trigger(o.Events.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},f}()},"./src/controller/id3-track-controller.ts":function(t,e,n){n.r(e);var i=n("./src/events.ts"),s=n("./src/utils/texttrack-utils.ts"),o=n("./src/demux/id3.ts"),u=function(){function m(l){this.hls=void 0,this.id3Track=null,this.media=null,this.hls=l,this._registerListeners()}var p=m.prototype;return p.destroy=function(){this._unregisterListeners()},p._registerListeners=function(){var l=this.hls;l.on(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),l.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),l.on(i.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),l.on(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},p._unregisterListeners=function(){var l=this.hls;l.off(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),l.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),l.off(i.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),l.off(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},p.onMediaAttached=function(l,y){this.media=y.media},p.onMediaDetaching=function(){this.id3Track&&(Object(s.clearCurrentCues)(this.id3Track),this.id3Track=null,this.media=null)},p.getID3Track=function(l){if(this.media){for(var y=0;y<l.length;y++){var v=l[y];if(v.kind==="metadata"&&v.label==="id3")return Object(s.sendAddTrackEvent)(v,this.media),v}return this.media.addTextTrack("metadata","id3")}},p.onFragParsingMetadata=function(l,y){if(this.media){var v=y.frag,f=y.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var b=self.WebKitDataCue||self.VTTCue||self.TextTrackCue,S=0;S<f.length;S++){var d=o.getID3Frames(f[S].data);if(d){var h=f[S].pts,c=S<f.length-1?f[S+1].pts:v.end;c-h<=0&&(c=h+.25);for(var g=0;g<d.length;g++){var T=d[g];if(!o.isTimeStampFrame(T)){var E=new b(h,c,"");E.value=T,this.id3Track.addCue(E)}}}}}},p.onBufferFlushing=function(l,y){var v=y.startOffset,f=y.endOffset,b=y.type;if(!b||b==="audio"){var S=this.id3Track;S&&Object(s.removeCuesInRange)(S,v,f)}},m}();e.default=u},"./src/controller/latency-controller.ts":function(t,e,n){n.r(e),n.d(e,"default",function(){return m});var i=n("./src/errors.ts"),s=n("./src/events.ts"),o=n("./src/utils/logger.ts");function u(p,l){for(var y=0;y<l.length;y++){var v=l[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}var m=function(){function p(f){var b=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return b.timeupdate()},this.hls=f,this.config=f.config,this.registerListeners()}var l,y,v=p.prototype;return v.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},v.registerListeners=function(){this.hls.on(s.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(s.Events.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(s.Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(s.Events.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(s.Events.ERROR,this.onError,this)},v.unregisterListeners=function(){this.hls.off(s.Events.MEDIA_ATTACHED,this.onMediaAttached),this.hls.off(s.Events.MEDIA_DETACHING,this.onMediaDetaching),this.hls.off(s.Events.MANIFEST_LOADING,this.onManifestLoading),this.hls.off(s.Events.LEVEL_UPDATED,this.onLevelUpdated),this.hls.off(s.Events.ERROR,this.onError)},v.onMediaAttached=function(f,b){this.media=b.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},v.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},v.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},v.onLevelUpdated=function(f,b){var S=b.details;this.levelDetails=S,S.advanced&&this.timeupdate(),!S.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},v.onError=function(f,b){b.details===i.ErrorDetails.BUFFER_STALLED_ERROR&&(this.stallCount++,o.logger.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},v.timeupdate=function(){var f=this.media,b=this.levelDetails;if(f&&b){this.currentTime=f.currentTime;var S=this.computeLatency();if(S!==null){this._latency=S;var d=this.config,h=d.lowLatencyMode,c=d.maxLiveSyncPlaybackRate;if(h&&c!==1){var g=this.targetLatency;if(g!==null){var T=S-g,E=T<Math.min(this.maxLatency,g+b.targetduration);if(b.live&&E&&T>.05&&this.forwardBufferLength>1){var A=Math.min(2,Math.max(1,c)),w=Math.round(2/(1+Math.exp(-.75*T-this.edgeStalled))*20)/20;f.playbackRate=Math.min(A,Math.max(1,w))}else f.playbackRate!==1&&f.playbackRate!==0&&(f.playbackRate=1)}}}}},v.estimateLiveEdge=function(){var f=this.levelDetails;return f===null?null:f.edge+f.age},v.computeLatency=function(){var f=this.estimateLiveEdge();return f===null?null:f-this.currentTime},l=p,(y=[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var f=this.config,b=this.levelDetails;return f.liveMaxLatencyDuration!==void 0?f.liveMaxLatencyDuration:b?f.liveMaxLatencyDurationCount*b.targetduration:0}},{key:"targetLatency",get:function(){var f=this.levelDetails;if(f===null)return null;var b=f.holdBack,S=f.partHoldBack,d=f.targetduration,h=this.config,c=h.liveSyncDuration,g=h.liveSyncDurationCount,T=h.lowLatencyMode,E=this.hls.userConfig,A=T&&S||b;(E.liveSyncDuration||E.liveSyncDurationCount||A===0)&&(A=c!==void 0?c:g*d);var w=d;return A+Math.min(1*this.stallCount,w)}},{key:"liveSyncPosition",get:function(){var f=this.estimateLiveEdge(),b=this.targetLatency,S=this.levelDetails;if(f===null||b===null||S===null)return null;var d=S.edge,h=f-b-this.edgeStalled,c=d-S.totalduration,g=d-(this.config.lowLatencyMode&&S.partTarget||S.targetduration);return Math.min(Math.max(c,h),g)}},{key:"drift",get:function(){var f=this.levelDetails;return f===null?1:f.drift}},{key:"edgeStalled",get:function(){var f=this.levelDetails;if(f===null)return 0;var b=3*(this.config.lowLatencyMode&&f.partTarget||f.targetduration);return Math.max(f.age-b,0)}},{key:"forwardBufferLength",get:function(){var f=this.media,b=this.levelDetails;if(!f||!b)return 0;var S=f.buffered.length;return S?f.buffered.end(S-1):b.edge-this.currentTime}}])&&u(l.prototype,y),p}()},"./src/controller/level-controller.ts":function(t,e,n){n.r(e),n.d(e,"default",function(){return S});var i=n("./src/types/level.ts"),s=n("./src/events.ts"),o=n("./src/errors.ts"),u=n("./src/utils/codecs.ts"),m=n("./src/controller/level-helper.ts"),p=n("./src/controller/base-playlist-controller.ts"),l=n("./src/types/loader.ts");function y(){return(y=Object.assign||function(d){for(var h=1;h<arguments.length;h++){var c=arguments[h];for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&(d[g]=c[g])}return d}).apply(this,arguments)}function v(d,h){for(var c=0;c<h.length;c++){var g=h[c];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}function f(d,h){return(f=Object.setPrototypeOf||function(c,g){return c.__proto__=g,c})(d,h)}var b=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),S=function(d){var h,c;function g(w){var L;return(L=d.call(this,w,"[level-controller]")||this)._levels=[],L._firstLevel=-1,L._startLevel=void 0,L.currentLevelIndex=-1,L.manualLevelIndex=-1,L.onParsedComplete=void 0,L._registerListeners(),L}c=d,(h=g).prototype=Object.create(c.prototype),h.prototype.constructor=h,f(h,c);var T,E,A=g.prototype;return A._registerListeners=function(){var w=this.hls;w.on(s.Events.MANIFEST_LOADED,this.onManifestLoaded,this),w.on(s.Events.LEVEL_LOADED,this.onLevelLoaded,this),w.on(s.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),w.on(s.Events.FRAG_LOADED,this.onFragLoaded,this),w.on(s.Events.ERROR,this.onError,this)},A._unregisterListeners=function(){var w=this.hls;w.off(s.Events.MANIFEST_LOADED,this.onManifestLoaded,this),w.off(s.Events.LEVEL_LOADED,this.onLevelLoaded,this),w.off(s.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),w.off(s.Events.FRAG_LOADED,this.onFragLoaded,this),w.off(s.Events.ERROR,this.onError,this)},A.destroy=function(){this._unregisterListeners(),this.manualLevelIndex=-1,this._levels.length=0,d.prototype.destroy.call(this)},A.startLoad=function(){this._levels.forEach(function(w){w.loadError=0}),d.prototype.startLoad.call(this)},A.onManifestLoaded=function(w,L){var x,D,k=[],R=[],I=[],O={},P=!1,F=!1,U=!1;if(L.levels.forEach(function(q){var et=q.attrs;P=P||!(!q.width||!q.height),F=F||!!q.videoCodec,U=U||!!q.audioCodec,b&&q.audioCodec&&q.audioCodec.indexOf("mp4a.40.34")!==-1&&(q.audioCodec=void 0);var rt=q.bitrate+"-"+q.attrs.RESOLUTION+"-"+q.attrs.CODECS;(D=O[rt])?D.url.push(q.url):(D=new i.Level(q),O[rt]=D,k.push(D)),et&&(et.AUDIO&&Object(m.addGroupId)(D,"audio",et.AUDIO),et.SUBTITLES&&Object(m.addGroupId)(D,"text",et.SUBTITLES))}),(P||F)&&U&&(k=k.filter(function(q){var et=q.videoCodec,rt=q.width,ot=q.height;return!!et||!(!rt||!ot)})),k=k.filter(function(q){var et=q.audioCodec,rt=q.videoCodec;return(!et||Object(u.isCodecSupportedInMp4)(et,"audio"))&&(!rt||Object(u.isCodecSupportedInMp4)(rt,"video"))}),L.audioTracks&&(R=L.audioTracks.filter(function(q){return!q.audioCodec||Object(u.isCodecSupportedInMp4)(q.audioCodec,"audio")}),Object(m.assignTrackIdsByGroup)(R)),L.subtitles&&(I=L.subtitles,Object(m.assignTrackIdsByGroup)(I)),k.length>0){x=k[0].bitrate,k.sort(function(q,et){return q.bitrate-et.bitrate}),this._levels=k;for(var B=0;B<k.length;B++)if(k[B].bitrate===x){this._firstLevel=B,this.log("manifest loaded, "+k.length+" level(s) found, first bitrate: "+x);break}var H=U&&!F,V={levels:k,audioTracks:R,subtitleTracks:I,firstLevel:this._firstLevel,stats:L.stats,audio:U,video:F,altAudio:!H&&R.some(function(q){return!!q.url})};this.hls.trigger(s.Events.MANIFEST_PARSED,V),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(s.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:L.url,reason:"no level with compatible codecs found in manifest"})},A.onError=function(w,L){if(d.prototype.onError.call(this,w,L),!L.fatal){var x=L.context,D=this._levels[this.currentLevelIndex];if(x&&(x.type===l.PlaylistContextType.AUDIO_TRACK&&D.audioGroupIds&&x.groupId===D.audioGroupIds[D.urlId]||x.type===l.PlaylistContextType.SUBTITLE_TRACK&&D.textGroupIds&&x.groupId===D.textGroupIds[D.urlId]))this.redundantFailover(this.currentLevelIndex);else{var k,R=!1,I=!0;switch(L.details){case o.ErrorDetails.FRAG_LOAD_ERROR:case o.ErrorDetails.FRAG_LOAD_TIMEOUT:case o.ErrorDetails.KEY_LOAD_ERROR:case o.ErrorDetails.KEY_LOAD_TIMEOUT:if(L.frag){var O=this._levels[L.frag.level];O?(O.fragmentError++,O.fragmentError>this.hls.config.fragLoadingMaxRetry&&(k=L.frag.level)):k=L.frag.level}break;case o.ErrorDetails.LEVEL_LOAD_ERROR:case o.ErrorDetails.LEVEL_LOAD_TIMEOUT:x&&(x.deliveryDirectives&&(I=!1),k=x.level),R=!0;break;case o.ErrorDetails.REMUX_ALLOC_ERROR:k=L.level,R=!0}k!==void 0&&this.recoverLevel(L,k,R,I)}}},A.recoverLevel=function(w,L,x,D){var k=w.details,R=this._levels[L];if(R.loadError++,x){if(!this.retryLoadingOrFail(w))return void(this.currentLevelIndex=-1);w.levelRetry=!0}if(D){var I=R.url.length;if(I>1&&R.loadError<I)w.levelRetry=!0,this.redundantFailover(L);else if(this.manualLevelIndex===-1){var O=L===0?this._levels.length-1:L-1;this.currentLevelIndex!==O&&this._levels[O].loadError===0&&(this.warn(k+": switch to "+O),w.levelRetry=!0,this.hls.nextAutoLevel=O)}}},A.redundantFailover=function(w){var L=this._levels[w],x=L.url.length;if(x>1){var D=(L.urlId+1)%x;this.warn("Switching to redundant URL-id "+D),this._levels.forEach(function(k){k.urlId=D}),this.level=w}},A.onFragLoaded=function(w,L){var x=L.frag;if(x!==void 0&&x.type===l.PlaylistLevelType.MAIN){var D=this._levels[x.level];D!==void 0&&(D.fragmentError=0,D.loadError=0)}},A.onLevelLoaded=function(w,L){var x,D,k=L.level,R=L.details,I=this._levels[k];if(!I)return this.warn("Invalid level index "+k),void((D=L.deliveryDirectives)!==null&&D!==void 0&&D.skip&&(R.deltaUpdateFailed=!0));k===this.currentLevelIndex?(I.fragmentError===0&&(I.loadError=0,this.retryCount=0),this.playlistLoaded(k,L,I.details)):(x=L.deliveryDirectives)!==null&&x!==void 0&&x.skip&&(R.deltaUpdateFailed=!0)},A.onAudioTrackSwitched=function(w,L){var x=this.hls.levels[this.currentLevelIndex];if(x&&x.audioGroupIds){for(var D=-1,k=this.hls.audioTracks[L.id].groupId,R=0;R<x.audioGroupIds.length;R++)if(x.audioGroupIds[R]===k){D=R;break}D!==x.urlId&&(x.urlId=D,this.startLoad())}},A.loadPlaylist=function(w){var L=this.currentLevelIndex,x=this._levels[L];if(this.canLoad&&x&&x.url.length>0){var D=x.urlId,k=x.url[D];if(w)try{k=w.addDirectives(k)}catch(R){this.warn("Could not construct new URL with HLS Delivery Directives: "+R)}this.log("Attempt loading level index "+L+(w?" at sn "+w.msn+" part "+w.part:"")+" with URL-id "+D+" "+k),this.clearTimer(),this.hls.trigger(s.Events.LEVEL_LOADING,{url:k,level:L,id:D,deliveryDirectives:w||null})}},A.removeLevel=function(w,L){var x=function(k,R){return R!==L},D=this._levels.filter(function(k,R){return R!==w||k.url.length>1&&L!==void 0&&(k.url=k.url.filter(x),k.audioGroupIds&&(k.audioGroupIds=k.audioGroupIds.filter(x)),k.textGroupIds&&(k.textGroupIds=k.textGroupIds.filter(x)),k.urlId=0,!0)}).map(function(k,R){var I=k.details;return I!=null&&I.fragments&&I.fragments.forEach(function(O){O.level=R}),k});this._levels=D,this.hls.trigger(s.Events.LEVELS_UPDATED,{levels:D})},T=g,(E=[{key:"levels",get:function(){return this._levels.length===0?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(w){var L,x=this._levels;if(x.length!==0&&(this.currentLevelIndex!==w||(L=x[w])===null||L===void 0||!L.details)){if(w<0||w>=x.length){var D=w<0;if(this.hls.trigger(s.Events.ERROR,{type:o.ErrorTypes.OTHER_ERROR,details:o.ErrorDetails.LEVEL_SWITCH_ERROR,level:w,fatal:D,reason:"invalid level idx"}),D)return;w=Math.min(w,x.length-1)}this.clearTimer();var k=this.currentLevelIndex,R=x[k],I=x[w];this.log("switching to level "+w+" from "+k),this.currentLevelIndex=w;var O=y({},I,{level:w,maxBitrate:I.maxBitrate,uri:I.uri,urlId:I.urlId});delete O._urlId,this.hls.trigger(s.Events.LEVEL_SWITCHING,O);var P=I.details;if(!P||P.live){var F=this.switchParams(I.uri,R==null?void 0:R.details);this.loadPlaylist(F)}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(w){this.manualLevelIndex=w,this._startLevel===void 0&&(this._startLevel=w),w!==-1&&(this.level=w)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(w){this._firstLevel=w}},{key:"startLevel",get:function(){if(this._startLevel===void 0){var w=this.hls.config.startLevel;return w!==void 0?w:this._firstLevel}return this._startLevel},set:function(w){this._startLevel=w}},{key:"nextLoadLevel",get:function(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(w){this.level=w,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=w)}}])&&v(T.prototype,E),g}(p.default)},"./src/controller/level-helper.ts":function(t,e,n){n.r(e),n.d(e,"addGroupId",function(){return o}),n.d(e,"assignTrackIdsByGroup",function(){return u}),n.d(e,"updatePTS",function(){return m}),n.d(e,"updateFragPTSDTS",function(){return l}),n.d(e,"mergeDetails",function(){return y}),n.d(e,"mapPartIntersection",function(){return v}),n.d(e,"mapFragmentIntersection",function(){return f}),n.d(e,"adjustSliding",function(){return b}),n.d(e,"addSliding",function(){return S}),n.d(e,"computeReloadInterval",function(){return d}),n.d(e,"getFragmentWithSN",function(){return h}),n.d(e,"getPartWith",function(){return c});var i=n("./src/polyfills/number.ts"),s=n("./src/utils/logger.ts");function o(g,T,E){switch(T){case"audio":g.audioGroupIds||(g.audioGroupIds=[]),g.audioGroupIds.push(E);break;case"text":g.textGroupIds||(g.textGroupIds=[]),g.textGroupIds.push(E)}}function u(g){var T={};g.forEach(function(E){var A=E.groupId||"";E.id=T[A]=T[A]||0,T[A]++})}function m(g,T,E){p(g[T],g[E])}function p(g,T){var E=T.startPTS;if(Object(i.isFiniteNumber)(E)){var A,w=0;T.sn>g.sn?(w=E-g.start,A=g):(w=g.start-E,A=T),A.duration!==w&&(A.duration=w)}else T.sn>g.sn?g.cc===T.cc&&g.minEndPTS?T.start=g.start+(g.minEndPTS-g.start):T.start=g.start+g.duration:T.start=Math.max(g.start-T.duration,0)}function l(g,T,E,A,w,L){A-E<=0&&(s.logger.warn("Fragment should have a positive duration",T),A=E+T.duration,L=w+T.duration);var x=E,D=A,k=T.startPTS,R=T.endPTS;if(Object(i.isFiniteNumber)(k)){var I=Math.abs(k-E);Object(i.isFiniteNumber)(T.deltaPTS)?T.deltaPTS=Math.max(I,T.deltaPTS):T.deltaPTS=I,x=Math.max(E,k),E=Math.min(E,k),w=Math.min(w,T.startDTS),D=Math.min(A,R),A=Math.max(A,R),L=Math.max(L,T.endDTS)}T.duration=A-E;var O=E-T.start;T.appendedPTS=A,T.start=T.startPTS=E,T.maxStartPTS=x,T.startDTS=w,T.endPTS=A,T.minEndPTS=D,T.endDTS=L;var P,F=T.sn;if(!g||F<g.startSN||F>g.endSN)return 0;var U=F-g.startSN,B=g.fragments;for(B[U]=T,P=U;P>0;P--)p(B[P],B[P-1]);for(P=U;P<B.length-1;P++)p(B[P],B[P+1]);return g.fragmentHint&&p(B[B.length-1],g.fragmentHint),g.PTSKnown=g.alignedSliding=!0,O}function y(g,T){for(var E=null,A=g.fragments,w=A.length-1;w>=0;w--){var L=A[w].initSegment;if(L){E=L;break}}g.fragmentHint&&delete g.fragmentHint.endPTS;var x,D=0;if(f(g,T,function(F,U){var B;F.relurl&&(D=F.cc-U.cc),Object(i.isFiniteNumber)(F.startPTS)&&Object(i.isFiniteNumber)(F.endPTS)&&(U.start=U.startPTS=F.startPTS,U.startDTS=F.startDTS,U.appendedPTS=F.appendedPTS,U.maxStartPTS=F.maxStartPTS,U.endPTS=F.endPTS,U.endDTS=F.endDTS,U.minEndPTS=F.minEndPTS,U.duration=F.endPTS-F.startPTS,U.duration&&(x=U),T.PTSKnown=T.alignedSliding=!0),U.elementaryStreams=F.elementaryStreams,U.loader=F.loader,U.stats=F.stats,U.urlId=F.urlId,F.initSegment?(U.initSegment=F.initSegment,E=F.initSegment):U.initSegment&&U.initSegment.relurl!=((B=E)===null||B===void 0?void 0:B.relurl)||(U.initSegment=E)}),T.skippedSegments&&(T.deltaUpdateFailed=T.fragments.some(function(F){return!F}),T.deltaUpdateFailed)){s.logger.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var k=T.skippedSegments;k--;)T.fragments.shift();T.startSN=T.fragments[0].sn,T.startCC=T.fragments[0].cc}var R=T.fragments;if(D){s.logger.warn("discontinuity sliding from playlist, take drift into account");for(var I=0;I<R.length;I++)R[I].cc+=D}T.skippedSegments&&(T.startCC=T.fragments[0].cc),v(g.partList,T.partList,function(F,U){U.elementaryStreams=F.elementaryStreams,U.stats=F.stats}),x?l(T,x,x.startPTS,x.endPTS,x.startDTS,x.endDTS):b(g,T),R.length&&(T.totalduration=T.edge-R[0].start),T.driftStartTime=g.driftStartTime,T.driftStart=g.driftStart;var O=T.advancedDateTime;if(T.advanced&&O){var P=T.edge;T.driftStart||(T.driftStartTime=O,T.driftStart=P),T.driftEndTime=O,T.driftEnd=P}else T.driftEndTime=g.driftEndTime,T.driftEnd=g.driftEnd,T.advancedDateTime=g.advancedDateTime}function v(g,T,E){if(g&&T)for(var A=0,w=0,L=g.length;w<=L;w++){var x=g[w],D=T[w+A];x&&D&&x.index===D.index&&x.fragment.sn===D.fragment.sn?E(x,D):A--}}function f(g,T,E){for(var A=T.skippedSegments,w=Math.max(g.startSN,T.startSN)-T.startSN,L=(g.fragmentHint?1:0)+(A?T.endSN:Math.min(g.endSN,T.endSN))-T.startSN,x=T.startSN-g.startSN,D=T.fragmentHint?T.fragments.concat(T.fragmentHint):T.fragments,k=g.fragmentHint?g.fragments.concat(g.fragmentHint):g.fragments,R=w;R<=L;R++){var I=k[x+R],O=D[R];A&&!O&&R<A&&(O=T.fragments[R]=I),I&&O&&E(I,O)}}function b(g,T){var E=T.startSN+T.skippedSegments-g.startSN,A=g.fragments;E<0||E>=A.length||S(T,A[E].start)}function S(g,T){if(T){for(var E=g.fragments,A=g.skippedSegments;A<E.length;A++)E[A].start+=T;g.fragmentHint&&(g.fragmentHint.start+=T)}}function d(g,T){var E,A=1e3*g.levelTargetDuration,w=A/2,L=g.age,x=L>0&&L<3*A,D=T.loading.end-T.loading.start,k=g.availabilityDelay;if(g.updated===!1)if(x){var R=333*g.misses;E=Math.max(Math.min(w,2*D),R),g.availabilityDelay=(g.availabilityDelay||0)+E}else E=w;else x?(k=Math.min(k||A/2,L),g.availabilityDelay=k,E=k+A-L):E=A-D;return Math.round(E)}function h(g,T,E){if(!g||!g.details)return null;var A=g.details,w=A.fragments[T-A.startSN];return w||((w=A.fragmentHint)&&w.sn===T?w:T<A.startSN&&E&&E.sn===T?E:null)}function c(g,T,E){if(!g||!g.details)return null;var A=g.details.partList;if(A)for(var w=A.length;w--;){var L=A[w];if(L.index===E&&L.fragment.sn===T)return L}return null}},"./src/controller/stream-controller.ts":function(t,e,n){n.r(e),n.d(e,"default",function(){return g});var i=n("./src/polyfills/number.ts"),s=n("./src/controller/base-stream-controller.ts"),o=n("./src/is-supported.ts"),u=n("./src/events.ts"),m=n("./src/utils/buffer-helper.ts"),p=n("./src/controller/fragment-tracker.ts"),l=n("./src/types/loader.ts"),y=n("./src/loader/fragment.ts"),v=n("./src/demux/transmuxer-interface.ts"),f=n("./src/types/transmuxer.ts"),b=n("./src/controller/gap-controller.ts"),S=n("./src/errors.ts"),d=n("./src/utils/logger.ts");function h(T,E){for(var A=0;A<E.length;A++){var w=E[A];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(T,w.key,w)}}function c(T,E){return(c=Object.setPrototypeOf||function(A,w){return A.__proto__=w,A})(T,E)}var g=function(T){var E,A;function w(k,R){var I;return(I=T.call(this,k,R,"[stream-controller]")||this).audioCodecSwap=!1,I.gapController=null,I.level=-1,I._forceStartLoad=!1,I.altAudio=!1,I.audioOnly=!1,I.fragPlaying=null,I.onvplaying=null,I.onvseeked=null,I.fragLastKbps=0,I.stalled=!1,I.couldBacktrack=!1,I.audioCodecSwitch=!1,I.videoBuffer=null,I._registerListeners(),I}A=T,(E=w).prototype=Object.create(A.prototype),E.prototype.constructor=E,c(E,A);var L,x,D=w.prototype;return D._registerListeners=function(){var k=this.hls;k.on(u.Events.MEDIA_ATTACHED,this.onMediaAttached,this),k.on(u.Events.MEDIA_DETACHING,this.onMediaDetaching,this),k.on(u.Events.MANIFEST_LOADING,this.onManifestLoading,this),k.on(u.Events.MANIFEST_PARSED,this.onManifestParsed,this),k.on(u.Events.LEVEL_LOADING,this.onLevelLoading,this),k.on(u.Events.LEVEL_LOADED,this.onLevelLoaded,this),k.on(u.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),k.on(u.Events.ERROR,this.onError,this),k.on(u.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),k.on(u.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),k.on(u.Events.BUFFER_CREATED,this.onBufferCreated,this),k.on(u.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),k.on(u.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),k.on(u.Events.FRAG_BUFFERED,this.onFragBuffered,this)},D._unregisterListeners=function(){var k=this.hls;k.off(u.Events.MEDIA_ATTACHED,this.onMediaAttached,this),k.off(u.Events.MEDIA_DETACHING,this.onMediaDetaching,this),k.off(u.Events.MANIFEST_LOADING,this.onManifestLoading,this),k.off(u.Events.MANIFEST_PARSED,this.onManifestParsed,this),k.off(u.Events.LEVEL_LOADED,this.onLevelLoaded,this),k.off(u.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),k.off(u.Events.ERROR,this.onError,this),k.off(u.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),k.off(u.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),k.off(u.Events.BUFFER_CREATED,this.onBufferCreated,this),k.off(u.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),k.off(u.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),k.off(u.Events.FRAG_BUFFERED,this.onFragBuffered,this)},D.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},D.startLoad=function(k){if(this.levels){var R=this.lastCurrentTime,I=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var O=I.startLevel;O===-1&&(I.config.testBandwidth?(O=0,this.bitrateTest=!0):O=I.nextAutoLevel),this.level=I.nextLoadLevel=O,this.loadedmetadata=!1}R>0&&k===-1&&(this.log("Override startPosition with lastCurrentTime @"+R.toFixed(3)),k=R),this.state=s.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=k,this.tick()}else this._forceStartLoad=!0,this.state=s.State.STOPPED},D.stopLoad=function(){this._forceStartLoad=!1,T.prototype.stopLoad.call(this)},D.doTick=function(){switch(this.state){case s.State.IDLE:this.doTickIdle();break;case s.State.WAITING_LEVEL:var k,R=this.levels,I=this.level,O=R==null||(k=R[I])===null||k===void 0?void 0:k.details;if(O&&(!O.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(O))break;this.state=s.State.IDLE;break}break;case s.State.FRAG_LOADING_WAITING_RETRY:var P,F=self.performance.now(),U=this.retryDate;(!U||F>=U||(P=this.media)!==null&&P!==void 0&&P.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.state=s.State.IDLE)}this.onTickEnd()},D.onTickEnd=function(){T.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},D.doTickIdle=function(){var k,R,I=this.hls,O=this.levelLastLoaded,P=this.levels,F=this.media,U=I.config,B=I.nextLoadLevel;if(O!==null&&(F||!this.startFragRequested&&U.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&P&&P[B]){var H=P[B];this.level=I.nextLoadLevel=B;var V=H.details;if(!V||this.state===s.State.WAITING_LEVEL||V.live&&this.levelLastLoaded!==B)this.state=s.State.WAITING_LEVEL;else{var q=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:F,l.PlaylistLevelType.MAIN);if(q!==null&&!(q.len>=this.getMaxBufferLength(H.maxBitrate))){if(this._streamEnded(q,V)){var et={};return this.altAudio&&(et.type="video"),this.hls.trigger(u.Events.BUFFER_EOS,et),void(this.state=s.State.ENDED)}var rt=q.end,ot=this.getNextFragment(rt,V);if(this.couldBacktrack&&!this.fragPrevious&&ot&&ot.sn!=="initSegment"){var J=ot.sn-V.startSN;J>1&&(ot=V.fragments[J-1],this.fragmentTracker.removeFragment(ot))}if(ot&&this.fragmentTracker.getState(ot)===p.FragmentState.OK&&this.nextLoadPosition>rt){var W=this.audioOnly&&!this.altAudio?y.ElementaryStreamTypes.AUDIO:y.ElementaryStreamTypes.VIDEO;this.afterBufferFlushed(F,W,l.PlaylistLevelType.MAIN),ot=this.getNextFragment(this.nextLoadPosition,V)}ot&&(!ot.initSegment||ot.initSegment.data||this.bitrateTest||(ot=ot.initSegment),((k=ot.decryptdata)===null||k===void 0?void 0:k.keyFormat)!=="identity"||(R=ot.decryptdata)!==null&&R!==void 0&&R.key?this.loadFragment(ot,V,rt):this.loadKey(ot,V))}}}},D.loadFragment=function(k,R,I){var O,P=this.fragmentTracker.getState(k);if(this.fragCurrent=k,P===p.FragmentState.BACKTRACKED){var F=this.fragmentTracker.getBacktrackData(k);if(F)return this._handleFragmentLoadProgress(F),void this._handleFragmentLoadComplete(F);P=p.FragmentState.NOT_LOADED}P===p.FragmentState.NOT_LOADED||P===p.FragmentState.PARTIAL?k.sn==="initSegment"?this._loadInitSegment(k):this.bitrateTest?(k.bitrateTest=!0,this.log("Fragment "+k.sn+" of level "+k.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(k)):(this.startFragRequested=!0,T.prototype.loadFragment.call(this,k,R,I)):P===p.FragmentState.APPENDING?this.reduceMaxBufferLength(k.duration)&&this.fragmentTracker.removeFragment(k):((O=this.media)===null||O===void 0?void 0:O.buffered.length)===0&&this.fragmentTracker.removeAllFragments()},D.getAppendedFrag=function(k){var R=this.fragmentTracker.getAppendedFrag(k,l.PlaylistLevelType.MAIN);return R&&"fragment"in R?R.fragment:R},D.getBufferedFrag=function(k){return this.fragmentTracker.getBufferedFrag(k,l.PlaylistLevelType.MAIN)},D.followingBufferedFrag=function(k){return k?this.getBufferedFrag(k.end+.5):null},D.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},D.nextLevelSwitch=function(){var k=this.levels,R=this.media;if(R!=null&&R.readyState){var I,O=this.getAppendedFrag(R.currentTime);if(O&&O.start>1&&this.flushMainBuffer(0,O.start-1),!R.paused&&k){var P=k[this.hls.nextLoadLevel],F=this.fragLastKbps;I=F&&this.fragCurrent?this.fragCurrent.duration*P.maxBitrate/(1e3*F)+1:0}else I=0;var U=this.getBufferedFrag(R.currentTime+I);if(U){var B=this.followingBufferedFrag(U);if(B){this.abortCurrentFrag();var H=B.maxStartPTS?B.maxStartPTS:B.start,V=B.duration,q=Math.max(U.end,H+Math.min(Math.max(V-this.config.maxFragLookUpTolerance,.5*V),.75*V));this.flushMainBuffer(q,Number.POSITIVE_INFINITY)}}}},D.abortCurrentFrag=function(){var k=this.fragCurrent;this.fragCurrent=null,k!=null&&k.loader&&k.loader.abort(),this.state===s.State.KEY_LOADING&&(this.state=s.State.IDLE),this.nextLoadPosition=this.getLoadPosition()},D.flushMainBuffer=function(k,R){T.prototype.flushMainBuffer.call(this,k,R,this.altAudio?"video":null)},D.onMediaAttached=function(k,R){T.prototype.onMediaAttached.call(this,k,R);var I=R.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),I.addEventListener("playing",this.onvplaying),I.addEventListener("seeked",this.onvseeked),this.gapController=new b.default(this.config,I,this.fragmentTracker,this.hls)},D.onMediaDetaching=function(){var k=this.media;k&&(k.removeEventListener("playing",this.onvplaying),k.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),T.prototype.onMediaDetaching.call(this)},D.onMediaPlaying=function(){this.tick()},D.onMediaSeeked=function(){var k=this.media,R=k?k.currentTime:null;Object(i.isFiniteNumber)(R)&&this.log("Media seeked to "+R.toFixed(3)),this.tick()},D.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(u.Events.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=this.stalled=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null},D.onManifestParsed=function(k,R){var I,O=!1,P=!1;R.levels.forEach(function(F){(I=F.audioCodec)&&(I.indexOf("mp4a.40.2")!==-1&&(O=!0),I.indexOf("mp4a.40.5")!==-1&&(P=!0))}),this.audioCodecSwitch=O&&P&&!Object(o.changeTypeSupported)(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=R.levels,this.startFragRequested=!1},D.onLevelLoading=function(k,R){var I=this.levels;if(I&&this.state===s.State.IDLE){var O=I[R.level];(!O.details||O.details.live&&this.levelLastLoaded!==R.level||this.waitForCdnTuneIn(O.details))&&(this.state=s.State.WAITING_LEVEL)}},D.onLevelLoaded=function(k,R){var I,O=this.levels,P=R.level,F=R.details,U=F.totalduration;if(O){this.log("Level "+P+" loaded ["+F.startSN+","+F.endSN+"], cc ["+F.startCC+", "+F.endCC+"] duration:"+U);var B=this.fragCurrent;!B||this.state!==s.State.FRAG_LOADING&&this.state!==s.State.FRAG_LOADING_WAITING_RETRY||B.level!==R.level&&B.loader&&(this.state=s.State.IDLE,B.loader.abort());var H=O[P],V=0;if(F.live||(I=H.details)!==null&&I!==void 0&&I.live){if(F.fragments[0]||(F.deltaUpdateFailed=!0),F.deltaUpdateFailed)return;V=this.alignPlaylists(F,H.details)}if(H.details=F,this.levelLastLoaded=P,this.hls.trigger(u.Events.LEVEL_UPDATED,{details:F,level:P}),this.state===s.State.WAITING_LEVEL){if(this.waitForCdnTuneIn(F))return;this.state=s.State.IDLE}this.startFragRequested?F.live&&this.synchronizeToLiveEdge(F):this.setStartPosition(F,V),this.tick()}else this.warn("Levels were reset while loading level "+P)},D._handleFragmentLoadProgress=function(k){var R,I=k.frag,O=k.part,P=k.payload,F=this.levels;if(F){var U=F[I.level],B=U.details;if(B){var H=U.videoCodec,V=B.PTSKnown||!B.live,q=(R=I.initSegment)===null||R===void 0?void 0:R.data,et=this._getAudioCodec(U),rt=this.transmuxer=this.transmuxer||new v.default(this.hls,l.PlaylistLevelType.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),ot=O?O.index:-1,J=ot!==-1,W=new f.ChunkMetadata(I.level,I.sn,I.stats.chunkCount,P.byteLength,ot,J),st=this.initPTS[I.cc];rt.push(P,q,et,H,I,O,B.totalduration,V,W,st)}else this.warn("Dropping fragment "+I.sn+" of level "+I.level+" after level details were reset")}else this.warn("Levels were reset while fragment load was in progress. Fragment "+I.sn+" of level "+I.level+" will not be buffered")},D.onAudioTrackSwitching=function(k,R){var I=this.altAudio,O=!!R.url,P=R.id;if(!O){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var F=this.fragCurrent;F!=null&&F.loader&&(this.log("Switching to main audio track, cancel main fragment load"),F.loader.abort()),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var U=this.hls;I&&U.trigger(u.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),U.trigger(u.Events.AUDIO_TRACK_SWITCHED,{id:P})}},D.onAudioTrackSwitched=function(k,R){var I=R.id,O=!!this.hls.audioTracks[I].url;if(O){var P=this.videoBuffer;P&&this.mediaBuffer!==P&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=P)}this.altAudio=O,this.tick()},D.onBufferCreated=function(k,R){var I,O,P=R.tracks,F=!1;for(var U in P){var B=P[U];if(B.id==="main"){if(O=U,I=B,U==="video"){var H=P[U];H&&(this.videoBuffer=H.buffer)}}else F=!0}F&&I?(this.log("Alternate track found, use "+O+".buffered to schedule main fragment loading"),this.mediaBuffer=I.buffer):this.mediaBuffer=this.media},D.onFragBuffered=function(k,R){var I=R.frag,O=R.part;if(!I||I.type===l.PlaylistLevelType.MAIN){if(this.fragContextChanged(I))return this.warn("Fragment "+I.sn+(O?" p: "+O.index:"")+" of level "+I.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===s.State.PARSED&&(this.state=s.State.IDLE));var P=O?O.stats:I.stats;this.fragLastKbps=Math.round(8*P.total/(P.buffering.end-P.loading.first)),I.sn!=="initSegment"&&(this.fragPrevious=I),this.fragBufferedComplete(I,O)}},D.onError=function(k,R){switch(R.details){case S.ErrorDetails.FRAG_LOAD_ERROR:case S.ErrorDetails.FRAG_LOAD_TIMEOUT:case S.ErrorDetails.KEY_LOAD_ERROR:case S.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(l.PlaylistLevelType.MAIN,R);break;case S.ErrorDetails.LEVEL_LOAD_ERROR:case S.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==s.State.ERROR&&(R.fatal?(this.warn(""+R.details),this.state=s.State.ERROR):R.levelRetry||this.state!==s.State.WAITING_LEVEL||(this.state=s.State.IDLE));break;case S.ErrorDetails.BUFFER_FULL_ERROR:if(R.parent==="main"&&(this.state===s.State.PARSING||this.state===s.State.PARSED)){var I=!0,O=this.getFwdBufferInfo(this.media,l.PlaylistLevelType.MAIN);O&&O.len>.5&&(I=!this.reduceMaxBufferLength(O.len)),I&&(this.warn("buffer full error also media.currentTime is not buffered, flush main"),this.immediateLevelSwitch()),this.resetLoadingState()}}},D.checkBuffer=function(){var k=this.media,R=this.gapController;if(k&&R&&k.readyState){var I=m.BufferHelper.getBuffered(k);!this.loadedmetadata&&I.length?(this.loadedmetadata=!0,this.seekToStartPos()):R.poll(this.lastCurrentTime),this.lastCurrentTime=k.currentTime}},D.onFragLoadEmergencyAborted=function(){this.state=s.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},D.onBufferFlushed=function(k,R){var I=R.type;if(I!==y.ElementaryStreamTypes.AUDIO||this.audioOnly&&!this.altAudio){var O=(I===y.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(O,I,l.PlaylistLevelType.MAIN)}},D.onLevelsUpdated=function(k,R){this.levels=R.levels},D.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},D.seekToStartPos=function(){var k=this.media,R=k.currentTime,I=this.startPosition;if(I>=0&&R<I){if(k.seeking)return void d.logger.log("could not seek to "+I+", already seeking at "+R);var O=m.BufferHelper.getBuffered(k),P=(O.length?O.start(0):0)-I;P>0&&P<this.config.maxBufferHole&&(d.logger.log("adjusting start position by "+P+" to match buffer start"),I+=P,this.startPosition=I),this.log("seek to target start position "+I+" from current time "+R),k.currentTime=I}},D._getAudioCodec=function(k){var R=this.config.defaultAudioCodec||k.audioCodec;return this.audioCodecSwap&&R&&(this.log("Swapping audio codec"),R=R.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5"),R},D._loadBitrateTestFrag=function(k){var R=this;this._doFragLoad(k).then(function(I){var O=R.hls;if(I&&!O.nextLoadLevel&&!R.fragContextChanged(k)){R.fragLoadError=0,R.state=s.State.IDLE,R.startFragRequested=!1,R.bitrateTest=!1;var P=k.stats;P.parsing.start=P.parsing.end=P.buffering.start=P.buffering.end=self.performance.now(),O.trigger(u.Events.FRAG_LOADED,I)}})},D._handleTransmuxComplete=function(k){var R,I="main",O=this.hls,P=k.remuxResult,F=k.chunkMeta,U=this.getCurrentContext(F);if(!U)return this.warn("The loading context changed while buffering fragment "+F.sn+" of level "+F.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(F.level);var B=U.frag,H=U.part,V=U.level,q=P.video,et=P.text,rt=P.id3,ot=P.initSegment,J=this.altAudio?void 0:P.audio;if(!this.fragContextChanged(B)){if(this.state=s.State.PARSING,ot){ot.tracks&&(this._bufferInitSegment(V,ot.tracks,B,F),O.trigger(u.Events.FRAG_PARSING_INIT_SEGMENT,{frag:B,id:I,tracks:ot.tracks}));var W=ot.initPTS,st=ot.timescale;Object(i.isFiniteNumber)(W)&&(this.initPTS[B.cc]=W,O.trigger(u.Events.INIT_PTS_FOUND,{frag:B,id:I,initPTS:W,timescale:st}))}if(q&&P.independent!==!1){if(V.details){var it=q.startPTS,j=q.endPTS,gt=q.startDTS,bt=q.endDTS;if(H)H.elementaryStreams[q.type]={startPTS:it,endPTS:j,startDTS:gt,endDTS:bt};else if(q.firstKeyFrame&&q.independent&&(this.couldBacktrack=!0),q.dropped&&q.independent){if(this.getLoadPosition()+this.config.maxBufferHole<it)return void this.backtrack(B);B.setElementaryStreamInfo(q.type,B.start,j,B.start,bt,!0)}B.setElementaryStreamInfo(q.type,it,j,gt,bt),this.bufferFragmentData(q,B,H,F)}}else if(P.independent===!1)return void this.backtrack(B);if(J){var It=J.startPTS,z=J.endPTS,tt=J.startDTS,ut=J.endDTS;H&&(H.elementaryStreams[y.ElementaryStreamTypes.AUDIO]={startPTS:It,endPTS:z,startDTS:tt,endDTS:ut}),B.setElementaryStreamInfo(y.ElementaryStreamTypes.AUDIO,It,z,tt,ut),this.bufferFragmentData(J,B,H,F)}if(rt!=null&&(R=rt.samples)!==null&&R!==void 0&&R.length){var ft={frag:B,id:I,samples:rt.samples};O.trigger(u.Events.FRAG_PARSING_METADATA,ft)}if(et){var mt={frag:B,id:I,samples:et.samples};O.trigger(u.Events.FRAG_PARSING_USERDATA,mt)}}},D._bufferInitSegment=function(k,R,I,O){var P=this;if(this.state===s.State.PARSING){this.audioOnly=!!R.audio&&!R.video,this.altAudio&&!this.audioOnly&&delete R.audio;var F=R.audio,U=R.video,B=R.audiovideo;if(F){var H=k.audioCodec,V=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(H&&(H=H.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5"),F.metadata.channelCount!==1&&V.indexOf("firefox")===-1&&(H="mp4a.40.5")),V.indexOf("android")!==-1&&F.container!=="audio/mpeg"&&(H="mp4a.40.2",this.log("Android: force audio codec to "+H)),k.audioCodec&&k.audioCodec!==H&&this.log('Swapping manifest audio codec "'+k.audioCodec+'" for "'+H+'"'),F.levelCodec=H,F.id="main",this.log("Init audio buffer, container:"+F.container+", codecs[selected/level/parsed]=["+(H||"")+"/"+(k.audioCodec||"")+"/"+F.codec+"]")}U&&(U.levelCodec=k.videoCodec,U.id="main",this.log("Init video buffer, container:"+U.container+", codecs[level/parsed]=["+(k.videoCodec||"")+"/"+U.codec+"]")),B&&this.log("Init audiovideo buffer, container:"+B.container+", codecs[level/parsed]=["+(k.attrs.CODECS||"")+"/"+B.codec+"]"),this.hls.trigger(u.Events.BUFFER_CODECS,R),Object.keys(R).forEach(function(q){var et=R[q].initSegment;et!=null&&et.byteLength&&P.hls.trigger(u.Events.BUFFER_APPENDING,{type:q,data:et,frag:I,part:null,chunkMeta:O,parent:I.type})}),this.tick()}},D.backtrack=function(k){this.couldBacktrack=!0,this.resetTransmuxer(),this.flushBufferGap(k);var R=this.fragmentTracker.backtrack(k);this.fragPrevious=null,this.nextLoadPosition=k.start,R?this.resetFragmentLoading(k):this.state=s.State.BACKTRACKING},D.checkFragmentChanged=function(){var k=this.media,R=null;if(k&&k.readyState>1&&k.seeking===!1){var I=k.currentTime;if(m.BufferHelper.isBuffered(k,I)?R=this.getAppendedFrag(I):m.BufferHelper.isBuffered(k,I+.1)&&(R=this.getAppendedFrag(I+.1)),R){var O=this.fragPlaying,P=R.level;O&&R.sn===O.sn&&O.level===P&&R.urlId===O.urlId||(this.hls.trigger(u.Events.FRAG_CHANGED,{frag:R}),O&&O.level===P||this.hls.trigger(u.Events.LEVEL_SWITCHED,{level:P}),this.fragPlaying=R)}}},L=w,(x=[{key:"nextLevel",get:function(){var k=this.nextBufferedFrag;return k?k.level:-1}},{key:"currentLevel",get:function(){var k=this.media;if(k){var R=this.getAppendedFrag(k.currentTime);if(R)return R.level}return-1}},{key:"nextBufferedFrag",get:function(){var k=this.media;if(k){var R=this.getAppendedFrag(k.currentTime);return this.followingBufferedFrag(R)}return null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}])&&h(L.prototype,x),w}(s.default)},"./src/controller/subtitle-stream-controller.ts":function(t,e,n){n.r(e),n.d(e,"SubtitleStreamController",function(){return d});var i=n("./src/events.ts"),s=n("./src/utils/logger.ts"),o=n("./src/utils/buffer-helper.ts"),u=n("./src/controller/fragment-finders.ts"),m=n("./src/utils/discontinuities.ts"),p=n("./src/controller/level-helper.ts"),l=n("./src/controller/fragment-tracker.ts"),y=n("./src/controller/base-stream-controller.ts"),v=n("./src/types/loader.ts"),f=n("./src/types/level.ts");function b(h,c){for(var g=0;g<c.length;g++){var T=c[g];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(h,T.key,T)}}function S(h,c){return(S=Object.setPrototypeOf||function(g,T){return g.__proto__=T,g})(h,c)}var d=function(h){var c,g;function T(L,x){var D;return(D=h.call(this,L,x,"[subtitle-stream-controller]")||this).levels=[],D.currentTrackId=-1,D.tracksBuffered=[],D.mainDetails=null,D._registerListeners(),D}g=h,(c=T).prototype=Object.create(g.prototype),c.prototype.constructor=c,S(c,g);var E,A,w=T.prototype;return w.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},w._registerListeners=function(){var L=this.hls;L.on(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),L.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),L.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),L.on(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),L.on(i.Events.ERROR,this.onError,this),L.on(i.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),L.on(i.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),L.on(i.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),L.on(i.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),L.on(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},w._unregisterListeners=function(){var L=this.hls;L.off(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),L.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),L.off(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),L.off(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),L.off(i.Events.ERROR,this.onError,this),L.off(i.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),L.off(i.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),L.off(i.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),L.off(i.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),L.off(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},w.startLoad=function(){this.stopLoad(),this.state=y.State.IDLE,this.setInterval(500),this.tick()},w.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},w.onLevelLoaded=function(L,x){this.mainDetails=x.details},w.onSubtitleFragProcessed=function(L,x){var D=x.frag,k=x.success;if(this.fragPrevious=D,this.state=y.State.IDLE,k){var R=this.tracksBuffered[this.currentTrackId];if(R){for(var I,O=D.start,P=0;P<R.length;P++)if(O>=R[P].start&&O<=R[P].end){I=R[P];break}var F=D.start+D.duration;I?I.end=F:(I={start:O,end:F},R.push(I)),this.fragmentTracker.fragBuffered(D)}}},w.onBufferFlushing=function(L,x){var D=x.startOffset,k=x.endOffset;if(D===0&&k!==Number.POSITIVE_INFINITY){var R=this.currentTrackId,I=this.levels;if(!I.length||!I[R]||!I[R].details)return;var O=k-I[R].details.targetduration;if(O<=0)return;x.endOffsetSubtitles=Math.max(0,O),this.tracksBuffered.forEach(function(P){for(var F=0;F<P.length;)if(P[F].end<=O)P.shift();else{if(!(P[F].start<O))break;P[F].start=O,F++}}),this.fragmentTracker.removeFragmentsInRange(D,O,v.PlaylistLevelType.SUBTITLE)}},w.onError=function(L,x){var D,k=x.frag;k&&k.type===v.PlaylistLevelType.SUBTITLE&&((D=this.fragCurrent)!==null&&D!==void 0&&D.loader&&this.fragCurrent.loader.abort(),this.state=y.State.IDLE)},w.onSubtitleTracksUpdated=function(L,x){var D=this,k=x.subtitleTracks;this.tracksBuffered=[],this.levels=k.map(function(R){return new f.Level(R)}),this.fragmentTracker.removeAllFragments(),this.fragPrevious=null,this.levels.forEach(function(R){D.tracksBuffered[R.id]=[]}),this.mediaBuffer=null},w.onSubtitleTrackSwitch=function(L,x){if(this.currentTrackId=x.id,this.levels.length&&this.currentTrackId!==-1){var D=this.levels[this.currentTrackId];D!=null&&D.details?(this.mediaBuffer=this.mediaBufferTimeRanges,this.setInterval(500)):this.mediaBuffer=null}else this.clearInterval()},w.onSubtitleTrackLoaded=function(L,x){var D,k=x.details,R=x.id,I=this.currentTrackId,O=this.levels;if(O.length){var P=O[I];if(!(R>=O.length||R!==I)&&P){if(this.mediaBuffer=this.mediaBufferTimeRanges,k.live||(D=P.details)!==null&&D!==void 0&&D.live){var F=this.mainDetails;if(k.deltaUpdateFailed||!F)return;var U=F.fragments[0];P.details?this.alignPlaylists(k,P.details)===0&&U&&Object(p.addSliding)(k,U.start):k.hasProgramDateTime&&F.hasProgramDateTime?Object(m.alignPDT)(k,F):U&&Object(p.addSliding)(k,U.start)}P.details=k,this.levelLastLoaded=R,this.tick(),k.live&&!this.fragCurrent&&this.media&&this.state===y.State.IDLE&&(Object(u.findFragmentByPTS)(null,k.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),P.details=void 0))}}},w._handleFragmentLoadComplete=function(L){var x=L.frag,D=L.payload,k=x.decryptdata,R=this.hls;if(!this.fragContextChanged(x)&&D&&D.byteLength>0&&k&&k.key&&k.iv&&k.method==="AES-128"){var I=performance.now();this.decrypter.webCryptoDecrypt(new Uint8Array(D),k.key.buffer,k.iv.buffer).then(function(O){var P=performance.now();R.trigger(i.Events.FRAG_DECRYPTED,{frag:x,payload:O,stats:{tstart:I,tdecrypt:P}})})}},w.doTick=function(){if(this.media){if(this.state===y.State.IDLE){var L,x=this.currentTrackId,D=this.levels;if(!D.length||!D[x]||!D[x].details)return;var k=D[x].details,R=k.targetduration,I=this.config,O=this.media,P=o.BufferHelper.bufferedInfo(this.mediaBufferTimeRanges,O.currentTime-R,I.maxBufferHole),F=P.end;if(P.len>this.getMaxBufferLength()+R)return;console.assert(k,"Subtitle track details are defined on idle subtitle stream controller tick");var U,B=k.fragments,H=B.length,V=k.edge,q=this.fragPrevious;if(F<V){var et=I.maxFragLookUpTolerance;q&&k.hasProgramDateTime&&(U=Object(u.findFragmentByPDT)(B,q.endProgramDateTime,et)),U||!(U=Object(u.findFragmentByPTS)(q,B,F,et))&&q&&q.start<B[0].start&&(U=B[0])}else U=B[H-1];(L=U)!==null&&L!==void 0&&L.encrypted?(s.logger.log("Loading key for "+U.sn),this.state=y.State.KEY_LOADING,this.hls.trigger(i.Events.KEY_LOADING,{frag:U})):U&&this.fragmentTracker.getState(U)===l.FragmentState.NOT_LOADED&&this.loadFragment(U,k,F)}}else this.state=y.State.IDLE},w.loadFragment=function(L,x,D){this.fragCurrent=L,h.prototype.loadFragment.call(this,L,x,D)},E=T,(A=[{key:"mediaBufferTimeRanges",get:function(){return this.tracksBuffered[this.currentTrackId]||[]}}])&&b(E.prototype,A),T}(y.default)},"./src/controller/subtitle-track-controller.ts":function(t,e,n){n.r(e);var i=n("./src/events.ts"),s=n("./src/utils/texttrack-utils.ts"),o=n("./src/controller/base-playlist-controller.ts"),u=n("./src/types/loader.ts");function m(v,f){for(var b=0;b<f.length;b++){var S=f[b];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,S.key,S)}}function p(v,f){return(p=Object.setPrototypeOf||function(b,S){return b.__proto__=S,b})(v,f)}var l=function(v){var f,b;function S(g){var T;return(T=v.call(this,g,"[subtitle-track-controller]")||this).media=null,T.tracks=[],T.groupId=null,T.tracksInGroup=[],T.trackId=-1,T.selectDefaultTrack=!0,T.queuedDefaultTrack=-1,T.trackChangeListener=function(){return T.onTextTracksChanged()},T.asyncPollTrackChange=function(){return T.pollTrackChange(0)},T.useTextTrackPolling=!1,T.subtitlePollingInterval=-1,T.subtitleDisplay=!0,T.registerListeners(),T}b=v,(f=S).prototype=Object.create(b.prototype),f.prototype.constructor=f,p(f,b);var d,h,c=S.prototype;return c.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,v.prototype.destroy.call(this)},c.registerListeners=function(){var g=this.hls;g.on(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),g.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),g.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),g.on(i.Events.MANIFEST_PARSED,this.onManifestParsed,this),g.on(i.Events.LEVEL_LOADING,this.onLevelLoading,this),g.on(i.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),g.on(i.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),g.on(i.Events.ERROR,this.onError,this)},c.unregisterListeners=function(){var g=this.hls;g.off(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),g.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),g.off(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),g.off(i.Events.MANIFEST_PARSED,this.onManifestParsed,this),g.off(i.Events.LEVEL_LOADING,this.onLevelLoading,this),g.off(i.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),g.off(i.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),g.off(i.Events.ERROR,this.onError,this)},c.onMediaAttached=function(g,T){this.media=T.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},c.pollTrackChange=function(g){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,g)},c.onMediaDetaching=function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),y(this.media.textTracks).forEach(function(g){Object(s.clearCurrentCues)(g)}),this.subtitleTrack=-1,this.media=null)},c.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},c.onManifestParsed=function(g,T){this.tracks=T.subtitleTracks},c.onSubtitleTrackLoaded=function(g,T){var E=T.id,A=T.details,w=this.trackId,L=this.tracksInGroup[w];if(L){var x=L.details;L.details=T.details,this.log("subtitle track "+E+" loaded ["+A.startSN+"-"+A.endSN+"]"),E===this.trackId&&(this.retryCount=0,this.playlistLoaded(E,T,x))}else this.warn("Invalid subtitle track id "+E)},c.onLevelLoading=function(g,T){this.switchLevel(T.level)},c.onLevelSwitching=function(g,T){this.switchLevel(T.level)},c.switchLevel=function(g){var T=this.hls.levels[g];if(T!=null&&T.textGroupIds){var E=T.textGroupIds[T.urlId];if(this.groupId!==E){var A=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0,w=this.tracks.filter(function(D){return!E||D.groupId===E});this.tracksInGroup=w;var L=this.findTrackId(A==null?void 0:A.name)||this.findTrackId();this.groupId=E;var x={subtitleTracks:w};this.log("Updating subtitle tracks, "+w.length+' track(s) found in "'+E+'" group-id'),this.hls.trigger(i.Events.SUBTITLE_TRACKS_UPDATED,x),L!==-1&&this.setSubtitleTrack(L,A)}}},c.findTrackId=function(g){for(var T=this.tracksInGroup,E=0;E<T.length;E++){var A=T[E];if((!this.selectDefaultTrack||A.default)&&(!g||g===A.name))return A.id}return-1},c.onError=function(g,T){v.prototype.onError.call(this,g,T),!T.fatal&&T.context&&T.context.type===u.PlaylistContextType.SUBTITLE_TRACK&&T.context.id===this.trackId&&T.context.groupId===this.groupId&&this.retryLoadingOrFail(T)},c.loadPlaylist=function(g){var T=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(T)){var E=T.id,A=T.groupId,w=T.url;if(g)try{w=g.addDirectives(w)}catch(L){this.warn("Could not construct new URL with HLS Delivery Directives: "+L)}this.log("Loading subtitle playlist for id "+E),this.hls.trigger(i.Events.SUBTITLE_TRACK_LOADING,{url:w,id:E,groupId:A,deliveryDirectives:g||null})}},c.toggleTrackModes=function(g){var T=this,E=this.media,A=this.subtitleDisplay,w=this.trackId;if(E){var L=y(E.textTracks),x=L.filter(function(R){return R.groupId===T.groupId});if(g===-1)[].slice.call(L).forEach(function(R){R.mode="disabled"});else{var D=x[w];D&&(D.mode="disabled")}var k=x[g];k&&(k.mode=A?"showing":"hidden")}},c.setSubtitleTrack=function(g,T){var E,A=this.tracksInGroup;if(this.media){if(this.trackId!==g&&this.toggleTrackModes(g),!(this.trackId===g&&(g===-1||(E=A[g])!==null&&E!==void 0&&E.details)||g<-1||g>=A.length)){this.clearTimer();var w=A[g];if(this.log("Switching to subtitle track "+g),this.trackId=g,w){var L=w.id,x=w.groupId,D=x===void 0?"":x,k=w.name,R=w.type,I=w.url;this.hls.trigger(i.Events.SUBTITLE_TRACK_SWITCH,{id:L,groupId:D,name:k,type:R,url:I});var O=this.switchParams(w.url,T==null?void 0:T.details);this.loadPlaylist(O)}else this.hls.trigger(i.Events.SUBTITLE_TRACK_SWITCH,{id:g})}}else this.queuedDefaultTrack=g},c.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var g=-1,T=y(this.media.textTracks),E=0;E<T.length;E++)if(T[E].mode==="hidden")g=E;else if(T[E].mode==="showing"){g=E;break}this.subtitleTrack!==g&&(this.subtitleTrack=g)}},d=S,(h=[{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(g){this.selectDefaultTrack=!1;var T=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(g,T)}}])&&m(d.prototype,h),S}(o.default);function y(v){for(var f=[],b=0;b<v.length;b++){var S=v[b];S.kind==="subtitles"&&S.label&&f.push(v[b])}return f}e.default=l},"./src/controller/timeline-controller.ts":function(t,e,n){n.r(e),n.d(e,"TimelineController",function(){return f});var i=n("./src/polyfills/number.ts"),s=n("./src/events.ts"),o=n("./src/utils/cea-608-parser.ts"),u=n("./src/utils/output-filter.ts"),m=n("./src/utils/webvtt-parser.ts"),p=n("./src/utils/texttrack-utils.ts"),l=n("./src/utils/imsc1-ttml-parser.ts"),y=n("./src/types/loader.ts"),v=n("./src/utils/logger.ts"),f=function(){function S(h){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.timescale=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this.captionsProperties=void 0,this.hls=h,this.config=h.config,this.Cues=h.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var c=new u.default(this,"textTrack1"),g=new u.default(this,"textTrack2"),T=new u.default(this,"textTrack3"),E=new u.default(this,"textTrack4");this.cea608Parser1=new o.default(1,c,g),this.cea608Parser2=new o.default(3,T,E)}h.on(s.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),h.on(s.Events.MEDIA_DETACHING,this.onMediaDetaching,this),h.on(s.Events.MANIFEST_LOADING,this.onManifestLoading,this),h.on(s.Events.MANIFEST_LOADED,this.onManifestLoaded,this),h.on(s.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),h.on(s.Events.FRAG_LOADING,this.onFragLoading,this),h.on(s.Events.FRAG_LOADED,this.onFragLoaded,this),h.on(s.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),h.on(s.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),h.on(s.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),h.on(s.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),h.on(s.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)}var d=S.prototype;return d.destroy=function(){var h=this.hls;h.off(s.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),h.off(s.Events.MEDIA_DETACHING,this.onMediaDetaching,this),h.off(s.Events.MANIFEST_LOADING,this.onManifestLoading,this),h.off(s.Events.MANIFEST_LOADED,this.onManifestLoaded,this),h.off(s.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),h.off(s.Events.FRAG_LOADING,this.onFragLoading,this),h.off(s.Events.FRAG_LOADED,this.onFragLoaded,this),h.off(s.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),h.off(s.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),h.off(s.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),h.off(s.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),h.off(s.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},d.addCues=function(h,c,g,T,E){for(var A,w,L,x,D=!1,k=E.length;k--;){var R=E[k],I=(A=R[0],w=R[1],L=c,x=g,Math.min(w,x)-Math.max(A,L));if(I>=0&&(R[0]=Math.min(R[0],c),R[1]=Math.max(R[1],g),D=!0,I/(g-c)>.5))return}if(D||E.push([c,g]),this.config.renderTextTracksNatively){var O=this.captionsTracks[h];this.Cues.newCue(O,c,g,T)}else{var P=this.Cues.newCue(null,c,g,T);this.hls.trigger(s.Events.CUES_PARSED,{type:"captions",cues:P,track:h})}},d.onInitPtsFound=function(h,c){var g=this,T=c.frag,E=c.id,A=c.initPTS,w=c.timescale,L=this.unparsedVttFrags;E==="main"&&(this.initPTS[T.cc]=A,this.timescale[T.cc]=w),L.length&&(this.unparsedVttFrags=[],L.forEach(function(x){g.onFragLoaded(s.Events.FRAG_LOADED,x)}))},d.getExistingTrack=function(h){var c=this.media;if(c)for(var g=0;g<c.textTracks.length;g++){var T=c.textTracks[g];if(T[h])return T}return null},d.createCaptionsTrack=function(h){this.config.renderTextTracksNatively?this.createNativeTrack(h):this.createNonNativeTrack(h)},d.createNativeTrack=function(h){if(!this.captionsTracks[h]){var c=this.captionsProperties,g=this.captionsTracks,T=this.media,E=c[h],A=E.label,w=E.languageCode,L=this.getExistingTrack(h);if(L)g[h]=L,Object(p.clearCurrentCues)(g[h]),Object(p.sendAddTrackEvent)(g[h],T);else{var x=this.createTextTrack("captions",A,w);x&&(x[h]=!0,g[h]=x)}}},d.createNonNativeTrack=function(h){if(!this.nonNativeCaptionsTracks[h]){var c=this.captionsProperties[h];if(c){var g={_id:h,label:c.label,kind:"captions",default:!!c.media&&!!c.media.default,closedCaptions:c.media};this.nonNativeCaptionsTracks[h]=g,this.hls.trigger(s.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[g]})}}},d.createTextTrack=function(h,c,g){var T=this.media;if(T)return T.addTextTrack(h,c,g)},d.onMediaAttaching=function(h,c){this.media=c.media,this._cleanTracks()},d.onMediaDetaching=function(){var h=this.captionsTracks;Object.keys(h).forEach(function(c){Object(p.clearCurrentCues)(h[c]),delete h[c]}),this.nonNativeCaptionsTracks={}},d.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.timescale=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},d._cleanTracks=function(){var h=this.media;if(h){var c=h.textTracks;if(c)for(var g=0;g<c.length;g++)Object(p.clearCurrentCues)(c[g])}},d.onSubtitleTracksUpdated=function(h,c){var g=this;this.textTracks=[];var T=c.subtitleTracks||[],E=T.some(function(x){return x.textCodec===l.IMSC1_CODEC});if(this.config.enableWebVTT||E&&this.config.enableIMSC1){var A=this.tracks&&T&&this.tracks.length===T.length;if(this.tracks=T||[],this.config.renderTextTracksNatively){var w=this.media?this.media.textTracks:[];this.tracks.forEach(function(x,D){var k;if(D<w.length){for(var R=null,I=0;I<w.length;I++)if(b(w[I],x)){R=w[I];break}R&&(k=R)}k?Object(p.clearCurrentCues)(k):(k=g.createTextTrack("subtitles",x.name,x.lang))&&(k.mode="disabled"),k&&(k.groupId=x.groupId,g.textTracks.push(k))})}else if(!A&&this.tracks&&this.tracks.length){var L=this.tracks.map(function(x){return{label:x.name,kind:x.type.toLowerCase(),default:x.default,subtitleTrack:x}});this.hls.trigger(s.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:L})}}},d.onManifestLoaded=function(h,c){var g=this;this.config.enableCEA708Captions&&c.captions&&c.captions.forEach(function(T){var E=/(?:CC|SERVICE)([1-4])/.exec(T.instreamId);if(E){var A="textTrack"+E[1],w=g.captionsProperties[A];w&&(w.label=T.name,T.lang&&(w.languageCode=T.lang),w.media=T)}})},d.onFragLoading=function(h,c){var g=this.cea608Parser1,T=this.cea608Parser2,E=this.lastSn;if(this.enabled&&g&&T&&c.frag.type===y.PlaylistLevelType.MAIN){var A=c.frag.sn;A!==E+1&&(g.reset(),T.reset()),this.lastSn=A}},d.onFragLoaded=function(h,c){var g=c.frag,T=c.payload,E=this.initPTS,A=this.unparsedVttFrags;if(g.type===y.PlaylistLevelType.SUBTITLE)if(T.byteLength){if(!Object(i.isFiniteNumber)(E[g.cc]))return A.push(c),void(E.length&&this.hls.trigger(s.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:g,error:new Error("Missing initial subtitle PTS")}));var w=g.decryptdata;if(w==null||w.key==null||w.method!=="AES-128"){var L=this.tracks[g.level],x=this.vttCCs;x[g.cc]||(x[g.cc]={start:g.start,prevCC:this.prevCC,new:!0},this.prevCC=g.cc),L&&L.textCodec===l.IMSC1_CODEC?this._parseIMSC1(g,T):this._parseVTTs(g,T,x)}}else this.hls.trigger(s.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:g,error:new Error("Empty subtitle payload")})},d._parseIMSC1=function(h,c){var g=this,T=this.hls;Object(l.parseIMSC1)(c,this.initPTS[h.cc],this.timescale[h.cc],function(E){g._appendCues(E,h.level),T.trigger(s.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:h})},function(E){v.logger.log("Failed to parse IMSC1: "+E),T.trigger(s.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:h,error:E})})},d._parseVTTs=function(h,c,g){var T=this,E=this.hls;Object(m.parseWebVTT)(c,this.initPTS[h.cc],this.timescale[h.cc],g,h.cc,h.start,function(A){T._appendCues(A,h.level),E.trigger(s.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:h})},function(A){T._fallbackToIMSC1(h,c),v.logger.log("Failed to parse VTT cue: "+A),E.trigger(s.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:h,error:A})})},d._fallbackToIMSC1=function(h,c){var g=this,T=this.tracks[h.level];T.textCodec||Object(l.parseIMSC1)(c,this.initPTS[h.cc],this.timescale[h.cc],function(){T.textCodec=l.IMSC1_CODEC,g._parseIMSC1(h,c)},function(){T.textCodec="wvtt"})},d._appendCues=function(h,c){var g=this.hls;if(this.config.renderTextTracksNatively){var T=this.textTracks[c];if(T.mode==="disabled")return;h.forEach(function(A){return Object(p.addCueToTrack)(T,A)})}else{var E=this.tracks[c].default?"default":"subtitles"+c;g.trigger(s.Events.CUES_PARSED,{type:"subtitles",cues:h,track:E})}},d.onFragDecrypted=function(h,c){var g=c.frag;if(g.type===y.PlaylistLevelType.SUBTITLE){if(!Object(i.isFiniteNumber)(this.initPTS[g.cc]))return void this.unparsedVttFrags.push(c);this.onFragLoaded(s.Events.FRAG_LOADED,c)}},d.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},d.onFragParsingUserdata=function(h,c){var g=this.cea608Parser1,T=this.cea608Parser2;if(this.enabled&&g&&T)for(var E=0;E<c.samples.length;E++){var A=c.samples[E].bytes;if(A){var w=this.extractCea608Data(A);g.addData(c.samples[E].pts,w[0]),T.addData(c.samples[E].pts,w[1])}}},d.onBufferFlushing=function(h,c){var g=c.startOffset,T=c.endOffset,E=c.endOffsetSubtitles,A=c.type,w=this.media;if(w&&!(w.currentTime<T)){if(!A||A==="video"){var L=this.captionsTracks;Object.keys(L).forEach(function(D){return Object(p.removeCuesInRange)(L[D],g,T)})}if(this.config.renderTextTracksNatively&&g===0&&E!==void 0){var x=this.textTracks;Object.keys(x).forEach(function(D){return Object(p.removeCuesInRange)(x[D],g,E)})}}},d.extractCea608Data=function(h){for(var c=31&h[0],g=2,T=[[],[]],E=0;E<c;E++){var A=h[g++],w=127&h[g++],L=127&h[g++],x=3&A;w===0&&L===0||(4&A)!=0&&(x!==0&&x!==1||(T[x].push(w),T[x].push(L)))}return T},S}();function b(S,d){return S&&S.label===d.name&&!(S.textTrack1||S.textTrack2)}},"./src/crypt/aes-crypto.ts":function(t,e,n){n.r(e),n.d(e,"default",function(){return i});var i=function(){function s(o,u){this.subtle=void 0,this.aesIV=void 0,this.subtle=o,this.aesIV=u}return s.prototype.decrypt=function(o,u){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},u,o)},s}()},"./src/crypt/aes-decryptor.ts":function(t,e,n){n.r(e),n.d(e,"removePadding",function(){return s}),n.d(e,"default",function(){return o});var i=n("./src/utils/typed-array.ts");function s(u){var m=u.byteLength,p=m&&new DataView(u.buffer).getUint8(m-1);return p?Object(i.sliceUint8)(u,0,m-p):u}var o=function(){function u(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var m=u.prototype;return m.uint8ArrayToUint32Array_=function(p){for(var l=new DataView(p),y=new Uint32Array(4),v=0;v<4;v++)y[v]=l.getUint32(4*v);return y},m.initTable=function(){var p=this.sBox,l=this.invSBox,y=this.subMix,v=y[0],f=y[1],b=y[2],S=y[3],d=this.invSubMix,h=d[0],c=d[1],g=d[2],T=d[3],E=new Uint32Array(256),A=0,w=0,L=0;for(L=0;L<256;L++)E[L]=L<128?L<<1:L<<1^283;for(L=0;L<256;L++){var x=w^w<<1^w<<2^w<<3^w<<4;x=x>>>8^255&x^99,p[A]=x,l[x]=A;var D=E[A],k=E[D],R=E[k],I=257*E[x]^16843008*x;v[A]=I<<24|I>>>8,f[A]=I<<16|I>>>16,b[A]=I<<8|I>>>24,S[A]=I,I=16843009*R^65537*k^257*D^16843008*A,h[x]=I<<24|I>>>8,c[x]=I<<16|I>>>16,g[x]=I<<8|I>>>24,T[x]=I,A?(A=D^E[E[E[R^D]]],w^=E[E[w]]):A=w=1}},m.expandKey=function(p){for(var l=this.uint8ArrayToUint32Array_(p),y=!0,v=0;v<l.length&&y;)y=l[v]===this.key[v],v++;if(!y){this.key=l;var f=this.keySize=l.length;if(f!==4&&f!==6&&f!==8)throw new Error("Invalid aes key size="+f);var b,S,d,h,c=this.ksRows=4*(f+6+1),g=this.keySchedule=new Uint32Array(c),T=this.invKeySchedule=new Uint32Array(c),E=this.sBox,A=this.rcon,w=this.invSubMix,L=w[0],x=w[1],D=w[2],k=w[3];for(b=0;b<c;b++)b<f?d=g[b]=l[b]:(h=d,b%f==0?(h=E[(h=h<<8|h>>>24)>>>24]<<24|E[h>>>16&255]<<16|E[h>>>8&255]<<8|E[255&h],h^=A[b/f|0]<<24):f>6&&b%f==4&&(h=E[h>>>24]<<24|E[h>>>16&255]<<16|E[h>>>8&255]<<8|E[255&h]),g[b]=d=(g[b-f]^h)>>>0);for(S=0;S<c;S++)b=c-S,h=3&S?g[b]:g[b-4],T[S]=S<4||b<=4?h:L[E[h>>>24]]^x[E[h>>>16&255]]^D[E[h>>>8&255]]^k[E[255&h]],T[S]=T[S]>>>0}},m.networkToHostOrderSwap=function(p){return p<<24|(65280&p)<<8|(16711680&p)>>8|p>>>24},m.decrypt=function(p,l,y){for(var v,f,b,S,d,h,c,g,T,E,A,w,L,x,D=this.keySize+6,k=this.invKeySchedule,R=this.invSBox,I=this.invSubMix,O=I[0],P=I[1],F=I[2],U=I[3],B=this.uint8ArrayToUint32Array_(y),H=B[0],V=B[1],q=B[2],et=B[3],rt=new Int32Array(p),ot=new Int32Array(rt.length),J=this.networkToHostOrderSwap;l<rt.length;){for(T=J(rt[l]),E=J(rt[l+1]),A=J(rt[l+2]),w=J(rt[l+3]),d=T^k[0],h=w^k[1],c=A^k[2],g=E^k[3],L=4,x=1;x<D;x++)v=O[d>>>24]^P[h>>16&255]^F[c>>8&255]^U[255&g]^k[L],f=O[h>>>24]^P[c>>16&255]^F[g>>8&255]^U[255&d]^k[L+1],b=O[c>>>24]^P[g>>16&255]^F[d>>8&255]^U[255&h]^k[L+2],S=O[g>>>24]^P[d>>16&255]^F[h>>8&255]^U[255&c]^k[L+3],d=v,h=f,c=b,g=S,L+=4;v=R[d>>>24]<<24^R[h>>16&255]<<16^R[c>>8&255]<<8^R[255&g]^k[L],f=R[h>>>24]<<24^R[c>>16&255]<<16^R[g>>8&255]<<8^R[255&d]^k[L+1],b=R[c>>>24]<<24^R[g>>16&255]<<16^R[d>>8&255]<<8^R[255&h]^k[L+2],S=R[g>>>24]<<24^R[d>>16&255]<<16^R[h>>8&255]<<8^R[255&c]^k[L+3],ot[l]=J(v^H),ot[l+1]=J(S^V),ot[l+2]=J(b^q),ot[l+3]=J(f^et),H=T,V=E,q=A,et=w,l+=4}return ot.buffer},u}()},"./src/crypt/decrypter.ts":function(t,e,n){n.r(e),n.d(e,"default",function(){return l});var i=n("./src/crypt/aes-crypto.ts"),s=n("./src/crypt/fast-aes-key.ts"),o=n("./src/crypt/aes-decryptor.ts"),u=n("./src/utils/logger.ts"),m=n("./src/utils/mp4-tools.ts"),p=n("./src/utils/typed-array.ts"),l=function(){function y(f,b,S){var d=(S===void 0?{}:S).removePKCS7Padding,h=d===void 0||d;if(this.logEnabled=!0,this.observer=void 0,this.config=void 0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.observer=f,this.config=b,this.removePKCS7Padding=h,h)try{var c=self.crypto;c&&(this.subtle=c.subtle||c.webkitSubtle)}catch{}this.subtle===null&&(this.config.enableSoftwareAES=!0)}var v=y.prototype;return v.destroy=function(){this.observer=null},v.isSync=function(){return this.config.enableSoftwareAES},v.flush=function(){var f=this.currentResult;if(f){var b=new Uint8Array(f);return this.reset(),this.removePKCS7Padding?Object(o.removePadding)(b):b}this.reset()},v.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},v.decrypt=function(f,b,S,d){if(this.config.enableSoftwareAES){this.softwareDecrypt(new Uint8Array(f),b,S);var h=this.flush();h&&d(h.buffer)}else this.webCryptoDecrypt(new Uint8Array(f),b,S).then(d)},v.softwareDecrypt=function(f,b,S){var d=this.currentIV,h=this.currentResult,c=this.remainderData;this.logOnce("JS AES decrypt"),c&&(f=Object(m.appendUint8Array)(c,f),this.remainderData=null);var g=this.getValidChunk(f);if(!g.length)return null;d&&(S=d);var T=this.softwareDecrypter;T||(T=this.softwareDecrypter=new o.default),T.expandKey(b);var E=h;return this.currentResult=T.decrypt(g.buffer,0,S),this.currentIV=Object(p.sliceUint8)(g,-16).buffer,E||null},v.webCryptoDecrypt=function(f,b,S){var d=this,h=this.subtle;return this.key===b&&this.fastAesKey||(this.key=b,this.fastAesKey=new s.default(h,b)),this.fastAesKey.expandKey().then(function(c){return h?new i.default(h,S).decrypt(f.buffer,c):Promise.reject(new Error("web crypto not initialized"))}).catch(function(c){return d.onWebCryptoError(c,f,b,S)})},v.onWebCryptoError=function(f,b,S,d){return u.logger.warn("[decrypter.ts]: WebCrypto Error, disable WebCrypto API:",f),this.config.enableSoftwareAES=!0,this.logEnabled=!0,this.softwareDecrypt(b,S,d)},v.getValidChunk=function(f){var b=f,S=f.length-f.length%16;return S!==f.length&&(b=Object(p.sliceUint8)(f,0,S),this.remainderData=Object(p.sliceUint8)(f,S)),b},v.logOnce=function(f){this.logEnabled&&(u.logger.log("[decrypter.ts]: "+f),this.logEnabled=!1)},y}()},"./src/crypt/fast-aes-key.ts":function(t,e,n){n.r(e),n.d(e,"default",function(){return i});var i=function(){function s(o,u){this.subtle=void 0,this.key=void 0,this.subtle=o,this.key=u}return s.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},s}()},"./src/demux/aacdemuxer.ts":function(t,e,n){n.r(e);var i=n("./src/demux/base-audio-demuxer.ts"),s=n("./src/demux/adts.ts"),o=n("./src/utils/logger.ts"),u=n("./src/demux/id3.ts");function m(l,y){return(m=Object.setPrototypeOf||function(v,f){return v.__proto__=f,v})(l,y)}var p=function(l){var y,v;function f(S,d){var h;return(h=l.call(this)||this).observer=void 0,h.config=void 0,h.observer=S,h.config=d,h}v=l,(y=f).prototype=Object.create(v.prototype),y.prototype.constructor=y,m(y,v);var b=f.prototype;return b.resetInitSegment=function(S,d,h){l.prototype.resetInitSegment.call(this,S,d,h),this._audioTrack={container:"audio/adts",type:"audio",id:0,pid:-1,sequenceNumber:0,isAAC:!0,samples:[],manifestCodec:S,duration:h,inputTimeScale:9e4,dropped:0}},f.probe=function(S){if(!S)return!1;for(var d=(u.getID3Data(S,0)||[]).length,h=S.length;d<h;d++)if(s.probe(S,d))return o.logger.log("ADTS sync word found !"),!0;return!1},b.canParse=function(S,d){return s.canParse(S,d)},b.appendFrame=function(S,d,h){s.initTrackConfig(S,this.observer,d,h,S.manifestCodec);var c=s.appendFrame(S,d,h,this.initPTS,this.frameIndex);if(c&&c.missing===0)return c},f}(i.default);p.minProbeByteLength=9,e.default=p},"./src/demux/adts.ts":function(t,e,n){n.r(e),n.d(e,"getAudioConfig",function(){return u}),n.d(e,"isHeaderPattern",function(){return m}),n.d(e,"getHeaderLength",function(){return p}),n.d(e,"getFullFrameLength",function(){return l}),n.d(e,"canGetFrameLength",function(){return y}),n.d(e,"isHeader",function(){return v}),n.d(e,"canParse",function(){return f}),n.d(e,"probe",function(){return b}),n.d(e,"initTrackConfig",function(){return S}),n.d(e,"getFrameDuration",function(){return d}),n.d(e,"parseFrameHeader",function(){return h}),n.d(e,"appendFrame",function(){return c});var i=n("./src/utils/logger.ts"),s=n("./src/errors.ts"),o=n("./src/events.ts");function u(g,T,E,A){var w,L,x,D,k=navigator.userAgent.toLowerCase(),R=A,I=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];w=1+((192&T[E+2])>>>6);var O=(60&T[E+2])>>>2;if(!(O>I.length-1))return x=(1&T[E+2])<<2,x|=(192&T[E+3])>>>6,i.logger.log("manifest codec:"+A+", ADTS type:"+w+", samplingIndex:"+O),/firefox/i.test(k)?O>=6?(w=5,D=new Array(4),L=O-3):(w=2,D=new Array(2),L=O):k.indexOf("android")!==-1?(w=2,D=new Array(2),L=O):(w=5,D=new Array(4),A&&(A.indexOf("mp4a.40.29")!==-1||A.indexOf("mp4a.40.5")!==-1)||!A&&O>=6?L=O-3:((A&&A.indexOf("mp4a.40.2")!==-1&&(O>=6&&x===1||/vivaldi/i.test(k))||!A&&x===1)&&(w=2,D=new Array(2)),L=O)),D[0]=w<<3,D[0]|=(14&O)>>1,D[1]|=(1&O)<<7,D[1]|=x<<3,w===5&&(D[1]|=(14&L)>>1,D[2]=(1&L)<<7,D[2]|=8,D[3]=0),{config:D,samplerate:I[O],channelCount:x,codec:"mp4a.40."+w,manifestCodec:R};g.trigger(o.Events.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+O})}function m(g,T){return g[T]===255&&(246&g[T+1])==240}function p(g,T){return 1&g[T+1]?7:9}function l(g,T){return(3&g[T+3])<<11|g[T+4]<<3|(224&g[T+5])>>>5}function y(g,T){return T+5<g.length}function v(g,T){return T+1<g.length&&m(g,T)}function f(g,T){return y(g,T)&&m(g,T)&&l(g,T)<=g.length-T}function b(g,T){if(v(g,T)){var E=p(g,T);if(T+E>=g.length)return!1;var A=l(g,T);if(A<=E)return!1;var w=T+A;return w===g.length||v(g,w)}return!1}function S(g,T,E,A,w){if(!g.samplerate){var L=u(T,E,A,w);if(!L)return;g.config=L.config,g.samplerate=L.samplerate,g.channelCount=L.channelCount,g.codec=L.codec,g.manifestCodec=L.manifestCodec,i.logger.log("parsed codec:"+g.codec+", rate:"+L.samplerate+", channels:"+L.channelCount)}}function d(g){return 9216e4/g}function h(g,T,E,A,w){var L=p(g,T),x=l(g,T);if((x-=L)>0)return{headerLength:L,frameLength:x,stamp:E+A*w}}function c(g,T,E,A,w){var L=h(T,E,A,w,d(g.samplerate));if(L){var x,D=L.frameLength,k=L.headerLength,R=L.stamp,I=k+D,O=Math.max(0,E+I-T.length);O?(x=new Uint8Array(I-k)).set(T.subarray(E+k,T.length),0):x=T.subarray(E+k,E+I);var P={unit:x,pts:R};return O||g.samples.push(P),{sample:P,length:I,missing:O}}}},"./src/demux/base-audio-demuxer.ts":function(t,e,n){n.r(e),n.d(e,"initPTSFn",function(){return l});var i=n("./src/polyfills/number.ts"),s=n("./src/demux/id3.ts"),o=n("./src/demux/dummy-demuxed-track.ts"),u=n("./src/utils/mp4-tools.ts"),m=n("./src/utils/typed-array.ts"),p=function(){function y(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.initPTS=null}var v=y.prototype;return v.resetInitSegment=function(f,b,S){this._id3Track={type:"id3",id:0,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},v.resetTimeStamp=function(){},v.resetContiguity=function(){},v.canParse=function(f,b){return!1},v.appendFrame=function(f,b,S){},v.demux=function(f,b){this.cachedData&&(f=Object(u.appendUint8Array)(this.cachedData,f),this.cachedData=null);var S,d,h=s.getID3Data(f,0),c=h?h.length:0,g=this._audioTrack,T=this._id3Track,E=h?s.getTimeStamp(h):void 0,A=f.length;for(this.frameIndex!==0&&this.initPTS!==null||(this.initPTS=l(E,b)),h&&h.length>0&&T.samples.push({pts:this.initPTS,dts:this.initPTS,data:h}),d=this.initPTS;c<A;){if(this.canParse(f,c)){var w=this.appendFrame(g,f,c);w?(this.frameIndex++,d=w.sample.pts,S=c+=w.length):c=A}else s.canParse(f,c)?(h=s.getID3Data(f,c),T.samples.push({pts:d,dts:d,data:h}),S=c+=h.length):c++;if(c===A&&S!==A){var L=Object(m.sliceUint8)(f,S);this.cachedData?this.cachedData=Object(u.appendUint8Array)(this.cachedData,L):this.cachedData=L}}return{audioTrack:g,avcTrack:Object(o.dummyTrack)(),id3Track:T,textTrack:Object(o.dummyTrack)()}},v.demuxSampleAes=function(f,b,S){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},v.flush=function(f){var b=this.cachedData;return b&&(this.cachedData=null,this.demux(b,0)),this.frameIndex=0,{audioTrack:this._audioTrack,avcTrack:Object(o.dummyTrack)(),id3Track:this._id3Track,textTrack:Object(o.dummyTrack)()}},v.destroy=function(){},y}(),l=function(y,v){return Object(i.isFiniteNumber)(y)?90*y:9e4*v};e.default=p},"./src/demux/chunk-cache.ts":function(t,e,n){n.r(e),n.d(e,"default",function(){return i});var i=function(){function s(){this.chunks=[],this.dataLength=0}var o=s.prototype;return o.push=function(u){this.chunks.push(u),this.dataLength+=u.length},o.flush=function(){var u,m=this.chunks,p=this.dataLength;return m.length?(u=m.length===1?m[0]:function(l,y){for(var v=new Uint8Array(y),f=0,b=0;b<l.length;b++){var S=l[b];v.set(S,f),f+=S.length}return v}(m,p),this.reset(),u):new Uint8Array(0)},o.reset=function(){this.chunks.length=0,this.dataLength=0},s}()},"./src/demux/dummy-demuxed-track.ts":function(t,e,n){function i(){return{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0}}n.r(e),n.d(e,"dummyTrack",function(){return i})},"./src/demux/exp-golomb.ts":function(t,e,n){n.r(e);var i=n("./src/utils/logger.ts"),s=function(){function o(m){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=m,this.bytesAvailable=m.byteLength,this.word=0,this.bitsAvailable=0}var u=o.prototype;return u.loadWord=function(){var m=this.data,p=this.bytesAvailable,l=m.byteLength-p,y=new Uint8Array(4),v=Math.min(4,p);if(v===0)throw new Error("no bytes available");y.set(m.subarray(l,l+v)),this.word=new DataView(y.buffer).getUint32(0),this.bitsAvailable=8*v,this.bytesAvailable-=v},u.skipBits=function(m){var p;this.bitsAvailable>m?(this.word<<=m,this.bitsAvailable-=m):(m-=this.bitsAvailable,m-=(p=m>>3)>>3,this.bytesAvailable-=p,this.loadWord(),this.word<<=m,this.bitsAvailable-=m)},u.readBits=function(m){var p=Math.min(this.bitsAvailable,m),l=this.word>>>32-p;return m>32&&i.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=p,this.bitsAvailable>0?this.word<<=p:this.bytesAvailable>0&&this.loadWord(),(p=m-p)>0&&this.bitsAvailable?l<<p|this.readBits(p):l},u.skipLZ=function(){var m;for(m=0;m<this.bitsAvailable;++m)if((this.word&2147483648>>>m)!=0)return this.word<<=m,this.bitsAvailable-=m,m;return this.loadWord(),m+this.skipLZ()},u.skipUEG=function(){this.skipBits(1+this.skipLZ())},u.skipEG=function(){this.skipBits(1+this.skipLZ())},u.readUEG=function(){var m=this.skipLZ();return this.readBits(m+1)-1},u.readEG=function(){var m=this.readUEG();return 1&m?1+m>>>1:-1*(m>>>1)},u.readBoolean=function(){return this.readBits(1)===1},u.readUByte=function(){return this.readBits(8)},u.readUShort=function(){return this.readBits(16)},u.readUInt=function(){return this.readBits(32)},u.skipScalingList=function(m){for(var p=8,l=8,y=0;y<m;y++)l!==0&&(l=(p+this.readEG()+256)%256),p=l===0?p:l},u.readSPS=function(){var m,p,l,y=0,v=0,f=0,b=0,S=this.readUByte.bind(this),d=this.readBits.bind(this),h=this.readUEG.bind(this),c=this.readBoolean.bind(this),g=this.skipBits.bind(this),T=this.skipEG.bind(this),E=this.skipUEG.bind(this),A=this.skipScalingList.bind(this);S();var w=S();if(d(5),g(3),S(),E(),w===100||w===110||w===122||w===244||w===44||w===83||w===86||w===118||w===128){var L=h();if(L===3&&g(1),E(),E(),g(1),c())for(p=L!==3?8:12,l=0;l<p;l++)c()&&A(l<6?16:64)}E();var x=h();if(x===0)h();else if(x===1)for(g(1),T(),T(),m=h(),l=0;l<m;l++)T();E(),g(1);var D=h(),k=h(),R=d(1);R===0&&g(1),g(1),c()&&(y=h(),v=h(),f=h(),b=h());var I=[1,1];if(c()&&c())switch(S()){case 1:I=[1,1];break;case 2:I=[12,11];break;case 3:I=[10,11];break;case 4:I=[16,11];break;case 5:I=[40,33];break;case 6:I=[24,11];break;case 7:I=[20,11];break;case 8:I=[32,11];break;case 9:I=[80,33];break;case 10:I=[18,11];break;case 11:I=[15,11];break;case 12:I=[64,33];break;case 13:I=[160,99];break;case 14:I=[4,3];break;case 15:I=[3,2];break;case 16:I=[2,1];break;case 255:I=[S()<<8|S(),S()<<8|S()]}return{width:Math.ceil(16*(D+1)-2*y-2*v),height:(2-R)*(k+1)*16-(R?2:4)*(f+b),pixelRatio:I}},u.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},o}();e.default=s},"./src/demux/id3.ts":function(t,e,n){n.r(e),n.d(e,"isHeader",function(){return s}),n.d(e,"isFooter",function(){return o}),n.d(e,"getID3Data",function(){return u}),n.d(e,"canParse",function(){return p}),n.d(e,"getTimeStamp",function(){return l}),n.d(e,"isTimeStampFrame",function(){return y}),n.d(e,"getID3Frames",function(){return f}),n.d(e,"decodeFrame",function(){return b}),n.d(e,"utf8ArrayToStr",function(){return g}),n.d(e,"testables",function(){return T});var i,s=function(E,A){return A+10<=E.length&&E[A]===73&&E[A+1]===68&&E[A+2]===51&&E[A+3]<255&&E[A+4]<255&&E[A+6]<128&&E[A+7]<128&&E[A+8]<128&&E[A+9]<128},o=function(E,A){return A+10<=E.length&&E[A]===51&&E[A+1]===68&&E[A+2]===73&&E[A+3]<255&&E[A+4]<255&&E[A+6]<128&&E[A+7]<128&&E[A+8]<128&&E[A+9]<128},u=function(E,A){for(var w=A,L=0;s(E,A);)L+=10,L+=m(E,A+6),o(E,A+10)&&(L+=10),A+=L;if(L>0)return E.subarray(w,w+L)},m=function(E,A){var w=0;return w=(127&E[A])<<21,w|=(127&E[A+1])<<14,w|=(127&E[A+2])<<7,w|=127&E[A+3]},p=function(E,A){return s(E,A)&&m(E,A+6)+10<=E.length-A},l=function(E){for(var A=f(E),w=0;w<A.length;w++){var L=A[w];if(y(L))return c(L)}},y=function(E){return E&&E.key==="PRIV"&&E.info==="com.apple.streaming.transportStreamTimestamp"},v=function(E){var A=String.fromCharCode(E[0],E[1],E[2],E[3]),w=m(E,4);return{type:A,size:w,data:E.subarray(10,10+w)}},f=function(E){for(var A=0,w=[];s(E,A);){for(var L=m(E,A+6),x=(A+=10)+L;A+8<x;){var D=v(E.subarray(A)),k=b(D);k&&w.push(k),A+=D.size+10}o(E,A)&&(A+=10)}return w},b=function(E){return E.type==="PRIV"?S(E):E.type[0]==="W"?h(E):d(E)},S=function(E){if(!(E.size<2)){var A=g(E.data,!0),w=new Uint8Array(E.data.subarray(A.length+1));return{key:E.type,info:A,data:w.buffer}}},d=function(E){if(!(E.size<2)){if(E.type==="TXXX"){var A=1,w=g(E.data.subarray(A),!0);A+=w.length+1;var L=g(E.data.subarray(A));return{key:E.type,info:w,data:L}}var x=g(E.data.subarray(1));return{key:E.type,data:x}}},h=function(E){if(E.type==="WXXX"){if(E.size<2)return;var A=1,w=g(E.data.subarray(A),!0);A+=w.length+1;var L=g(E.data.subarray(A));return{key:E.type,info:w,data:L}}var x=g(E.data);return{key:E.type,data:x}},c=function(E){if(E.data.byteLength===8){var A=new Uint8Array(E.data),w=1&A[3],L=(A[4]<<23)+(A[5]<<15)+(A[6]<<7)+A[7];return L/=45,w&&(L+=4772185884e-2),Math.round(L)}},g=function(E,A){A===void 0&&(A=!1);var w=(i||self.TextDecoder===void 0||(i=new self.TextDecoder("utf-8")),i);if(w){var L=w.decode(E);if(A){var x=L.indexOf("\0");return x!==-1?L.substring(0,x):L}return L.replace(/\0/g,"")}for(var D,k,R,I=E.length,O="",P=0;P<I;){if((D=E[P++])===0&&A)return O;if(D!==0&&D!==3)switch(D>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:O+=String.fromCharCode(D);break;case 12:case 13:k=E[P++],O+=String.fromCharCode((31&D)<<6|63&k);break;case 14:k=E[P++],R=E[P++],O+=String.fromCharCode((15&D)<<12|(63&k)<<6|(63&R)<<0)}}return O},T={decodeTextFrame:d}},"./src/demux/mp3demuxer.ts":function(t,e,n){n.r(e);var i=n("./src/demux/base-audio-demuxer.ts"),s=n("./src/demux/id3.ts"),o=n("./src/utils/logger.ts"),u=n("./src/demux/mpegaudio.ts");function m(l,y){return(m=Object.setPrototypeOf||function(v,f){return v.__proto__=f,v})(l,y)}var p=function(l){var y,v;function f(){return l.apply(this,arguments)||this}v=l,(y=f).prototype=Object.create(v.prototype),y.prototype.constructor=y,m(y,v);var b=f.prototype;return b.resetInitSegment=function(S,d,h){l.prototype.resetInitSegment.call(this,S,d,h),this._audioTrack={container:"audio/mpeg",type:"audio",id:0,pid:-1,sequenceNumber:0,isAAC:!1,samples:[],manifestCodec:S,duration:h,inputTimeScale:9e4,dropped:0}},f.probe=function(S){if(!S)return!1;for(var d=(s.getID3Data(S,0)||[]).length,h=S.length;d<h;d++)if(u.probe(S,d))return o.logger.log("MPEG Audio sync word found !"),!0;return!1},b.canParse=function(S,d){return u.canParse(S,d)},b.appendFrame=function(S,d,h){if(this.initPTS!==null)return u.appendFrame(S,d,h,this.initPTS,this.frameIndex)},f}(i.default);p.minProbeByteLength=4,e.default=p},"./src/demux/mp4demuxer.ts":function(t,e,n){n.r(e);var i=n("./src/utils/mp4-tools.ts"),s=n("./src/demux/dummy-demuxed-track.ts"),o=function(){function u(p,l){this.remainderData=null,this.config=void 0,this.config=l}var m=u.prototype;return m.resetTimeStamp=function(){},m.resetInitSegment=function(){},m.resetContiguity=function(){},u.probe=function(p){return Object(i.findBox)({data:p,start:0,end:Math.min(p.length,16384)},["moof"]).length>0},m.demux=function(p){var l=p,y=Object(s.dummyTrack)();if(this.config.progressive){this.remainderData&&(l=Object(i.appendUint8Array)(this.remainderData,p));var v=Object(i.segmentValidRange)(l);this.remainderData=v.remainder,y.samples=v.valid||new Uint8Array}else y.samples=l;return{audioTrack:Object(s.dummyTrack)(),avcTrack:y,id3Track:Object(s.dummyTrack)(),textTrack:Object(s.dummyTrack)()}},m.flush=function(){var p=Object(s.dummyTrack)();return p.samples=this.remainderData||new Uint8Array,this.remainderData=null,{audioTrack:Object(s.dummyTrack)(),avcTrack:p,id3Track:Object(s.dummyTrack)(),textTrack:Object(s.dummyTrack)()}},m.demuxSampleAes=function(p,l,y){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},m.destroy=function(){},u}();o.minProbeByteLength=1024,e.default=o},"./src/demux/mpegaudio.ts":function(t,e,n){n.r(e),n.d(e,"appendFrame",function(){return p}),n.d(e,"parseHeader",function(){return l}),n.d(e,"isHeaderPattern",function(){return y}),n.d(e,"isHeader",function(){return v}),n.d(e,"canParse",function(){return f}),n.d(e,"probe",function(){return b});var i=null,s=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],o=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],u=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],m=[0,1,1,4];function p(S,d,h,c,g){if(!(h+24>d.length)){var T=l(d,h);if(T&&h+T.frameLength<=d.length){var E=c+g*(9e4*T.samplesPerFrame/T.sampleRate),A={unit:d.subarray(h,h+T.frameLength),pts:E,dts:E};return S.config=[],S.channelCount=T.channelCount,S.samplerate=T.sampleRate,S.samples.push(A),{sample:A,length:T.frameLength,missing:0}}}}function l(S,d){var h=S[d+1]>>3&3,c=S[d+1]>>1&3,g=S[d+2]>>4&15,T=S[d+2]>>2&3;if(h!==1&&g!==0&&g!==15&&T!==3){var E=S[d+2]>>1&1,A=S[d+3]>>6,w=1e3*s[14*(h===3?3-c:c===3?3:4)+g-1],L=o[3*(h===3?0:h===2?1:2)+T],x=A===3?1:2,D=u[h][c],k=m[c],R=8*D*k,I=Math.floor(D*w/L+E)*k;if(i===null){var O=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);i=O?parseInt(O[1]):0}return!!i&&i<=87&&c===2&&w>=224e3&&A===0&&(S[d+3]=128|S[d+3]),{sampleRate:L,channelCount:x,frameLength:I,samplesPerFrame:R}}}function y(S,d){return S[d]===255&&(224&S[d+1])==224&&(6&S[d+1])!=0}function v(S,d){return d+1<S.length&&y(S,d)}function f(S,d){return y(S,d)&&4<=S.length-d}function b(S,d){if(d+1<S.length&&y(S,d)){var h=l(S,d),c=4;h!=null&&h.frameLength&&(c=h.frameLength);var g=d+c;return g===S.length||v(S,g)}return!1}},"./src/demux/sample-aes.ts":function(t,e,n){n.r(e);var i=n("./src/crypt/decrypter.ts"),s=n("./src/demux/tsdemuxer.ts"),o=function(){function u(p,l,y){this.keyData=void 0,this.decrypter=void 0,this.keyData=y,this.decrypter=new i.default(p,l,{removePKCS7Padding:!1})}var m=u.prototype;return m.decryptBuffer=function(p,l){this.decrypter.decrypt(p,this.keyData.key.buffer,this.keyData.iv.buffer,l)},m.decryptAacSample=function(p,l,y,v){var f=p[l].unit,b=f.subarray(16,f.length-f.length%16),S=b.buffer.slice(b.byteOffset,b.byteOffset+b.length),d=this;this.decryptBuffer(S,function(h){var c=new Uint8Array(h);f.set(c,16),v||d.decryptAacSamples(p,l+1,y)})},m.decryptAacSamples=function(p,l,y){for(;;l++){if(l>=p.length)return void y();if(!(p[l].unit.length<32)){var v=this.decrypter.isSync();if(this.decryptAacSample(p,l,y,v),!v)return}}},m.getAvcEncryptedData=function(p){for(var l=16*Math.floor((p.length-48)/160)+16,y=new Int8Array(l),v=0,f=32;f<=p.length-16;f+=160,v+=16)y.set(p.subarray(f,f+16),v);return y},m.getAvcDecryptedUnit=function(p,l){for(var y=new Uint8Array(l),v=0,f=32;f<=p.length-16;f+=160,v+=16)p.set(y.subarray(v,v+16),f);return p},m.decryptAvcSample=function(p,l,y,v,f,b){var S=Object(s.discardEPB)(f.data),d=this.getAvcEncryptedData(S),h=this;this.decryptBuffer(d.buffer,function(c){f.data=h.getAvcDecryptedUnit(S,c),b||h.decryptAvcSamples(p,l,y+1,v)})},m.decryptAvcSamples=function(p,l,y,v){if(p instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;l++,y=0){if(l>=p.length)return void v();for(var f=p[l].units;!(y>=f.length);y++){var b=f[y];if(!(b.data.length<=48||b.type!==1&&b.type!==5)){var S=this.decrypter.isSync();if(this.decryptAvcSample(p,l,y,v,b,S),!S)return}}}},u}();e.default=o},"./src/demux/transmuxer-interface.ts":function(t,e,n){n.r(e),n.d(e,"default",function(){return v});var i=n("./node_modules/webworkify-webpack/index.js"),s=n("./src/events.ts"),o=n("./src/demux/transmuxer.ts"),u=n("./src/utils/logger.ts"),m=n("./src/errors.ts"),p=n("./src/utils/mediasource-helper.ts"),l=n("./node_modules/eventemitter3/index.js"),y=Object(p.getMediaSource)()||{isTypeSupported:function(){return!1}},v=function(){function f(S,d,h,c){var g=this;this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.worker=void 0,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.hls=S,this.id=d,this.onTransmuxComplete=h,this.onFlush=c;var T=S.config,E=function(x,D){(D=D||{}).frag=g.frag,D.id=g.id,S.trigger(x,D)};this.observer=new l.EventEmitter,this.observer.on(s.Events.FRAG_DECRYPTED,E),this.observer.on(s.Events.ERROR,E);var A={mp4:y.isTypeSupported("video/mp4"),mpeg:y.isTypeSupported("audio/mpeg"),mp3:y.isTypeSupported('audio/mp4; codecs="mp3"')},w=navigator.vendor;if(T.enableWorker&&typeof Worker<"u"){var L;u.logger.log("demuxing in webworker");try{L=this.worker=i("./src/demux/transmuxer-worker.ts"),this.onwmsg=this.onWorkerMessage.bind(this),L.addEventListener("message",this.onwmsg),L.onerror=function(x){S.trigger(s.Events.ERROR,{type:m.ErrorTypes.OTHER_ERROR,details:m.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",error:new Error(x.message+"  ("+x.filename+":"+x.lineno+")")})},L.postMessage({cmd:"init",typeSupported:A,vendor:w,id:d,config:JSON.stringify(T)})}catch(x){u.logger.warn("Error in worker:",x),u.logger.error("Error while initializing DemuxerWorker, fallback to inline"),L&&self.URL.revokeObjectURL(L.objectURL),this.transmuxer=new o.default(this.observer,A,T,w,d),this.worker=null}}else this.transmuxer=new o.default(this.observer,A,T,w,d)}var b=f.prototype;return b.destroy=function(){var S=this.worker;if(S)S.removeEventListener("message",this.onwmsg),S.terminate(),this.worker=null;else{var d=this.transmuxer;d&&(d.destroy(),this.transmuxer=null)}var h=this.observer;h&&h.removeAllListeners(),this.observer=null},b.push=function(S,d,h,c,g,T,E,A,w,L){var x=this;w.transmuxing.start=self.performance.now();var D=this.transmuxer,k=this.worker,R=T?T.start:g.start,I=g.decryptdata,O=this.frag,P=!(O&&g.cc===O.cc),F=!(O&&w.level===O.level),U=O?w.sn-O.sn:-1,B=this.part?w.part-this.part.index:1,H=!F&&(U===1||U===0&&B===1),V=self.performance.now();(F||U||g.stats.parsing.start===0)&&(g.stats.parsing.start=V),!T||!B&&H||(T.stats.parsing.start=V);var q=new o.TransmuxState(P,H,A,F,R);if(!H||P){u.logger.log("[transmuxer-interface, "+g.type+"]: Starting new transmux session for sn: "+w.sn+" p: "+w.part+" level: "+w.level+" id: "+w.id+`
        discontinuity: `+P+`
        trackSwitch: `+F+`
        contiguous: `+H+`
        accurateTimeOffset: `+A+`
        timeOffset: `+R);var et=new o.TransmuxConfig(h,c,d,E,L);this.configureTransmuxer(et)}if(this.frag=g,this.part=T,k)k.postMessage({cmd:"demux",data:S,decryptdata:I,chunkMeta:w,state:q},S instanceof ArrayBuffer?[S]:[]);else if(D){var rt=D.push(S,I,w,q);Object(o.isPromise)(rt)?rt.then(function(ot){x.handleTransmuxComplete(ot)}):this.handleTransmuxComplete(rt)}},b.flush=function(S){var d=this;S.transmuxing.start=self.performance.now();var h=this.transmuxer,c=this.worker;if(c)c.postMessage({cmd:"flush",chunkMeta:S});else if(h){var g=h.flush(S);Object(o.isPromise)(g)?g.then(function(T){d.handleFlushResult(T,S)}):this.handleFlushResult(g,S)}},b.handleFlushResult=function(S,d){var h=this;S.forEach(function(c){h.handleTransmuxComplete(c)}),this.onFlush(d)},b.onWorkerMessage=function(S){var d=S.data,h=this.hls;switch(d.event){case"init":self.URL.revokeObjectURL(this.worker.objectURL);break;case"transmuxComplete":this.handleTransmuxComplete(d.data);break;case"flush":this.onFlush(d.data);break;default:d.data=d.data||{},d.data.frag=this.frag,d.data.id=this.id,h.trigger(d.event,d.data)}},b.configureTransmuxer=function(S){var d=this.worker,h=this.transmuxer;d?d.postMessage({cmd:"configure",config:S}):h&&h.configure(S)},b.handleTransmuxComplete=function(S){S.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(S)},f}()},"./src/demux/transmuxer-worker.ts":function(t,e,n){n.r(e),n.d(e,"default",function(){return m});var i=n("./src/demux/transmuxer.ts"),s=n("./src/events.ts"),o=n("./src/utils/logger.ts"),u=n("./node_modules/eventemitter3/index.js");function m(v){var f=new u.EventEmitter,b=function(S,d){v.postMessage({event:S,data:d})};f.on(s.Events.FRAG_DECRYPTED,b),f.on(s.Events.ERROR,b),v.addEventListener("message",function(S){var d=S.data;switch(d.cmd){case"init":var h=JSON.parse(d.config);v.transmuxer=new i.default(f,d.typeSupported,h,d.vendor,d.id),Object(o.enableLogs)(h.debug),b("init",null);break;case"configure":v.transmuxer.configure(d.config);break;case"demux":var c=v.transmuxer.push(d.data,d.decryptdata,d.chunkMeta,d.state);Object(i.isPromise)(c)?c.then(function(E){p(v,E)}):p(v,c);break;case"flush":var g=d.chunkMeta,T=v.transmuxer.flush(g);Object(i.isPromise)(T)?T.then(function(E){y(v,E,g)}):y(v,T,g)}})}function p(v,f){if((b=f.remuxResult).audio||b.video||b.text||b.id3||b.initSegment){var b,S=[],d=f.remuxResult,h=d.audio,c=d.video;h&&l(S,h),c&&l(S,c),v.postMessage({event:"transmuxComplete",data:f},S)}}function l(v,f){f.data1&&v.push(f.data1.buffer),f.data2&&v.push(f.data2.buffer)}function y(v,f,b){f.forEach(function(S){p(v,S)}),v.postMessage({event:"flush",data:b})}},"./src/demux/transmuxer.ts":function(t,e,n){n.r(e),n.d(e,"default",function(){return g}),n.d(e,"isPromise",function(){return E}),n.d(e,"TransmuxConfig",function(){return A}),n.d(e,"TransmuxState",function(){return w});var i,s=n("./src/events.ts"),o=n("./src/errors.ts"),u=n("./src/crypt/decrypter.ts"),m=n("./src/demux/aacdemuxer.ts"),p=n("./src/demux/mp4demuxer.ts"),l=n("./src/demux/tsdemuxer.ts"),y=n("./src/demux/mp3demuxer.ts"),v=n("./src/remux/mp4-remuxer.ts"),f=n("./src/remux/passthrough-remuxer.ts"),b=n("./src/demux/chunk-cache.ts"),S=n("./src/utils/mp4-tools.ts"),d=n("./src/utils/logger.ts");try{i=self.performance.now.bind(self.performance)}catch{d.logger.debug("Unable to use Performance API on this environment"),i=self.Date.now}var h=[{demux:l.default,remux:v.default},{demux:p.default,remux:f.default},{demux:m.default,remux:v.default},{demux:y.default,remux:v.default}],c=1024;h.forEach(function(L){var x=L.demux;c=Math.max(c,x.minProbeByteLength)});var g=function(){function L(D,k,R,I,O){this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.cache=new b.default,this.observer=D,this.typeSupported=k,this.config=R,this.vendor=I,this.id=O}var x=L.prototype;return x.configure=function(D){this.transmuxConfig=D,this.decrypter&&this.decrypter.reset()},x.push=function(D,k,R,I){var O=this,P=R.transmuxing;P.executeStart=i();var F=new Uint8Array(D),U=this.cache,B=this.config,H=this.currentTransmuxState,V=this.transmuxConfig;I&&(this.currentTransmuxState=I);var q=function(_t,wt){var St=null;return _t.byteLength>0&&wt!=null&&wt.key!=null&&wt.iv!==null&&wt.method!=null&&(St=wt),St}(F,k);if(q&&q.method==="AES-128"){var et=this.getDecrypter();if(!B.enableSoftwareAES)return this.decryptionPromise=et.webCryptoDecrypt(F,q.key.buffer,q.iv.buffer).then(function(_t){var wt=O.push(_t,null,R);return O.decryptionPromise=null,wt}),this.decryptionPromise;var rt=et.softwareDecrypt(F,q.key.buffer,q.iv.buffer);if(!rt)return P.executeEnd=i(),T(R);F=new Uint8Array(rt)}var ot=I||H,J=ot.contiguous,W=ot.discontinuity,st=ot.trackSwitch,it=ot.accurateTimeOffset,j=ot.timeOffset,gt=V.audioCodec,bt=V.videoCodec,It=V.defaultInitPts,z=V.duration,tt=V.initSegmentData;if((W||st)&&this.resetInitSegment(tt,gt,bt,z),W&&this.resetInitialTimestamp(It),J||this.resetContiguity(),this.needsProbing(F,W,st)){if(U.dataLength){var ut=U.flush();F=Object(S.appendUint8Array)(ut,F)}this.configureTransmuxer(F,V)}var ft=this.transmux(F,q,j,it,R),mt=this.currentTransmuxState;return mt.contiguous=!0,mt.discontinuity=!1,mt.trackSwitch=!1,P.executeEnd=i(),ft},x.flush=function(D){var k=this,R=D.transmuxing;R.executeStart=i();var I=this.decrypter,O=this.cache,P=this.currentTransmuxState,F=this.decryptionPromise;if(F)return F.then(function(){return k.flush(D)});var U=[],B=P.timeOffset;if(I){var H=I.flush();H&&U.push(this.push(H,null,D))}var V=O.dataLength;O.reset();var q=this.demuxer,et=this.remuxer;if(!q||!et)return V>=c&&this.observer.emit(s.Events.ERROR,s.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"}),R.executeEnd=i(),[T(D)];var rt=q.flush(B);return E(rt)?rt.then(function(ot){return k.flushRemux(U,ot,D),U}):(this.flushRemux(U,rt,D),U)},x.flushRemux=function(D,k,R){var I=k.audioTrack,O=k.avcTrack,P=k.id3Track,F=k.textTrack,U=this.currentTransmuxState,B=U.accurateTimeOffset,H=U.timeOffset;d.logger.log("[transmuxer.ts]: Flushed fragment "+R.sn+(R.part>-1?" p: "+R.part:"")+" of level "+R.level);var V=this.remuxer.remux(I,O,P,F,H,B,!0,this.id);D.push({remuxResult:V,chunkMeta:R}),R.transmuxing.executeEnd=i()},x.resetInitialTimestamp=function(D){var k=this.demuxer,R=this.remuxer;k&&R&&(k.resetTimeStamp(D),R.resetTimeStamp(D))},x.resetContiguity=function(){var D=this.demuxer,k=this.remuxer;D&&k&&(D.resetContiguity(),k.resetNextTimestamp())},x.resetInitSegment=function(D,k,R,I){var O=this.demuxer,P=this.remuxer;O&&P&&(O.resetInitSegment(k,R,I),P.resetInitSegment(D,k,R))},x.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},x.transmux=function(D,k,R,I,O){return k&&k.method==="SAMPLE-AES"?this.transmuxSampleAes(D,k,R,I,O):this.transmuxUnencrypted(D,R,I,O)},x.transmuxUnencrypted=function(D,k,R,I){var O=this.demuxer.demux(D,k,!1,!this.config.progressive),P=O.audioTrack,F=O.avcTrack,U=O.id3Track,B=O.textTrack;return{remuxResult:this.remuxer.remux(P,F,U,B,k,R,!1,this.id),chunkMeta:I}},x.transmuxSampleAes=function(D,k,R,I,O){var P=this;return this.demuxer.demuxSampleAes(D,k,R).then(function(F){return{remuxResult:P.remuxer.remux(F.audioTrack,F.avcTrack,F.id3Track,F.textTrack,R,I,!1,P.id),chunkMeta:O}})},x.configureTransmuxer=function(D,k){for(var R,I=this.config,O=this.observer,P=this.typeSupported,F=this.vendor,U=k.audioCodec,B=k.defaultInitPts,H=k.duration,V=k.initSegmentData,q=k.videoCodec,et=0,rt=h.length;et<rt;et++)if(h[et].demux.probe(D)){R=h[et];break}R||(d.logger.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),R={demux:p.default,remux:f.default});var ot=this.demuxer,J=this.remuxer,W=R.remux,st=R.demux;J&&J instanceof W||(this.remuxer=new W(O,I,P,F)),ot&&ot instanceof st||(this.demuxer=new st(O,I,P),this.probe=st.probe),this.resetInitSegment(V,U,q,H),this.resetInitialTimestamp(B)},x.needsProbing=function(D,k,R){return!this.demuxer||!this.remuxer||k||R},x.getDecrypter=function(){var D=this.decrypter;return D||(D=this.decrypter=new u.default(this.observer,this.config)),D},L}(),T=function(L){return{remuxResult:{},chunkMeta:L}};function E(L){return"then"in L&&L.then instanceof Function}var A=function(L,x,D,k,R){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=L,this.videoCodec=x,this.initSegmentData=D,this.duration=k,this.defaultInitPts=R},w=function(L,x,D,k,R){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.discontinuity=L,this.contiguous=x,this.accurateTimeOffset=D,this.trackSwitch=k,this.timeOffset=R}},"./src/demux/tsdemuxer.ts":function(t,e,n){n.r(e),n.d(e,"discardEPB",function(){return E});var i=n("./src/demux/adts.ts"),s=n("./src/demux/mpegaudio.ts"),o=n("./src/demux/exp-golomb.ts"),u=n("./src/demux/id3.ts"),m=n("./src/demux/sample-aes.ts"),p=n("./src/events.ts"),l=n("./src/utils/mp4-tools.ts"),y=n("./src/utils/logger.ts"),v=n("./src/errors.ts"),f={video:1,audio:2,id3:3,text:4},b=function(){function A(L,x,D){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this.aacLastPTS=null,this._initPTS=null,this._initDTS=null,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=L,this.config=x,this.typeSupported=D}A.probe=function(L){var x=A.syncOffset(L);return!(x<0||(x&&y.logger.warn("MPEG2-TS detected but first sync word found @ offset "+x+", junk ahead ?"),0))},A.syncOffset=function(L){for(var x=Math.min(1e3,L.length-564),D=0;D<x;){if(L[D]===71&&L[D+188]===71&&L[D+376]===71)return D;D++}return-1},A.createTrack=function(L,x){return{container:L==="video"||L==="audio"?"video/mp2t":void 0,type:L,id:f[L],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:L==="audio"?x:void 0}};var w=A.prototype;return w.resetInitSegment=function(L,x,D){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=A.createTrack("video",D),this._audioTrack=A.createTrack("audio",D),this._id3Track=A.createTrack("id3",D),this._txtTrack=A.createTrack("text",D),this._audioTrack.isAAC=!0,this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=L,this.videoCodec=x,this._duration=D},w.resetTimeStamp=function(){},w.resetContiguity=function(){var L=this._audioTrack,x=this._avcTrack,D=this._id3Track;L&&(L.pesData=null),x&&(x.pesData=null),D&&(D.pesData=null),this.aacOverFlow=null,this.aacLastPTS=null},w.demux=function(L,x,D,k){var R;D===void 0&&(D=!1),k===void 0&&(k=!1),D||(this.sampleAes=null);var I=this._avcTrack,O=this._audioTrack,P=this._id3Track,F=I.pid,U=I.pesData,B=O.pid,H=P.pid,V=O.pesData,q=P.pesData,et=!1,rt=this.pmtParsed,ot=this._pmtId,J=L.length;if(this.remainderData&&(J=(L=Object(l.appendUint8Array)(this.remainderData,L)).length,this.remainderData=null),J<188&&!k)return this.remainderData=L,{audioTrack:O,avcTrack:I,id3Track:P,textTrack:this._txtTrack};var W=Math.max(0,A.syncOffset(L));(J-=(J+W)%188)<L.byteLength&&!k&&(this.remainderData=new Uint8Array(L.buffer,J,L.buffer.byteLength-J));for(var st=W;st<J;st+=188)if(L[st]===71){var it=!!(64&L[st+1]),j=((31&L[st+1])<<8)+L[st+2],gt=void 0;if((48&L[st+3])>>4>1){if((gt=st+5+L[st+4])===st+188)continue}else gt=st+4;switch(j){case F:it&&(U&&(R=c(U))&&this.parseAVCPES(R,!1),U={data:[],size:0}),U&&(U.data.push(L.subarray(gt,st+188)),U.size+=st+188-gt);break;case B:it&&(V&&(R=c(V))&&(O.isAAC?this.parseAACPES(R):this.parseMPEGPES(R)),V={data:[],size:0}),V&&(V.data.push(L.subarray(gt,st+188)),V.size+=st+188-gt);break;case H:it&&(q&&(R=c(q))&&this.parseID3PES(R),q={data:[],size:0}),q&&(q.data.push(L.subarray(gt,st+188)),q.size+=st+188-gt);break;case 0:it&&(gt+=L[gt]+1),ot=this._pmtId=d(L,gt);break;case ot:it&&(gt+=L[gt]+1);var bt=h(L,gt,this.typeSupported.mpeg===!0||this.typeSupported.mp3===!0,D);(F=bt.avc)>0&&(I.pid=F),(B=bt.audio)>0&&(O.pid=B,O.isAAC=bt.isAAC),(H=bt.id3)>0&&(P.pid=H),et&&!rt&&(y.logger.log("reparse from beginning"),et=!1,st=W-188),rt=this.pmtParsed=!0;break;case 17:case 8191:break;default:et=!0}}else this.observer.emit(p.Events.ERROR,p.Events.ERROR,{type:v.ErrorTypes.MEDIA_ERROR,details:v.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});I.pesData=U,O.pesData=V,P.pesData=q;var It={audioTrack:O,avcTrack:I,id3Track:P,textTrack:this._txtTrack};return k&&this.extractRemainingSamples(It),It},w.flush=function(){var L,x=this.remainderData;return this.remainderData=null,L=x?this.demux(x,-1,!1,!0):{audioTrack:this._audioTrack,avcTrack:this._avcTrack,textTrack:this._txtTrack,id3Track:this._id3Track},this.extractRemainingSamples(L),this.sampleAes?this.decrypt(L,this.sampleAes):L},w.extractRemainingSamples=function(L){var x,D=L.audioTrack,k=L.avcTrack,R=L.id3Track,I=k.pesData,O=D.pesData,P=R.pesData;I&&(x=c(I))?(this.parseAVCPES(x,!0),k.pesData=null):k.pesData=I,O&&(x=c(O))?(D.isAAC?this.parseAACPES(x):this.parseMPEGPES(x),D.pesData=null):(O!=null&&O.size&&y.logger.log("last AAC PES packet truncated,might overlap between fragments"),D.pesData=O),P&&(x=c(P))?(this.parseID3PES(x),R.pesData=null):R.pesData=P},w.demuxSampleAes=function(L,x,D){var k=this.demux(L,D,!0,!this.config.progressive),R=this.sampleAes=new m.default(this.observer,this.config,x);return this.decrypt(k,R)},w.decrypt=function(L,x){return new Promise(function(D){var k=L.audioTrack,R=L.avcTrack;k.samples&&k.isAAC?x.decryptAacSamples(k.samples,0,function(){R.samples?x.decryptAvcSamples(R.samples,0,0,function(){D(L)}):D(L)}):R.samples&&x.decryptAvcSamples(R.samples,0,0,function(){D(L)})})},w.destroy=function(){this._initPTS=this._initDTS=null,this._duration=0},w.parseAVCPES=function(L,x){var D,k=this,R=this._avcTrack,I=this.parseAVCNALu(L.data),O=this.avcSample,P=!1;L.data=null,O&&I.length&&!R.audFound&&(g(O,R),O=this.avcSample=S(!1,L.pts,L.dts,"")),I.forEach(function(F){switch(F.type){case 1:D=!0,O||(O=k.avcSample=S(!0,L.pts,L.dts,"")),O.frame=!0;var U=F.data;if(P&&U.length>4){var B=new o.default(U).readSliceType();B!==2&&B!==4&&B!==7&&B!==9||(O.key=!0)}break;case 5:D=!0,O||(O=k.avcSample=S(!0,L.pts,L.dts,"")),O.key=!0,O.frame=!0;break;case 6:D=!0;var H=new o.default(E(F.data));H.readUByte();for(var V=0,q=0,et=!1,rt=0;!et&&H.bytesAvailable>1;){V=0;do V+=rt=H.readUByte();while(rt===255);q=0;do q+=rt=H.readUByte();while(rt===255);if(V===4&&H.bytesAvailable!==0){if(et=!0,H.readUByte()===181&&H.readUShort()===49&&H.readUInt()===1195456820&&H.readUByte()===3){for(var ot=H.readUByte(),J=31&ot,W=[ot,H.readUByte()],st=0;st<J;st++)W.push(H.readUByte()),W.push(H.readUByte()),W.push(H.readUByte());T(k._txtTrack.samples,{type:3,pts:L.pts,bytes:W})}}else if(V===5&&H.bytesAvailable!==0){if(et=!0,q>16){for(var it=[],j=0;j<16;j++)it.push(H.readUByte().toString(16)),j!==3&&j!==5&&j!==7&&j!==9||it.push("-");for(var gt=q-16,bt=new Uint8Array(gt),It=0;It<gt;It++)bt[It]=H.readUByte();T(k._txtTrack.samples,{pts:L.pts,payloadType:V,uuid:it.join(""),userData:Object(u.utf8ArrayToStr)(bt),userDataBytes:bt})}}else if(q<H.bytesAvailable)for(var z=0;z<q;z++)H.readUByte()}break;case 7:if(D=!0,P=!0,!R.sps){var tt=new o.default(F.data).readSPS();R.width=tt.width,R.height=tt.height,R.pixelRatio=tt.pixelRatio,R.sps=[F.data],R.duration=k._duration;for(var ut=F.data.subarray(1,4),ft="avc1.",mt=0;mt<3;mt++){var _t=ut[mt].toString(16);_t.length<2&&(_t="0"+_t),ft+=_t}R.codec=ft}break;case 8:D=!0,R.pps||(R.pps=[F.data]);break;case 9:D=!1,R.audFound=!0,O&&g(O,R),O=k.avcSample=S(!1,L.pts,L.dts,"");break;case 12:D=!1;break;default:D=!1,O&&(O.debug+="unknown NAL "+F.type+" ")}O&&D&&O.units.push(F)}),x&&O&&(g(O,R),this.avcSample=null)},w.getLastNalUnit=function(){var L,x,D=this.avcSample;if(!D||D.units.length===0){var k=this._avcTrack.samples;D=k[k.length-1]}if((L=D)!==null&&L!==void 0&&L.units){var R=D.units;x=R[R.length-1]}return x},w.parseAVCNALu=function(L){var x,D,k=L.byteLength,R=this._avcTrack,I=R.naluState||0,O=I,P=[],F=0,U=-1,B=0;for(I===-1&&(U=0,B=31&L[0],I=0,F=1);F<k;)if(x=L[F++],I)if(I!==1)if(x)if(x===1){if(U>=0){var H={data:L.subarray(U,F-I-1),type:B};P.push(H)}else{var V=this.getLastNalUnit();if(V&&(O&&F<=4-O&&V.state&&(V.data=V.data.subarray(0,V.data.byteLength-O)),(D=F-I-1)>0)){var q=new Uint8Array(V.data.byteLength+D);q.set(V.data,0),q.set(L.subarray(0,D),V.data.byteLength),V.data=q}}F<k?(U=F,B=31&L[F],I=0):I=-1}else I=0;else I=3;else I=x?0:2;else I=x?0:1;if(U>=0&&I>=0){var et={data:L.subarray(U,k),type:B,state:I};P.push(et)}if(P.length===0){var rt=this.getLastNalUnit();if(rt){var ot=new Uint8Array(rt.data.byteLength+L.byteLength);ot.set(rt.data,0),ot.set(L,rt.data.byteLength),rt.data=ot}}return R.naluState=I,P},w.parseAACPES=function(L){var x,D,k,R,I,O=0,P=this._audioTrack,F=this.aacOverFlow,U=L.data;if(F){this.aacOverFlow=null;var B=F.sample.unit.byteLength,H=Math.min(F.missing,B),V=B-H;F.sample.unit.set(U.subarray(0,H),V),P.samples.push(F.sample),O=F.missing}for(x=O,D=U.length;x<D-1&&!i.isHeader(U,x);x++);if(x===O||(x<D-1?(k="AAC PES did not start with ADTS header,offset:"+x,R=!1):(k="no ADTS header found in AAC PES",R=!0),y.logger.warn("parsing error:"+k),this.observer.emit(p.Events.ERROR,p.Events.ERROR,{type:v.ErrorTypes.MEDIA_ERROR,details:v.ErrorDetails.FRAG_PARSING_ERROR,fatal:R,reason:k}),!R)){if(i.initTrackConfig(P,this.observer,U,x,this.audioCodec),L.pts!==void 0)I=L.pts;else{if(!F)return void y.logger.warn("[tsdemuxer]: AAC PES unknown PTS");var q=i.getFrameDuration(P.samplerate);I=F.sample.pts+q}for(var et=0;x<D;){if(i.isHeader(U,x)){if(x+5<D){var rt=i.appendFrame(P,U,x,I,et);if(rt){if(!rt.missing){x+=rt.length,et++;continue}this.aacOverFlow=rt}}break}x++}}},w.parseMPEGPES=function(L){var x=L.data,D=x.length,k=0,R=0,I=L.pts;if(I!==void 0)for(;R<D;)if(s.isHeader(x,R)){var O=s.appendFrame(this._audioTrack,x,R,I,k);if(!O)break;R+=O.length,k++}else R++;else y.logger.warn("[tsdemuxer]: MPEG PES unknown PTS")},w.parseID3PES=function(L){L.pts!==void 0?this._id3Track.samples.push(L):y.logger.warn("[tsdemuxer]: ID3 PES unknown PTS")},A}();function S(A,w,L,x){return{key:A,frame:!1,pts:w,dts:L,units:[],debug:x,length:0}}function d(A,w){return(31&A[w+10])<<8|A[w+11]}function h(A,w,L,x){var D={audio:-1,avc:-1,id3:-1,isAAC:!0},k=w+3+((15&A[w+1])<<8|A[w+2])-4;for(w+=12+((15&A[w+10])<<8|A[w+11]);w<k;){var R=(31&A[w+1])<<8|A[w+2];switch(A[w]){case 207:if(!x){y.logger.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:D.audio===-1&&(D.audio=R);break;case 21:D.id3===-1&&(D.id3=R);break;case 219:if(!x){y.logger.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:D.avc===-1&&(D.avc=R);break;case 3:case 4:L?D.audio===-1&&(D.audio=R,D.isAAC=!1):y.logger.log("MPEG audio found, not supported in this browser");break;case 36:y.logger.warn("Unsupported HEVC stream type found")}w+=5+((15&A[w+3])<<8|A[w+4])}return D}function c(A){var w,L,x,D,k,R=0,I=A.data;if(!A||A.size===0)return null;for(;I[0].length<19&&I.length>1;){var O=new Uint8Array(I[0].length+I[1].length);O.set(I[0]),O.set(I[1],I[0].length),I[0]=O,I.splice(1,1)}if(((w=I[0])[0]<<16)+(w[1]<<8)+w[2]===1){if((L=(w[4]<<8)+w[5])&&L>A.size-6)return null;var P=w[7];192&P&&(D=536870912*(14&w[9])+4194304*(255&w[10])+16384*(254&w[11])+128*(255&w[12])+(254&w[13])/2,64&P?D-(k=536870912*(14&w[14])+4194304*(255&w[15])+16384*(254&w[16])+128*(255&w[17])+(254&w[18])/2)>54e5&&(y.logger.warn(Math.round((D-k)/9e4)+"s delta between PTS and DTS, align them"),D=k):k=D);var F=(x=w[8])+9;if(A.size<=F)return null;A.size-=F;for(var U=new Uint8Array(A.size),B=0,H=I.length;B<H;B++){var V=(w=I[B]).byteLength;if(F){if(F>V){F-=V;continue}w=w.subarray(F),V-=F,F=0}U.set(w,R),R+=V}return L&&(L-=x+3),{data:U,pts:D,dts:k,len:L}}return null}function g(A,w){if(A.units.length&&A.frame){if(A.pts===void 0){var L=w.samples,x=L.length;if(!x)return void w.dropped++;var D=L[x-1];A.pts=D.pts,A.dts=D.dts}w.samples.push(A)}A.debug.length&&y.logger.log(A.pts+"/"+A.dts+":"+A.debug)}function T(A,w){var L=A.length;if(L>0){if(w.pts>=A[L-1].pts)A.push(w);else for(var x=L-1;x>=0;x--)if(w.pts<A[x].pts){A.splice(x,0,w);break}}else A.push(w)}function E(A){for(var w=A.byteLength,L=[],x=1;x<w-2;)A[x]===0&&A[x+1]===0&&A[x+2]===3?(L.push(x+2),x+=2):x++;if(L.length===0)return A;var D=w-L.length,k=new Uint8Array(D),R=0;for(x=0;x<D;R++,x++)R===L[0]&&(R++,L.shift()),k[x]=A[R];return k}b.minProbeByteLength=188,e.default=b},"./src/errors.ts":function(t,e,n){var i,s,o,u;n.r(e),n.d(e,"ErrorTypes",function(){return i}),n.d(e,"ErrorDetails",function(){return o}),(s=i||(i={})).NETWORK_ERROR="networkError",s.MEDIA_ERROR="mediaError",s.KEY_SYSTEM_ERROR="keySystemError",s.MUX_ERROR="muxError",s.OTHER_ERROR="otherError",(u=o||(o={})).KEY_SYSTEM_NO_KEYS="keySystemNoKeys",u.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",u.KEY_SYSTEM_NO_SESSION="keySystemNoSession",u.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",u.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",u.MANIFEST_LOAD_ERROR="manifestLoadError",u.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",u.MANIFEST_PARSING_ERROR="manifestParsingError",u.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",u.LEVEL_EMPTY_ERROR="levelEmptyError",u.LEVEL_LOAD_ERROR="levelLoadError",u.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",u.LEVEL_SWITCH_ERROR="levelSwitchError",u.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",u.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",u.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",u.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",u.FRAG_LOAD_ERROR="fragLoadError",u.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",u.FRAG_DECRYPT_ERROR="fragDecryptError",u.FRAG_PARSING_ERROR="fragParsingError",u.REMUX_ALLOC_ERROR="remuxAllocError",u.KEY_LOAD_ERROR="keyLoadError",u.KEY_LOAD_TIMEOUT="keyLoadTimeOut",u.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",u.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",u.BUFFER_APPEND_ERROR="bufferAppendError",u.BUFFER_APPENDING_ERROR="bufferAppendingError",u.BUFFER_STALLED_ERROR="bufferStalledError",u.BUFFER_FULL_ERROR="bufferFullError",u.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",u.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",u.INTERNAL_EXCEPTION="internalException",u.INTERNAL_ABORTED="aborted",u.UNKNOWN="unknown"},"./src/events.ts":function(t,e,n){var i,s;n.r(e),n.d(e,"Events",function(){return i}),(s=i||(i={})).MEDIA_ATTACHING="hlsMediaAttaching",s.MEDIA_ATTACHED="hlsMediaAttached",s.MEDIA_DETACHING="hlsMediaDetaching",s.MEDIA_DETACHED="hlsMediaDetached",s.BUFFER_RESET="hlsBufferReset",s.BUFFER_CODECS="hlsBufferCodecs",s.BUFFER_CREATED="hlsBufferCreated",s.BUFFER_APPENDING="hlsBufferAppending",s.BUFFER_APPENDED="hlsBufferAppended",s.BUFFER_EOS="hlsBufferEos",s.BUFFER_FLUSHING="hlsBufferFlushing",s.BUFFER_FLUSHED="hlsBufferFlushed",s.MANIFEST_LOADING="hlsManifestLoading",s.MANIFEST_LOADED="hlsManifestLoaded",s.MANIFEST_PARSED="hlsManifestParsed",s.LEVEL_SWITCHING="hlsLevelSwitching",s.LEVEL_SWITCHED="hlsLevelSwitched",s.LEVEL_LOADING="hlsLevelLoading",s.LEVEL_LOADED="hlsLevelLoaded",s.LEVEL_UPDATED="hlsLevelUpdated",s.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",s.LEVELS_UPDATED="hlsLevelsUpdated",s.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",s.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",s.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",s.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",s.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",s.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",s.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",s.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",s.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",s.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",s.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",s.CUES_PARSED="hlsCuesParsed",s.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",s.INIT_PTS_FOUND="hlsInitPtsFound",s.FRAG_LOADING="hlsFragLoading",s.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",s.FRAG_LOADED="hlsFragLoaded",s.FRAG_DECRYPTED="hlsFragDecrypted",s.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",s.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",s.FRAG_PARSING_METADATA="hlsFragParsingMetadata",s.FRAG_PARSED="hlsFragParsed",s.FRAG_BUFFERED="hlsFragBuffered",s.FRAG_CHANGED="hlsFragChanged",s.FPS_DROP="hlsFpsDrop",s.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",s.ERROR="hlsError",s.DESTROYING="hlsDestroying",s.KEY_LOADING="hlsKeyLoading",s.KEY_LOADED="hlsKeyLoaded",s.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",s.BACK_BUFFER_REACHED="hlsBackBufferReached"},"./src/hls.ts":function(t,e,n){n.r(e),n.d(e,"default",function(){return g});var i=n("./node_modules/url-toolkit/src/url-toolkit.js"),s=n("./src/loader/playlist-loader.ts"),o=n("./src/loader/key-loader.ts"),u=n("./src/controller/id3-track-controller.ts"),m=n("./src/controller/latency-controller.ts"),p=n("./src/controller/level-controller.ts"),l=n("./src/controller/fragment-tracker.ts"),y=n("./src/controller/stream-controller.ts"),v=n("./src/is-supported.ts"),f=n("./src/utils/logger.ts"),b=n("./src/config.ts"),S=n("./node_modules/eventemitter3/index.js"),d=n("./src/events.ts"),h=n("./src/errors.ts");function c(T,E){for(var A=0;A<E.length;A++){var w=E[A];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(T,w.key,w)}}var g=function(){function T(x){x===void 0&&(x={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new S.EventEmitter,this._autoLevelCapping=void 0,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this._media=null,this.url=null;var D=this.config=Object(b.mergeConfig)(T.DefaultConfig,x);this.userConfig=x,Object(f.enableLogs)(D.debug),this._autoLevelCapping=-1,D.progressive&&Object(b.enableStreamingMode)(D);var k=D.abrController,R=D.bufferController,I=D.capLevelController,O=D.fpsController,P=this.abrController=new k(this),F=this.bufferController=new R(this),U=this.capLevelController=new I(this),B=new O(this),H=new s.default(this),V=new o.default(this),q=new u.default(this),et=this.levelController=new p.default(this),rt=new l.FragmentTracker(this),ot=this.streamController=new y.default(this,rt);U.setStreamController(ot),B.setStreamController(ot);var J=[et,ot];this.networkControllers=J;var W=[H,V,P,F,U,B,q,rt];this.audioTrackController=this.createController(D.audioTrackController,null,J),this.createController(D.audioStreamController,rt,J),this.subtitleTrackController=this.createController(D.subtitleTrackController,null,J),this.createController(D.subtitleStreamController,rt,J),this.createController(D.timelineController,null,W),this.emeController=this.createController(D.emeController,null,W),this.latencyController=this.createController(m.default,null,W),this.coreComponents=W}T.isSupported=function(){return Object(v.isSupported)()};var E,A,w,L=T.prototype;return L.createController=function(x,D,k){if(x){var R=D?new x(this,D):new x(this);return k&&k.push(R),R}return null},L.on=function(x,D,k){k===void 0&&(k=this),this._emitter.on(x,D,k)},L.once=function(x,D,k){k===void 0&&(k=this),this._emitter.once(x,D,k)},L.removeAllListeners=function(x){this._emitter.removeAllListeners(x)},L.off=function(x,D,k,R){k===void 0&&(k=this),this._emitter.off(x,D,k,R)},L.listeners=function(x){return this._emitter.listeners(x)},L.emit=function(x,D,k){return this._emitter.emit(x,D,k)},L.trigger=function(x,D){if(this.config.debug)return this.emit(x,x,D);try{return this.emit(x,x,D)}catch(k){f.logger.error("An internal error happened while handling event "+x+'. Error message: "'+k.message+'". Here is a stacktrace:',k),this.trigger(d.Events.ERROR,{type:h.ErrorTypes.OTHER_ERROR,details:h.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:x,error:k})}return!1},L.listenerCount=function(x){return this._emitter.listenerCount(x)},L.destroy=function(){f.logger.log("destroy"),this.trigger(d.Events.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(function(x){return x.destroy()}),this.networkControllers.length=0,this.coreComponents.forEach(function(x){return x.destroy()}),this.coreComponents.length=0},L.attachMedia=function(x){f.logger.log("attachMedia"),this._media=x,this.trigger(d.Events.MEDIA_ATTACHING,{media:x})},L.detachMedia=function(){f.logger.log("detachMedia"),this.trigger(d.Events.MEDIA_DETACHING,void 0),this._media=null},L.loadSource=function(x){this.stopLoad();var D=this.media,k=this.url,R=this.url=i.buildAbsoluteURL(self.location.href,x,{alwaysNormalize:!0});f.logger.log("loadSource:"+R),D&&k&&k!==R&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(D)),this.trigger(d.Events.MANIFEST_LOADING,{url:x})},L.startLoad=function(x){x===void 0&&(x=-1),f.logger.log("startLoad("+x+")"),this.networkControllers.forEach(function(D){D.startLoad(x)})},L.stopLoad=function(){f.logger.log("stopLoad"),this.networkControllers.forEach(function(x){x.stopLoad()})},L.swapAudioCodec=function(){f.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},L.recoverMediaError=function(){f.logger.log("recoverMediaError");var x=this._media;this.detachMedia(),x&&this.attachMedia(x)},L.removeLevel=function(x,D){D===void 0&&(D=0),this.levelController.removeLevel(x,D)},E=T,w=[{key:"version",get:function(){return"1.0.10"}},{key:"Events",get:function(){return d.Events}},{key:"ErrorTypes",get:function(){return h.ErrorTypes}},{key:"ErrorDetails",get:function(){return h.ErrorDetails}},{key:"DefaultConfig",get:function(){return T.defaultConfig?T.defaultConfig:b.hlsDefaultConfig},set:function(x){T.defaultConfig=x}}],(A=[{key:"levels",get:function(){var x=this.levelController.levels;return x||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(x){f.logger.log("set currentLevel:"+x),this.loadLevel=x,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(x){f.logger.log("set nextLevel:"+x),this.levelController.manualLevel=x,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(x){f.logger.log("set loadLevel:"+x),this.levelController.manualLevel=x}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(x){this.levelController.nextLoadLevel=x}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(x){f.logger.log("set firstLevel:"+x),this.levelController.firstLevel=x}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(x){f.logger.log("set startLevel:"+x),x!==-1&&(x=Math.max(x,this.minAutoLevel)),this.levelController.startLevel=x}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(x){var D=!!x;D!==this.config.capLevelToPlayerSize&&(D?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=D)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(x){this._autoLevelCapping!==x&&(f.logger.log("set autoLevelCapping:"+x),this._autoLevelCapping=x)}},{key:"bandwidthEstimate",get:function(){var x=this.abrController.bwEstimator;return x?x.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return this.levelController.manualLevel===-1}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var x=this.levels,D=this.config.minAutoBitrate;if(!x)return 0;for(var k=x.length,R=0;R<k;R++)if(x[R].maxBitrate>D)return R;return 0}},{key:"maxAutoLevel",get:function(){var x=this.levels,D=this.autoLevelCapping;return D===-1&&x&&x.length?x.length-1:D}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(x){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,x)}},{key:"audioTracks",get:function(){var x=this.audioTrackController;return x?x.audioTracks:[]}},{key:"audioTrack",get:function(){var x=this.audioTrackController;return x?x.audioTrack:-1},set:function(x){var D=this.audioTrackController;D&&(D.audioTrack=x)}},{key:"subtitleTracks",get:function(){var x=this.subtitleTrackController;return x?x.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var x=this.subtitleTrackController;return x?x.subtitleTrack:-1},set:function(x){var D=this.subtitleTrackController;D&&(D.subtitleTrack=x)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var x=this.subtitleTrackController;return!!x&&x.subtitleDisplay},set:function(x){var D=this.subtitleTrackController;D&&(D.subtitleDisplay=x)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(x){this.config.lowLatencyMode=x}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}])&&c(E.prototype,A),w&&c(E,w),T}();g.defaultConfig=void 0},"./src/is-supported.ts":function(t,e,n){n.r(e),n.d(e,"isSupported",function(){return o}),n.d(e,"changeTypeSupported",function(){return u});var i=n("./src/utils/mediasource-helper.ts");function s(){return self.SourceBuffer||self.WebKitSourceBuffer}function o(){var m=Object(i.getMediaSource)();if(!m)return!1;var p=s(),l=m&&typeof m.isTypeSupported=="function"&&m.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),y=!p||p.prototype&&typeof p.prototype.appendBuffer=="function"&&typeof p.prototype.remove=="function";return!!l&&!!y}function u(){var m,p=s();return typeof(p==null||(m=p.prototype)===null||m===void 0?void 0:m.changeType)=="function"}},"./src/loader/fragment-loader.ts":function(t,e,n){n.r(e),n.d(e,"default",function(){return v}),n.d(e,"LoadError",function(){return b});var i=n("./src/polyfills/number.ts"),s=n("./src/errors.ts");function o(S){var d=typeof Map=="function"?new Map:void 0;return(o=function(h){if(h===null||(c=h,Function.toString.call(c).indexOf("[native code]")===-1))return h;var c;if(typeof h!="function")throw new TypeError("Super expression must either be null or a function");if(d!==void 0){if(d.has(h))return d.get(h);d.set(h,g)}function g(){return u(h,arguments,l(this).constructor)}return g.prototype=Object.create(h.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p(g,h)})(S)}function u(S,d,h){return(u=m()?Reflect.construct:function(c,g,T){var E=[null];E.push.apply(E,g);var A=new(Function.bind.apply(c,E));return T&&p(A,T.prototype),A}).apply(null,arguments)}function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function p(S,d){return(p=Object.setPrototypeOf||function(h,c){return h.__proto__=c,h})(S,d)}function l(S){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(S)}var y=Math.pow(2,17),v=function(){function S(h){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=h}var d=S.prototype;return d.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},d.abort=function(){this.loader&&this.loader.abort()},d.load=function(h,c){var g=this,T=h.url;if(!T)return Promise.reject(new b({type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:h,networkDetails:null},"Fragment does not have a "+(T?"part list":"url")));this.abort();var E=this.config,A=E.fLoader,w=E.loader;return new Promise(function(L,x){g.loader&&g.loader.destroy();var D=g.loader=h.loader=A?new A(E):new w(E),k=f(h),R={timeout:E.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:E.fragLoadingMaxRetryTimeout,highWaterMark:y};h.stats=D.stats,D.load(k,R,{onSuccess:function(I,O,P,F){g.resetLoader(h,D),L({frag:h,part:null,payload:I.data,networkDetails:F})},onError:function(I,O,P){g.resetLoader(h,D),x(new b({type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:h,response:I,networkDetails:P}))},onAbort:function(I,O,P){g.resetLoader(h,D),x(new b({type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:h,networkDetails:P}))},onTimeout:function(I,O,P){g.resetLoader(h,D),x(new b({type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:h,networkDetails:P}))},onProgress:function(I,O,P,F){c&&c({frag:h,part:null,payload:P,networkDetails:F})}})})},d.loadPart=function(h,c,g){var T=this;this.abort();var E=this.config,A=E.fLoader,w=E.loader;return new Promise(function(L,x){T.loader&&T.loader.destroy();var D=T.loader=h.loader=A?new A(E):new w(E),k=f(h,c),R={timeout:E.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:E.fragLoadingMaxRetryTimeout,highWaterMark:y};c.stats=D.stats,D.load(k,R,{onSuccess:function(I,O,P,F){T.resetLoader(h,D),T.updateStatsFromPart(h,c);var U={frag:h,part:c,payload:I.data,networkDetails:F};g(U),L(U)},onError:function(I,O,P){T.resetLoader(h,D),x(new b({type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:h,part:c,response:I,networkDetails:P}))},onAbort:function(I,O,P){h.stats.aborted=c.stats.aborted,T.resetLoader(h,D),x(new b({type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:h,part:c,networkDetails:P}))},onTimeout:function(I,O,P){T.resetLoader(h,D),x(new b({type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:h,part:c,networkDetails:P}))}})})},d.updateStatsFromPart=function(h,c){var g=h.stats,T=c.stats,E=T.total;if(g.loaded+=T.loaded,E){var A=Math.round(h.duration/c.duration),w=Math.min(Math.round(g.loaded/E),A),L=(A-w)*Math.round(g.loaded/w);g.total=g.loaded+L}else g.total=Math.max(g.loaded,g.total);var x=g.loading,D=T.loading;x.start?x.first+=D.first-D.start:(x.start=D.start,x.first=D.first),x.end=D.end},d.resetLoader=function(h,c){h.loader=null,this.loader===c&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),c.destroy()},S}();function f(S,d){d===void 0&&(d=null);var h=d||S,c={frag:S,part:d,responseType:"arraybuffer",url:h.url,rangeStart:0,rangeEnd:0},g=h.byteRangeStartOffset,T=h.byteRangeEndOffset;return Object(i.isFiniteNumber)(g)&&Object(i.isFiniteNumber)(T)&&(c.rangeStart=g,c.rangeEnd=T),c}var b=function(S){var d,h;function c(g){for(var T,E=arguments.length,A=new Array(E>1?E-1:0),w=1;w<E;w++)A[w-1]=arguments[w];return(T=S.call.apply(S,[this].concat(A))||this).data=void 0,T.data=g,T}return h=S,(d=c).prototype=Object.create(h.prototype),d.prototype.constructor=d,p(d,h),c}(o(Error))},"./src/loader/fragment.ts":function(t,e,n){n.r(e),n.d(e,"ElementaryStreamTypes",function(){return i}),n.d(e,"BaseSegment",function(){return S}),n.d(e,"Fragment",function(){return d}),n.d(e,"Part",function(){return h});var i,s,o=n("./src/polyfills/number.ts"),u=n("./node_modules/url-toolkit/src/url-toolkit.js"),m=n("./src/utils/logger.ts"),p=n("./src/loader/level-key.ts"),l=n("./src/loader/load-stats.ts");function y(c,g){c.prototype=Object.create(g.prototype),c.prototype.constructor=c,v(c,g)}function v(c,g){return(v=Object.setPrototypeOf||function(T,E){return T.__proto__=E,T})(c,g)}function f(c,g){for(var T=0;T<g.length;T++){var E=g[T];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(c,E.key,E)}}function b(c,g,T){return g&&f(c.prototype,g),T&&f(c,T),c}(s=i||(i={})).AUDIO="audio",s.VIDEO="video",s.AUDIOVIDEO="audiovideo";var S=function(){function c(g){var T;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=((T={})[i.AUDIO]=null,T[i.VIDEO]=null,T[i.AUDIOVIDEO]=null,T),this.baseurl=g}return c.prototype.setByteRange=function(g,T){var E=g.split("@",2),A=[];E.length===1?A[0]=T?T.byteRangeEndOffset:0:A[0]=parseInt(E[1]),A[1]=parseInt(E[0])+A[0],this._byteRange=A},b(c,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Object(u.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(g){this._url=g}}]),c}(),d=function(c){function g(E,A){var w;return(w=c.call(this,A)||this)._decryptdata=null,w.rawProgramDateTime=null,w.programDateTime=null,w.tagList=[],w.duration=0,w.sn=0,w.levelkey=void 0,w.type=void 0,w.loader=null,w.level=-1,w.cc=0,w.startPTS=void 0,w.endPTS=void 0,w.appendedPTS=void 0,w.startDTS=void 0,w.endDTS=void 0,w.start=0,w.deltaPTS=void 0,w.maxStartPTS=void 0,w.minEndPTS=void 0,w.stats=new l.LoadStats,w.urlId=0,w.data=void 0,w.bitrateTest=!1,w.title=null,w.initSegment=null,w.type=E,w}y(g,c);var T=g.prototype;return T.createInitializationVector=function(E){for(var A=new Uint8Array(16),w=12;w<16;w++)A[w]=E>>8*(15-w)&255;return A},T.setDecryptDataFromLevelKey=function(E,A){var w=E;return(E==null?void 0:E.method)==="AES-128"&&E.uri&&!E.iv&&((w=p.LevelKey.fromURI(E.uri)).method=E.method,w.iv=this.createInitializationVector(A),w.keyFormat="identity"),w},T.setElementaryStreamInfo=function(E,A,w,L,x,D){D===void 0&&(D=!1);var k=this.elementaryStreams,R=k[E];R?(R.startPTS=Math.min(R.startPTS,A),R.endPTS=Math.max(R.endPTS,w),R.startDTS=Math.min(R.startDTS,L),R.endDTS=Math.max(R.endDTS,x)):k[E]={startPTS:A,endPTS:w,startDTS:L,endDTS:x,partial:D}},T.clearElementaryStreamInfo=function(){var E=this.elementaryStreams;E[i.AUDIO]=null,E[i.VIDEO]=null,E[i.AUDIOVIDEO]=null},b(g,[{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var E=this.sn;typeof E!="number"&&(this.levelkey&&this.levelkey.method==="AES-128"&&!this.levelkey.iv&&m.logger.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),E=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,E)}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(this.programDateTime===null||!Object(o.isFiniteNumber)(this.programDateTime))return null;var E=Object(o.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1e3*E}},{key:"encrypted",get:function(){var E;return!((E=this.decryptdata)===null||E===void 0||!E.keyFormat||!this.decryptdata.uri)}}]),g}(S),h=function(c){function g(T,E,A,w,L){var x;(x=c.call(this,A)||this).fragOffset=0,x.duration=0,x.gap=!1,x.independent=!1,x.relurl=void 0,x.fragment=void 0,x.index=void 0,x.stats=new l.LoadStats,x.duration=T.decimalFloatingPoint("DURATION"),x.gap=T.bool("GAP"),x.independent=T.bool("INDEPENDENT"),x.relurl=T.enumeratedString("URI"),x.fragment=E,x.index=w;var D=T.enumeratedString("BYTERANGE");return D&&x.setByteRange(D,L),L&&(x.fragOffset=L.fragOffset+L.duration),x}return y(g,c),b(g,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var T=this.elementaryStreams;return!!(T.audio||T.video||T.audiovideo)}}]),g}(S)},"./src/loader/key-loader.ts":function(t,e,n){n.r(e),n.d(e,"default",function(){return u});var i=n("./src/events.ts"),s=n("./src/errors.ts"),o=n("./src/utils/logger.ts"),u=function(){function m(l){this.hls=void 0,this.loaders={},this.decryptkey=null,this.decrypturl=null,this.hls=l,this._registerListeners()}var p=m.prototype;return p._registerListeners=function(){this.hls.on(i.Events.KEY_LOADING,this.onKeyLoading,this)},p._unregisterListeners=function(){this.hls.off(i.Events.KEY_LOADING,this.onKeyLoading)},p.destroy=function(){for(var l in this._unregisterListeners(),this.loaders){var y=this.loaders[l];y&&y.destroy()}this.loaders={}},p.onKeyLoading=function(l,y){var v=y.frag,f=v.type,b=this.loaders[f];if(v.decryptdata){var S=v.decryptdata.uri;if(S!==this.decrypturl||this.decryptkey===null){var d=this.hls.config;if(b&&(o.logger.warn("abort previous key loader for type:"+f),b.abort()),!S)return void o.logger.warn("key uri is falsy");var h=d.loader,c=v.loader=this.loaders[f]=new h(d);this.decrypturl=S,this.decryptkey=null;var g={url:S,frag:v,responseType:"arraybuffer"},T={timeout:d.fragLoadingTimeOut,maxRetry:0,retryDelay:d.fragLoadingRetryDelay,maxRetryDelay:d.fragLoadingMaxRetryTimeout,highWaterMark:0},E={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};c.load(g,T,E)}else this.decryptkey&&(v.decryptdata.key=this.decryptkey,this.hls.trigger(i.Events.KEY_LOADED,{frag:v}))}else o.logger.warn("Missing decryption data on fragment in onKeyLoading")},p.loadsuccess=function(l,y,v){var f=v.frag;f.decryptdata?(this.decryptkey=f.decryptdata.key=new Uint8Array(l.data),f.loader=null,delete this.loaders[f.type],this.hls.trigger(i.Events.KEY_LOADED,{frag:f})):o.logger.error("after key load, decryptdata unset")},p.loaderror=function(l,y){var v=y.frag,f=v.loader;f&&f.abort(),delete this.loaders[v.type],this.hls.trigger(i.Events.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:v,response:l})},p.loadtimeout=function(l,y){var v=y.frag,f=v.loader;f&&f.abort(),delete this.loaders[v.type],this.hls.trigger(i.Events.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:v})},m}()},"./src/loader/level-details.ts":function(t,e,n){n.r(e),n.d(e,"LevelDetails",function(){return o});var i=n("./src/polyfills/number.ts");function s(u,m){for(var p=0;p<m.length;p++){var l=m[p];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(u,l.key,l)}}var o=function(){function u(l){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.fragments=[],this.url=l}var m,p;return u.prototype.reloaded=function(l){if(!l)return this.advanced=!0,void(this.updated=!0);var y=this.lastPartSn-l.lastPartSn,v=this.lastPartIndex-l.lastPartIndex;this.updated=this.endSN!==l.endSN||!!v||!!y,this.advanced=this.endSN>l.endSN||y>0||y===0&&v>0,this.updated||this.advanced?this.misses=Math.floor(.6*l.misses):this.misses=l.misses+1,this.availabilityDelay=l.availabilityDelay},m=u,(p=[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&Object(i.isFiniteNumber)(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var l=this.driftEndTime-this.driftStartTime;return l>0?1e3*(this.driftEnd-this.driftStart)/l:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var l;return(l=this.partList)!==null&&l!==void 0&&l.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var l;return(l=this.fragments)!==null&&l!==void 0&&l.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var l;return(l=this.partList)!==null&&l!==void 0&&l.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var l;return(l=this.partList)!==null&&l!==void 0&&l.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}])&&s(m.prototype,p),u}()},"./src/loader/level-key.ts":function(t,e,n){n.r(e),n.d(e,"LevelKey",function(){return o});var i=n("./node_modules/url-toolkit/src/url-toolkit.js");function s(u,m){for(var p=0;p<m.length;p++){var l=m[p];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(u,l.key,l)}}var o=function(){function u(l,y){this._uri=null,this.method=null,this.keyFormat=null,this.keyFormatVersions=null,this.keyID=null,this.key=null,this.iv=null,this._uri=y?Object(i.buildAbsoluteURL)(l,y,{alwaysNormalize:!0}):l}var m,p;return u.fromURL=function(l,y){return new u(l,y)},u.fromURI=function(l){return new u(l)},m=u,(p=[{key:"uri",get:function(){return this._uri}}])&&s(m.prototype,p),u}()},"./src/loader/load-stats.ts":function(t,e,n){n.r(e),n.d(e,"LoadStats",function(){return i});var i=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},"./src/loader/m3u8-parser.ts":function(t,e,n){n.r(e),n.d(e,"default",function(){return h});var i=n("./src/polyfills/number.ts"),s=n("./node_modules/url-toolkit/src/url-toolkit.js"),o=n("./src/loader/fragment.ts"),u=n("./src/loader/level-details.ts"),m=n("./src/loader/level-key.ts"),p=n("./src/utils/attr-list.ts"),l=n("./src/utils/logger.ts"),y=n("./src/utils/codecs.ts"),v=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+/g,f=/#EXT-X-MEDIA:(.*)/g,b=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),S=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(PLAYLIST-TYPE):(.+)/.source,/#EXT-X-(MEDIA-SEQUENCE): *(\d+)/.source,/#EXT-X-(SKIP):(.+)/.source,/#EXT-X-(TARGETDURATION): *(\d+)/.source,/#EXT-X-(KEY):(.+)/.source,/#EXT-X-(START):(.+)/.source,/#EXT-X-(ENDLIST)/.source,/#EXT-X-(DISCONTINUITY-SEQ)UENCE: *(\d+)/.source,/#EXT-X-(DIS)CONTINUITY/.source,/#EXT-X-(VERSION):(\d+)/.source,/#EXT-X-(MAP):(.+)/.source,/#EXT-X-(SERVER-CONTROL):(.+)/.source,/#EXT-X-(PART-INF):(.+)/.source,/#EXT-X-(GAP)/.source,/#EXT-X-(BITRATE):\s*(\d+)/.source,/#EXT-X-(PART):(.+)/.source,/#EXT-X-(PRELOAD-HINT):(.+)/.source,/#EXT-X-(RENDITION-REPORT):(.+)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),d=/\.(mp4|m4s|m4v|m4a)$/i,h=function(){function E(){}return E.findGroup=function(A,w){for(var L=0;L<A.length;L++){var x=A[L];if(x.id===w)return x}},E.convertAVC1ToAVCOTI=function(A){var w=A.split(".");if(w.length>2){var L=w.shift()+".";return L+=parseInt(w.shift()).toString(16),L+=("000"+parseInt(w.shift()).toString(16)).substr(-4)}return A},E.resolve=function(A,w){return s.buildAbsoluteURL(w,A,{alwaysNormalize:!0})},E.parseMasterPlaylist=function(A,w){var L,x=[],D={},k=!1;for(v.lastIndex=0;(L=v.exec(A))!=null;)if(L[1]){var R=new p.AttrList(L[1]),I={attrs:R,bitrate:R.decimalInteger("AVERAGE-BANDWIDTH")||R.decimalInteger("BANDWIDTH"),name:R.NAME,url:E.resolve(L[2],w)},O=R.decimalResolution("RESOLUTION");O&&(I.width=O.width,I.height=O.height),c((R.CODECS||"").split(/[ ,]+/).filter(function(F){return F}),I),I.videoCodec&&I.videoCodec.indexOf("avc1")!==-1&&(I.videoCodec=E.convertAVC1ToAVCOTI(I.videoCodec)),x.push(I)}else if(L[3]){var P=new p.AttrList(L[3]);P["DATA-ID"]&&(k=!0,D[P["DATA-ID"]]=P)}return{levels:x,sessionData:k?D:null}},E.parseMasterPlaylistMedia=function(A,w,L,x){var D;x===void 0&&(x=[]);var k=[],R=0;for(f.lastIndex=0;(D=f.exec(A))!==null;){var I=new p.AttrList(D[1]);if(I.TYPE===L){var O={attrs:I,bitrate:0,id:R++,groupId:I["GROUP-ID"],instreamId:I["INSTREAM-ID"],name:I.NAME||I.LANGUAGE||"",type:L,default:I.bool("DEFAULT"),autoselect:I.bool("AUTOSELECT"),forced:I.bool("FORCED"),lang:I.LANGUAGE,url:I.URI?E.resolve(I.URI,w):""};if(x.length){var P=E.findGroup(x,O.groupId)||x[0];g(O,P,"audioCodec"),g(O,P,"textCodec")}k.push(O)}}return k},E.parseLevelPlaylist=function(A,w,L,x,D){var k,R,I,O=new u.LevelDetails(w),P=O.fragments,F=null,U=0,B=0,H=0,V=0,q=null,et=new o.Fragment(x,w),rt=-1,ot=!1;for(b.lastIndex=0,O.m3u8=A;(k=b.exec(A))!==null;){ot&&(ot=!1,(et=new o.Fragment(x,w)).start=H,et.sn=U,et.cc=V,et.level=L,F&&(et.initSegment=F,et.rawProgramDateTime=F.rawProgramDateTime));var J=k[1];if(J){et.duration=parseFloat(J);var W=(" "+k[2]).slice(1);et.title=W||null,et.tagList.push(W?["INF",J,W]:["INF",J])}else if(k[3])Object(i.isFiniteNumber)(et.duration)&&(et.start=H,I&&(et.levelkey=I),et.sn=U,et.level=L,et.cc=V,et.urlId=D,P.push(et),et.relurl=(" "+k[3]).slice(1),T(et,q),q=et,H+=et.duration,U++,B=0,ot=!0);else if(k[4]){var st=(" "+k[4]).slice(1);q?et.setByteRange(st,q):et.setByteRange(st)}else if(k[5])et.rawProgramDateTime=(" "+k[5]).slice(1),et.tagList.push(["PROGRAM-DATE-TIME",et.rawProgramDateTime]),rt===-1&&(rt=P.length);else{if(!(k=k[0].match(S))){l.logger.warn("No matches on slow regex match for level playlist!");continue}for(R=1;R<k.length&&k[R]===void 0;R++);var it=(" "+k[R]).slice(1),j=(" "+k[R+1]).slice(1),gt=k[R+2]?(" "+k[R+2]).slice(1):"";switch(it){case"PLAYLIST-TYPE":O.type=j.toUpperCase();break;case"MEDIA-SEQUENCE":U=O.startSN=parseInt(j);break;case"SKIP":var bt=new p.AttrList(j),It=bt.decimalInteger("SKIPPED-SEGMENTS");if(Object(i.isFiniteNumber)(It)){O.skippedSegments=It;for(var z=It;z--;)P.unshift(null);U+=It}var tt=bt.enumeratedString("RECENTLY-REMOVED-DATERANGES");tt&&(O.recentlyRemovedDateranges=tt.split("	"));break;case"TARGETDURATION":O.targetduration=parseFloat(j);break;case"VERSION":O.version=parseInt(j);break;case"EXTM3U":break;case"ENDLIST":O.live=!1;break;case"#":(j||gt)&&et.tagList.push(gt?[j,gt]:[j]);break;case"DIS":V++;case"GAP":et.tagList.push([it]);break;case"BITRATE":et.tagList.push([it,j]);break;case"DISCONTINUITY-SEQ":V=parseInt(j);break;case"KEY":var ut,ft=new p.AttrList(j),mt=ft.enumeratedString("METHOD"),_t=ft.URI,wt=ft.hexadecimalInteger("IV"),St=ft.enumeratedString("KEYFORMATVERSIONS"),Rt=ft.enumeratedString("KEYID"),Et=(ut=ft.enumeratedString("KEYFORMAT"))!=null?ut:"identity";if(["com.apple.streamingkeydelivery","com.microsoft.playready","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine"].indexOf(Et)>-1){l.logger.warn("Keyformat "+Et+" is not supported from the manifest");continue}if(Et!=="identity")continue;mt&&(I=m.LevelKey.fromURL(w,_t),_t&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(mt)>=0&&(I.method=mt,I.keyFormat=Et,Rt&&(I.keyID=Rt),St&&(I.keyFormatVersions=St),I.iv=wt));break;case"START":var Pt=new p.AttrList(j).decimalFloatingPoint("TIME-OFFSET");Object(i.isFiniteNumber)(Pt)&&(O.startTimeOffset=Pt);break;case"MAP":var Dt=new p.AttrList(j);et.relurl=Dt.URI,Dt.BYTERANGE&&et.setByteRange(Dt.BYTERANGE),et.level=L,et.sn="initSegment",I&&(et.levelkey=I),et.initSegment=null,F=et,ot=!0;break;case"SERVER-CONTROL":var Ft=new p.AttrList(j);O.canBlockReload=Ft.bool("CAN-BLOCK-RELOAD"),O.canSkipUntil=Ft.optionalFloat("CAN-SKIP-UNTIL",0),O.canSkipDateRanges=O.canSkipUntil>0&&Ft.bool("CAN-SKIP-DATERANGES"),O.partHoldBack=Ft.optionalFloat("PART-HOLD-BACK",0),O.holdBack=Ft.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var $t=new p.AttrList(j);O.partTarget=$t.decimalFloatingPoint("PART-TARGET");break;case"PART":var Ht=O.partList;Ht||(Ht=O.partList=[]);var Yt=B>0?Ht[Ht.length-1]:void 0,dt=B++,Ot=new o.Part(new p.AttrList(j),et,w,dt,Yt);Ht.push(Ot),et.duration+=Ot.duration;break;case"PRELOAD-HINT":var ue=new p.AttrList(j);O.preloadHint=ue;break;case"RENDITION-REPORT":var De=new p.AttrList(j);O.renditionReports=O.renditionReports||[],O.renditionReports.push(De);break;default:l.logger.warn("line parsed but not handled: "+k)}}}q&&!q.relurl?(P.pop(),H-=q.duration,O.partList&&(O.fragmentHint=q)):O.partList&&(T(et,q),et.cc=V,O.fragmentHint=et);var Be=P.length,Oe=P[0],Mt=P[Be-1];if((H+=O.skippedSegments*O.targetduration)>0&&Be&&Mt){O.averagetargetduration=H/Be;var ee=Mt.sn;O.endSN=ee!=="initSegment"?ee:0,Oe&&(O.startCC=Oe.cc,Oe.initSegment||O.fragments.every(function(qt){return qt.relurl&&(Ne=qt.relurl,d.test((yn=(Ke=s.parseURL(Ne))===null||Ke===void 0?void 0:Ke.path)!=null?yn:""));var Ne,yn,Ke})&&(l.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(et=new o.Fragment(x,w)).relurl=Mt.relurl,et.level=L,et.sn="initSegment",Oe.initSegment=et,O.needSidxRanges=!0))}else O.endSN=0,O.startCC=0;return O.fragmentHint&&(H+=O.fragmentHint.duration),O.totalduration=H,O.endCC=V,rt>0&&function(qt,Ne){for(var yn=qt[Ne],Ke=Ne;Ke--;){var Ue=qt[Ke];if(!Ue)return;Ue.programDateTime=yn.programDateTime-1e3*Ue.duration,yn=Ue}}(P,rt),O},E}();function c(E,A){["video","audio","text"].forEach(function(w){var L=E.filter(function(D){return Object(y.isCodecType)(D,w)});if(L.length){var x=L.filter(function(D){return D.lastIndexOf("avc1",0)===0||D.lastIndexOf("mp4a",0)===0});A[w+"Codec"]=x.length>0?x[0]:L[0],E=E.filter(function(D){return L.indexOf(D)===-1})}}),A.unknownCodecs=E}function g(E,A,w){var L=A[w];L&&(E[w]=L)}function T(E,A){E.rawProgramDateTime?E.programDateTime=Date.parse(E.rawProgramDateTime):A!=null&&A.programDateTime&&(E.programDateTime=A.endProgramDateTime),Object(i.isFiniteNumber)(E.programDateTime)||(E.programDateTime=null,E.rawProgramDateTime=null)}},"./src/loader/playlist-loader.ts":function(t,e,n){n.r(e);var i=n("./src/polyfills/number.ts"),s=n("./src/events.ts"),o=n("./src/errors.ts"),u=n("./src/utils/logger.ts"),m=n("./src/utils/mp4-tools.ts"),p=n("./src/loader/m3u8-parser.ts"),l=n("./src/types/loader.ts"),y=n("./src/utils/attr-list.ts");function v(b,S){var d=b.url;return d!==void 0&&d.indexOf("data:")!==0||(d=S.url),d}var f=function(){function b(d){this.hls=void 0,this.loaders=Object.create(null),this.hls=d,this.registerListeners()}var S=b.prototype;return S.registerListeners=function(){var d=this.hls;d.on(s.Events.MANIFEST_LOADING,this.onManifestLoading,this),d.on(s.Events.LEVEL_LOADING,this.onLevelLoading,this),d.on(s.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),d.on(s.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},S.unregisterListeners=function(){var d=this.hls;d.off(s.Events.MANIFEST_LOADING,this.onManifestLoading,this),d.off(s.Events.LEVEL_LOADING,this.onLevelLoading,this),d.off(s.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),d.off(s.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},S.createInternalLoader=function(d){var h=this.hls.config,c=h.pLoader,g=h.loader,T=new(c||g)(h);return d.loader=T,this.loaders[d.type]=T,T},S.getInternalLoader=function(d){return this.loaders[d.type]},S.resetInternalLoader=function(d){this.loaders[d]&&delete this.loaders[d]},S.destroyInternalLoaders=function(){for(var d in this.loaders){var h=this.loaders[d];h&&h.destroy(),this.resetInternalLoader(d)}},S.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},S.onManifestLoading=function(d,h){var c=h.url;this.load({id:null,groupId:null,level:0,responseType:"text",type:l.PlaylistContextType.MANIFEST,url:c,deliveryDirectives:null})},S.onLevelLoading=function(d,h){var c=h.id,g=h.level,T=h.url,E=h.deliveryDirectives;this.load({id:c,groupId:null,level:g,responseType:"text",type:l.PlaylistContextType.LEVEL,url:T,deliveryDirectives:E})},S.onAudioTrackLoading=function(d,h){var c=h.id,g=h.groupId,T=h.url,E=h.deliveryDirectives;this.load({id:c,groupId:g,level:null,responseType:"text",type:l.PlaylistContextType.AUDIO_TRACK,url:T,deliveryDirectives:E})},S.onSubtitleTrackLoading=function(d,h){var c=h.id,g=h.groupId,T=h.url,E=h.deliveryDirectives;this.load({id:c,groupId:g,level:null,responseType:"text",type:l.PlaylistContextType.SUBTITLE_TRACK,url:T,deliveryDirectives:E})},S.load=function(d){var h,c,g,T,E,A,w=this.hls.config,L=this.getInternalLoader(d);if(L){var x=L.context;if(x&&x.url===d.url)return void u.logger.trace("[playlist-loader]: playlist request ongoing");u.logger.log("[playlist-loader]: aborting previous loader for type: "+d.type),L.abort()}switch(d.type){case l.PlaylistContextType.MANIFEST:c=w.manifestLoadingMaxRetry,g=w.manifestLoadingTimeOut,T=w.manifestLoadingRetryDelay,E=w.manifestLoadingMaxRetryTimeout;break;case l.PlaylistContextType.LEVEL:case l.PlaylistContextType.AUDIO_TRACK:case l.PlaylistContextType.SUBTITLE_TRACK:c=0,g=w.levelLoadingTimeOut;break;default:c=w.levelLoadingMaxRetry,g=w.levelLoadingTimeOut,T=w.levelLoadingRetryDelay,E=w.levelLoadingMaxRetryTimeout}if(L=this.createInternalLoader(d),(h=d.deliveryDirectives)!==null&&h!==void 0&&h.part&&(d.type===l.PlaylistContextType.LEVEL&&d.level!==null?A=this.hls.levels[d.level].details:d.type===l.PlaylistContextType.AUDIO_TRACK&&d.id!==null?A=this.hls.audioTracks[d.id].details:d.type===l.PlaylistContextType.SUBTITLE_TRACK&&d.id!==null&&(A=this.hls.subtitleTracks[d.id].details),A)){var D=A.partTarget,k=A.targetduration;D&&k&&(g=Math.min(1e3*Math.max(3*D,.8*k),g))}var R={timeout:g,maxRetry:c,retryDelay:T,maxRetryDelay:E,highWaterMark:0},I={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};L.load(d,R,I)},S.loadsuccess=function(d,h,c,g){if(g===void 0&&(g=null),c.isSidxRequest)return this.handleSidxRequest(d,c),void this.handlePlaylistLoaded(d,h,c,g);this.resetInternalLoader(c.type);var T=d.data;T.indexOf("#EXTM3U")===0?(h.parsing.start=performance.now(),T.indexOf("#EXTINF:")>0||T.indexOf("#EXT-X-TARGETDURATION:")>0?this.handleTrackOrLevelPlaylist(d,h,c,g):this.handleMasterPlaylist(d,h,c,g)):this.handleManifestParsingError(d,c,"no EXTM3U delimiter",g)},S.loaderror=function(d,h,c){c===void 0&&(c=null),this.handleNetworkError(h,c,!1,d)},S.loadtimeout=function(d,h,c){c===void 0&&(c=null),this.handleNetworkError(h,c,!0)},S.handleMasterPlaylist=function(d,h,c,g){var T=this.hls,E=d.data,A=v(d,c),w=p.default.parseMasterPlaylist(E,A),L=w.levels,x=w.sessionData;if(L.length){var D=L.map(function(P){return{id:P.attrs.AUDIO,audioCodec:P.audioCodec}}),k=L.map(function(P){return{id:P.attrs.SUBTITLES,textCodec:P.textCodec}}),R=p.default.parseMasterPlaylistMedia(E,A,"AUDIO",D),I=p.default.parseMasterPlaylistMedia(E,A,"SUBTITLES",k),O=p.default.parseMasterPlaylistMedia(E,A,"CLOSED-CAPTIONS");R.length&&(R.some(function(P){return!P.url})||!L[0].audioCodec||L[0].attrs.AUDIO||(u.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),R.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new y.AttrList({}),bitrate:0,url:""}))),T.trigger(s.Events.MANIFEST_LOADED,{levels:L,audioTracks:R,subtitles:I,captions:O,url:A,stats:h,networkDetails:g,sessionData:x})}else this.handleManifestParsingError(d,c,"no level found in manifest",g)},S.handleTrackOrLevelPlaylist=function(d,h,c,g){var T=this.hls,E=c.id,A=c.level,w=c.type,L=v(d,c),x=Object(i.isFiniteNumber)(E)?E:0,D=Object(i.isFiniteNumber)(A)?A:x,k=function(F){switch(F.type){case l.PlaylistContextType.AUDIO_TRACK:return l.PlaylistLevelType.AUDIO;case l.PlaylistContextType.SUBTITLE_TRACK:return l.PlaylistLevelType.SUBTITLE;default:return l.PlaylistLevelType.MAIN}}(c),R=p.default.parseLevelPlaylist(d.data,L,D,k,x);if(R.fragments.length){if(w===l.PlaylistContextType.MANIFEST){var I={attrs:new y.AttrList({}),bitrate:0,details:R,name:"",url:L};T.trigger(s.Events.MANIFEST_LOADED,{levels:[I],audioTracks:[],url:L,stats:h,networkDetails:g,sessionData:null})}if(h.parsing.end=performance.now(),R.needSidxRanges){var O,P=(O=R.fragments[0].initSegment)===null||O===void 0?void 0:O.url;this.load({url:P,isSidxRequest:!0,type:w,level:A,levelDetails:R,id:E,groupId:null,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer",deliveryDirectives:null})}else c.levelDetails=R,this.handlePlaylistLoaded(d,h,c,g)}else T.trigger(s.Events.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:L,reason:"no fragments found in level",level:typeof c.level=="number"?c.level:void 0})},S.handleSidxRequest=function(d,h){var c=Object(m.parseSegmentIndex)(new Uint8Array(d.data));if(c){var g=c.references,T=h.levelDetails;g.forEach(function(E,A){var w=E.info,L=T.fragments[A];L.byteRange.length===0&&L.setByteRange(String(1+w.end-w.start)+"@"+String(w.start)),L.initSegment&&L.initSegment.setByteRange(String(c.moovEndOffset)+"@0")})}},S.handleManifestParsingError=function(d,h,c,g){this.hls.trigger(s.Events.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:h.type===l.PlaylistContextType.MANIFEST,url:d.url,reason:c,response:d,context:h,networkDetails:g})},S.handleNetworkError=function(d,h,c,g){c===void 0&&(c=!1),u.logger.warn("[playlist-loader]: A network "+(c?"timeout":"error")+" occurred while loading "+d.type+" level: "+d.level+" id: "+d.id+' group-id: "'+d.groupId+'"');var T=o.ErrorDetails.UNKNOWN,E=!1,A=this.getInternalLoader(d);switch(d.type){case l.PlaylistContextType.MANIFEST:T=c?o.ErrorDetails.MANIFEST_LOAD_TIMEOUT:o.ErrorDetails.MANIFEST_LOAD_ERROR,E=!0;break;case l.PlaylistContextType.LEVEL:T=c?o.ErrorDetails.LEVEL_LOAD_TIMEOUT:o.ErrorDetails.LEVEL_LOAD_ERROR,E=!1;break;case l.PlaylistContextType.AUDIO_TRACK:T=c?o.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:o.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,E=!1;break;case l.PlaylistContextType.SUBTITLE_TRACK:T=c?o.ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:o.ErrorDetails.SUBTITLE_LOAD_ERROR,E=!1}A&&this.resetInternalLoader(d.type);var w={type:o.ErrorTypes.NETWORK_ERROR,details:T,fatal:E,url:d.url,loader:A,context:d,networkDetails:h};g&&(w.response=g),this.hls.trigger(s.Events.ERROR,w)},S.handlePlaylistLoaded=function(d,h,c,g){var T=c.type,E=c.level,A=c.id,w=c.groupId,L=c.loader,x=c.levelDetails,D=c.deliveryDirectives;if(x!=null&&x.targetduration){if(L)switch(x.live&&(L.getCacheAge&&(x.ageHeader=L.getCacheAge()||0),L.getCacheAge&&!isNaN(x.ageHeader)||(x.ageHeader=0)),T){case l.PlaylistContextType.MANIFEST:case l.PlaylistContextType.LEVEL:this.hls.trigger(s.Events.LEVEL_LOADED,{details:x,level:E||0,id:A||0,stats:h,networkDetails:g,deliveryDirectives:D});break;case l.PlaylistContextType.AUDIO_TRACK:this.hls.trigger(s.Events.AUDIO_TRACK_LOADED,{details:x,id:A||0,groupId:w||"",stats:h,networkDetails:g,deliveryDirectives:D});break;case l.PlaylistContextType.SUBTITLE_TRACK:this.hls.trigger(s.Events.SUBTITLE_TRACK_LOADED,{details:x,id:A||0,groupId:w||"",stats:h,networkDetails:g,deliveryDirectives:D})}}else this.handleManifestParsingError(d,c,"invalid target duration",g)},b}();e.default=f},"./src/polyfills/number.ts":function(t,e,n){n.r(e),n.d(e,"isFiniteNumber",function(){return i}),n.d(e,"MAX_SAFE_INTEGER",function(){return s});var i=Number.isFinite||function(o){return typeof o=="number"&&isFinite(o)},s=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/remux/aac-helper.ts":function(t,e,n){n.r(e);var i=function(){function s(){}return s.getSilentFrame=function(o,u){switch(o){case"mp4a.40.2":if(u===1)return new Uint8Array([0,200,0,128,35,128]);if(u===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(u===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(u===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(u===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(u===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(u===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(u===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(u===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},s}();e.default=i},"./src/remux/mp4-generator.ts":function(t,e,n){n.r(e);var i=Math.pow(2,32)-1,s=function(){function o(){}return o.init=function(){var u;for(u in o.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},o.types)o.types.hasOwnProperty(u)&&(o.types[u]=[u.charCodeAt(0),u.charCodeAt(1),u.charCodeAt(2),u.charCodeAt(3)]);var m=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),p=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);o.HDLR_TYPES={video:m,audio:p};var l=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),y=new Uint8Array([0,0,0,0,0,0,0,0]);o.STTS=o.STSC=o.STCO=y,o.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),o.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),o.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),o.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var v=new Uint8Array([105,115,111,109]),f=new Uint8Array([97,118,99,49]),b=new Uint8Array([0,0,0,1]);o.FTYP=o.box(o.types.ftyp,v,b,v,f),o.DINF=o.box(o.types.dinf,o.box(o.types.dref,l))},o.box=function(u){for(var m=8,p=arguments.length,l=new Array(p>1?p-1:0),y=1;y<p;y++)l[y-1]=arguments[y];for(var v=l.length,f=v;v--;)m+=l[v].byteLength;var b=new Uint8Array(m);for(b[0]=m>>24&255,b[1]=m>>16&255,b[2]=m>>8&255,b[3]=255&m,b.set(u,4),v=0,m=8;v<f;v++)b.set(l[v],m),m+=l[v].byteLength;return b},o.hdlr=function(u){return o.box(o.types.hdlr,o.HDLR_TYPES[u])},o.mdat=function(u){return o.box(o.types.mdat,u)},o.mdhd=function(u,m){m*=u;var p=Math.floor(m/(i+1)),l=Math.floor(m%(i+1));return o.box(o.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,u>>24&255,u>>16&255,u>>8&255,255&u,p>>24,p>>16&255,p>>8&255,255&p,l>>24,l>>16&255,l>>8&255,255&l,85,196,0,0]))},o.mdia=function(u){return o.box(o.types.mdia,o.mdhd(u.timescale,u.duration),o.hdlr(u.type),o.minf(u))},o.mfhd=function(u){return o.box(o.types.mfhd,new Uint8Array([0,0,0,0,u>>24,u>>16&255,u>>8&255,255&u]))},o.minf=function(u){return u.type==="audio"?o.box(o.types.minf,o.box(o.types.smhd,o.SMHD),o.DINF,o.stbl(u)):o.box(o.types.minf,o.box(o.types.vmhd,o.VMHD),o.DINF,o.stbl(u))},o.moof=function(u,m,p){return o.box(o.types.moof,o.mfhd(u),o.traf(p,m))},o.moov=function(u){for(var m=u.length,p=[];m--;)p[m]=o.trak(u[m]);return o.box.apply(null,[o.types.moov,o.mvhd(u[0].timescale,u[0].duration)].concat(p).concat(o.mvex(u)))},o.mvex=function(u){for(var m=u.length,p=[];m--;)p[m]=o.trex(u[m]);return o.box.apply(null,[o.types.mvex].concat(p))},o.mvhd=function(u,m){m*=u;var p=Math.floor(m/(i+1)),l=Math.floor(m%(i+1)),y=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,u>>24&255,u>>16&255,u>>8&255,255&u,p>>24,p>>16&255,p>>8&255,255&p,l>>24,l>>16&255,l>>8&255,255&l,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return o.box(o.types.mvhd,y)},o.sdtp=function(u){var m,p,l=u.samples||[],y=new Uint8Array(4+l.length);for(m=0;m<l.length;m++)p=l[m].flags,y[m+4]=p.dependsOn<<4|p.isDependedOn<<2|p.hasRedundancy;return o.box(o.types.sdtp,y)},o.stbl=function(u){return o.box(o.types.stbl,o.stsd(u),o.box(o.types.stts,o.STTS),o.box(o.types.stsc,o.STSC),o.box(o.types.stsz,o.STSZ),o.box(o.types.stco,o.STCO))},o.avc1=function(u){var m,p,l,y=[],v=[];for(m=0;m<u.sps.length;m++)l=(p=u.sps[m]).byteLength,y.push(l>>>8&255),y.push(255&l),y=y.concat(Array.prototype.slice.call(p));for(m=0;m<u.pps.length;m++)l=(p=u.pps[m]).byteLength,v.push(l>>>8&255),v.push(255&l),v=v.concat(Array.prototype.slice.call(p));var f=o.box(o.types.avcC,new Uint8Array([1,y[3],y[4],y[5],255,224|u.sps.length].concat(y).concat([u.pps.length]).concat(v))),b=u.width,S=u.height,d=u.pixelRatio[0],h=u.pixelRatio[1];return o.box(o.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,b>>8&255,255&b,S>>8&255,255&S,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),f,o.box(o.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),o.box(o.types.pasp,new Uint8Array([d>>24,d>>16&255,d>>8&255,255&d,h>>24,h>>16&255,h>>8&255,255&h])))},o.esds=function(u){var m=u.config.length;return new Uint8Array([0,0,0,0,3,23+m,0,1,0,4,15+m,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([m]).concat(u.config).concat([6,1,2]))},o.mp4a=function(u){var m=u.samplerate;return o.box(o.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,u.channelCount,0,16,0,0,0,0,m>>8&255,255&m,0,0]),o.box(o.types.esds,o.esds(u)))},o.mp3=function(u){var m=u.samplerate;return o.box(o.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,u.channelCount,0,16,0,0,0,0,m>>8&255,255&m,0,0]))},o.stsd=function(u){return u.type==="audio"?u.isAAC||u.codec!=="mp3"?o.box(o.types.stsd,o.STSD,o.mp4a(u)):o.box(o.types.stsd,o.STSD,o.mp3(u)):o.box(o.types.stsd,o.STSD,o.avc1(u))},o.tkhd=function(u){var m=u.id,p=u.duration*u.timescale,l=u.width,y=u.height,v=Math.floor(p/(i+1)),f=Math.floor(p%(i+1));return o.box(o.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,m>>24&255,m>>16&255,m>>8&255,255&m,0,0,0,0,v>>24,v>>16&255,v>>8&255,255&v,f>>24,f>>16&255,f>>8&255,255&f,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,l>>8&255,255&l,0,0,y>>8&255,255&y,0,0]))},o.traf=function(u,m){var p=o.sdtp(u),l=u.id,y=Math.floor(m/(i+1)),v=Math.floor(m%(i+1));return o.box(o.types.traf,o.box(o.types.tfhd,new Uint8Array([0,0,0,0,l>>24,l>>16&255,l>>8&255,255&l])),o.box(o.types.tfdt,new Uint8Array([1,0,0,0,y>>24,y>>16&255,y>>8&255,255&y,v>>24,v>>16&255,v>>8&255,255&v])),o.trun(u,p.length+16+20+8+16+8+8),p)},o.trak=function(u){return u.duration=u.duration||4294967295,o.box(o.types.trak,o.tkhd(u),o.mdia(u))},o.trex=function(u){var m=u.id;return o.box(o.types.trex,new Uint8Array([0,0,0,0,m>>24,m>>16&255,m>>8&255,255&m,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},o.trun=function(u,m){var p,l,y,v,f,b,S=u.samples||[],d=S.length,h=12+16*d,c=new Uint8Array(h);for(m+=8+h,c.set([0,0,15,1,d>>>24&255,d>>>16&255,d>>>8&255,255&d,m>>>24&255,m>>>16&255,m>>>8&255,255&m],0),p=0;p<d;p++)y=(l=S[p]).duration,v=l.size,f=l.flags,b=l.cts,c.set([y>>>24&255,y>>>16&255,y>>>8&255,255&y,v>>>24&255,v>>>16&255,v>>>8&255,255&v,f.isLeading<<2|f.dependsOn,f.isDependedOn<<6|f.hasRedundancy<<4|f.paddingValue<<1|f.isNonSync,61440&f.degradPrio,15&f.degradPrio,b>>>24&255,b>>>16&255,b>>>8&255,255&b],12+16*p);return o.box(o.types.trun,c)},o.initSegment=function(u){o.types||o.init();var m=o.moov(u),p=new Uint8Array(o.FTYP.byteLength+m.byteLength);return p.set(o.FTYP),p.set(m,o.FTYP.byteLength),p},o}();s.types=void 0,s.HDLR_TYPES=void 0,s.STTS=void 0,s.STSC=void 0,s.STCO=void 0,s.STSZ=void 0,s.VMHD=void 0,s.SMHD=void 0,s.STSD=void 0,s.FTYP=void 0,s.DINF=void 0,e.default=s},"./src/remux/mp4-remuxer.ts":function(t,e,n){n.r(e),n.d(e,"default",function(){return d}),n.d(e,"normalizePts",function(){return h});var i=n("./src/polyfills/number.ts"),s=n("./src/remux/aac-helper.ts"),o=n("./src/remux/mp4-generator.ts"),u=n("./src/events.ts"),m=n("./src/errors.ts"),p=n("./src/utils/logger.ts"),l=n("./src/types/loader.ts"),y=n("./src/utils/timescale-conversion.ts");function v(){return(v=Object.assign||function(T){for(var E=1;E<arguments.length;E++){var A=arguments[E];for(var w in A)Object.prototype.hasOwnProperty.call(A,w)&&(T[w]=A[w])}return T}).apply(this,arguments)}var f=null,b=null,S=!1,d=function(){function T(A,w,L,x){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=void 0,this._initDTS=void 0,this.nextAvcDts=null,this.nextAudioPts=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=A,this.config=w,this.typeSupported=L,this.ISGenerated=!1,f===null){var D=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);f=D?parseInt(D[1]):0}if(b===null){var k=navigator.userAgent.match(/Safari\/(\d+)/i);b=k?parseInt(k[1]):0}S=!!f&&f<75||!!b&&b<600}var E=T.prototype;return E.destroy=function(){},E.resetTimeStamp=function(A){p.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=A},E.resetNextTimestamp=function(){p.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},E.resetInitSegment=function(){p.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},E.getVideoStartPts=function(A){var w=!1,L=A.reduce(function(x,D){var k=D.pts-x;return k<-4294967296?(w=!0,h(x,D.pts)):k>0?x:D.pts},A[0].pts);return w&&p.logger.debug("PTS rollover detected"),L},E.remux=function(A,w,L,x,D,k,R,I){var O,P,F,U,B,H,V=D,q=D,et=A.pid>-1,rt=w.pid>-1,ot=w.samples.length,J=A.samples.length>0,W=ot>1;if((!et||J)&&(!rt||W)||this.ISGenerated||R){this.ISGenerated||(F=this.generateIS(A,w,D));var st=this.isVideoContiguous,it=-1;if(W&&(it=function(z){for(var tt=0;tt<z.length;tt++)if(z[tt].key)return tt;return-1}(w.samples),!st&&this.config.forceKeyFrameOnDiscontinuity))if(H=!0,it>0){p.logger.warn("[mp4-remuxer]: Dropped "+it+" out of "+ot+" video samples due to a missing keyframe");var j=this.getVideoStartPts(w.samples);w.samples=w.samples.slice(it),w.dropped+=it,q+=(w.samples[0].pts-j)/(w.timescale||9e4)}else it===-1&&(p.logger.warn("[mp4-remuxer]: No keyframe found out of "+ot+" video samples"),H=!1);if(this.ISGenerated){if(J&&W){var gt=this.getVideoStartPts(w.samples),bt=(h(A.samples[0].pts,gt)-gt)/w.inputTimeScale;V+=Math.max(0,bt),q+=Math.max(0,-bt)}if(J){if(A.samplerate||(p.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),F=this.generateIS(A,w,D)),P=this.remuxAudio(A,V,this.isAudioContiguous,k,rt||W||I===l.PlaylistLevelType.AUDIO?q:void 0),W){var It=P?P.endPTS-P.startPTS:0;w.inputTimeScale||(p.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),F=this.generateIS(A,w,D)),O=this.remuxVideo(w,q,st,It)}}else W&&(O=this.remuxVideo(w,q,st,0));O&&(O.firstKeyFrame=it,O.independent=it!==-1)}}return this.ISGenerated&&(L.samples.length&&(B=this.remuxID3(L,D)),x.samples.length&&(U=this.remuxText(x,D))),{audio:P,video:O,initSegment:F,independent:H,text:U,id3:B}},E.generateIS=function(A,w,L){var x,D,k,R=A.samples,I=w.samples,O=this.typeSupported,P={},F=!Object(i.isFiniteNumber)(this._initPTS),U="audio/mp4";if(F&&(x=D=1/0),A.config&&R.length&&(A.timescale=A.samplerate,A.isAAC||(O.mpeg?(U="audio/mpeg",A.codec=""):O.mp3&&(A.codec="mp3")),P.audio={id:"audio",container:U,codec:A.codec,initSegment:!A.isAAC&&O.mpeg?new Uint8Array(0):o.default.initSegment([A]),metadata:{channelCount:A.channelCount}},F&&(k=A.inputTimeScale,x=D=R[0].pts-Math.round(k*L))),w.sps&&w.pps&&I.length&&(w.timescale=w.inputTimeScale,P.video={id:"main",container:"video/mp4",codec:w.codec,initSegment:o.default.initSegment([w]),metadata:{width:w.width,height:w.height}},F)){k=w.inputTimeScale;var B=this.getVideoStartPts(I),H=Math.round(k*L);D=Math.min(D,h(I[0].dts,B)-H),x=Math.min(x,B-H)}if(Object.keys(P).length)return this.ISGenerated=!0,F&&(this._initPTS=x,this._initDTS=D),{tracks:P,initPTS:x,timescale:k}},E.remuxVideo=function(A,w,L,x){var D,k,R,I=A.inputTimeScale,O=A.samples,P=[],F=O.length,U=this._initPTS,B=this.nextAvcDts,H=8,V=Number.POSITIVE_INFINITY,q=Number.NEGATIVE_INFINITY,et=0,rt=!1;L&&B!==null||(B=w*I-(O[0].pts-h(O[0].dts,O[0].pts)));for(var ot=0;ot<F;ot++){var J=O[ot];J.pts=h(J.pts-U,B),J.dts=h(J.dts-U,B),J.dts>J.pts&&(et=Math.max(Math.min(et,J.pts-J.dts),-18e3)),J.dts<O[ot>0?ot-1:ot].dts&&(rt=!0)}rt&&O.sort(function(Ke,Ue){var Pn=Ke.dts-Ue.dts,Ei=Ke.pts-Ue.pts;return Pn||Ei}),k=O[0].dts,R=O[O.length-1].dts;var W=Math.round((R-k)/(F-1));if(et<0){if(et<-2*W){p.logger.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+Object(y.toMsFromMpegTsClock)(-W,!0)+" ms");for(var st=et,it=0;it<F;it++)O[it].dts=st=Math.max(st,O[it].pts-W),O[it].pts=Math.max(st,O[it].pts)}else{p.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Object(y.toMsFromMpegTsClock)(et,!0)+" ms to overcome this issue");for(var j=0;j<F;j++)O[j].dts=O[j].dts+et}k=O[0].dts}if(L){var gt=k-B,bt=gt>W;if(bt||gt<-1){bt?p.logger.warn("AVC: "+Object(y.toMsFromMpegTsClock)(gt,!0)+" ms ("+gt+"dts) hole between fragments detected, filling it"):p.logger.warn("AVC: "+Object(y.toMsFromMpegTsClock)(-gt,!0)+" ms ("+gt+"dts) overlapping between fragments detected"),k=B;var It=O[0].pts-gt;O[0].dts=k,O[0].pts=It,p.logger.log("Video: First PTS/DTS adjusted: "+Object(y.toMsFromMpegTsClock)(It,!0)+"/"+Object(y.toMsFromMpegTsClock)(k,!0)+", delta: "+Object(y.toMsFromMpegTsClock)(gt,!0)+" ms")}}S&&(k=Math.max(0,k));for(var z=0,tt=0,ut=0;ut<F;ut++){for(var ft=O[ut],mt=ft.units,_t=mt.length,wt=0,St=0;St<_t;St++)wt+=mt[St].data.length;tt+=wt,z+=_t,ft.length=wt,ft.dts=Math.max(ft.dts,k),ft.pts=Math.max(ft.pts,ft.dts,0),V=Math.min(ft.pts,V),q=Math.max(ft.pts,q)}R=O[F-1].dts;var Rt,Et=tt+4*z+8;try{Rt=new Uint8Array(Et)}catch{return void this.observer.emit(u.Events.ERROR,u.Events.ERROR,{type:m.ErrorTypes.MUX_ERROR,details:m.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:Et,reason:"fail allocating video mdat "+Et})}var Pt=new DataView(Rt.buffer);Pt.setUint32(0,Et),Rt.set(o.default.types.mdat,4);for(var Dt=0;Dt<F;Dt++){for(var Ft=O[Dt],$t=Ft.units,Ht=0,Yt=0,dt=$t.length;Yt<dt;Yt++){var Ot=$t[Yt],ue=Ot.data,De=Ot.data.byteLength;Pt.setUint32(H,De),H+=4,Rt.set(ue,H),H+=De,Ht+=4+De}if(Dt<F-1)D=O[Dt+1].dts-Ft.dts;else{var Be=this.config,Oe=Ft.dts-O[Dt>0?Dt-1:Dt].dts;if(Be.stretchShortVideoTrack&&this.nextAudioPts!==null){var Mt=Math.floor(Be.maxBufferHole*I),ee=(x?V+x*I:this.nextAudioPts)-Ft.pts;ee>Mt?((D=ee-Oe)<0&&(D=Oe),p.logger.log("[mp4-remuxer]: It is approximately "+ee/90+" ms to the next segment; using duration "+D/90+" ms for the last video frame.")):D=Oe}else D=Oe}var qt=Math.round(Ft.pts-Ft.dts);P.push(new c(Ft.key,D,Ht,qt))}if(P.length&&f&&f<70){var Ne=P[0].flags;Ne.dependsOn=2,Ne.isNonSync=0}console.assert(D!==void 0,"mp4SampleDuration must be computed"),this.nextAvcDts=B=R+D,this.isVideoContiguous=!0;var yn={data1:o.default.moof(A.sequenceNumber++,k,v({},A,{samples:P})),data2:Rt,startPTS:V/I,endPTS:(q+D)/I,startDTS:k/I,endDTS:B/I,type:"video",hasAudio:!1,hasVideo:!0,nb:P.length,dropped:A.dropped};return A.samples=[],A.dropped=0,console.assert(Rt.length,"MDAT length must not be zero"),yn},E.remuxAudio=function(A,w,L,x,D){var k=A.inputTimeScale,R=k/(A.samplerate?A.samplerate:k),I=A.isAAC?1024:1152,O=I*R,P=this._initPTS,F=!A.isAAC&&this.typeSupported.mpeg,U=[],B=A.samples,H=F?0:8,V=this.nextAudioPts||-1,q=w*k;if(this.isAudioContiguous=L=L||B.length&&V>0&&(x&&Math.abs(q-V)<9e3||Math.abs(h(B[0].pts-P,q)-V)<20*O),B.forEach(function(ue){ue.pts=h(ue.pts-P,q)}),!L||V<0){if(!(B=B.filter(function(ue){return ue.pts>=0})).length)return;V=D===0?0:x?Math.max(0,q):B[0].pts}if(A.isAAC)for(var et=D!==void 0,rt=this.config.maxAudioFramesDrift,ot=0,J=V;ot<B.length;ot++){var W=B[ot],st=W.pts,it=st-J,j=Math.abs(1e3*it/k);if(it<=-rt*O&&et)ot===0&&(p.logger.warn("Audio frame @ "+(st/k).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*it/k)+" ms."),this.nextAudioPts=V=J=st);else if(it>=rt*O&&j<1e4&&et){var gt=Math.round(it/O);(J=st-gt*O)<0&&(gt--,J+=O),ot===0&&(this.nextAudioPts=V=J),p.logger.warn("[mp4-remuxer]: Injecting "+gt+" audio frame @ "+(J/k).toFixed(3)+"s due to "+Math.round(1e3*it/k)+" ms gap.");for(var bt=0;bt<gt;bt++){var It=Math.max(J,0),z=s.default.getSilentFrame(A.manifestCodec||A.codec,A.channelCount);z||(p.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),z=W.unit.subarray()),B.splice(ot,0,{unit:z,pts:It}),J+=O,ot++}}W.pts=J,J+=O}for(var tt,ut=null,ft=null,mt=0,_t=B.length;_t--;)mt+=B[_t].unit.byteLength;for(var wt=0,St=B.length;wt<St;wt++){var Rt=B[wt],Et=Rt.unit,Pt=Rt.pts;if(ft!==null)U[wt-1].duration=Math.round((Pt-ft)/R);else{if(L&&A.isAAC&&(Pt=V),ut=Pt,!(mt>0))return;mt+=H;try{tt=new Uint8Array(mt)}catch{return void this.observer.emit(u.Events.ERROR,u.Events.ERROR,{type:m.ErrorTypes.MUX_ERROR,details:m.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:mt,reason:"fail allocating audio mdat "+mt})}F||(new DataView(tt.buffer).setUint32(0,mt),tt.set(o.default.types.mdat,4))}tt.set(Et,H);var Dt=Et.byteLength;H+=Dt,U.push(new c(!0,I,Dt,0)),ft=Pt}var Ft=U.length;if(Ft){var $t=U[U.length-1];this.nextAudioPts=V=ft+R*$t.duration;var Ht=F?new Uint8Array(0):o.default.moof(A.sequenceNumber++,ut/R,v({},A,{samples:U}));A.samples=[];var Yt=ut/k,dt=V/k,Ot={data1:Ht,data2:tt,startPTS:Yt,endPTS:dt,startDTS:Yt,endDTS:dt,type:"audio",hasAudio:!0,hasVideo:!1,nb:Ft};return this.isAudioContiguous=!0,console.assert(tt.length,"MDAT length must not be zero"),Ot}},E.remuxEmptyAudio=function(A,w,L,x){var D=A.inputTimeScale,k=D/(A.samplerate?A.samplerate:D),R=this.nextAudioPts,I=(R!==null?R:x.startDTS*D)+this._initDTS,O=x.endDTS*D+this._initDTS,P=1024*k,F=Math.ceil((O-I)/P),U=s.default.getSilentFrame(A.manifestCodec||A.codec,A.channelCount);if(p.logger.warn("[mp4-remuxer]: remux empty Audio"),U){for(var B=[],H=0;H<F;H++){var V=I+H*P;B.push({unit:U,pts:V,dts:V})}return A.samples=B,this.remuxAudio(A,w,L,!1)}p.logger.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},E.remuxID3=function(A,w){var L=A.samples.length;if(L){for(var x=A.inputTimeScale,D=this._initPTS,k=this._initDTS,R=0;R<L;R++){var I=A.samples[R];I.pts=h(I.pts-D,w*x)/x,I.dts=h(I.dts-k,w*x)/x}var O=A.samples;return A.samples=[],{samples:O}}},E.remuxText=function(A,w){var L=A.samples.length;if(L){for(var x=A.inputTimeScale,D=this._initPTS,k=0;k<L;k++){var R=A.samples[k];R.pts=h(R.pts-D,w*x)/x}A.samples.sort(function(O,P){return O.pts-P.pts});var I=A.samples;return A.samples=[],{samples:I}}},T}();function h(T,E){var A;if(E===null)return T;for(A=E<T?-8589934592:8589934592;Math.abs(T-E)>4294967296;)T+=A;return T}var c=function(T,E,A,w){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=E,this.size=A,this.cts=w,this.flags=new g(T)},g=function(T){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=T?2:1,this.isNonSync=T?0:1}},"./src/remux/passthrough-remuxer.ts":function(t,e,n){n.r(e);var i=n("./src/polyfills/number.ts"),s=n("./src/utils/mp4-tools.ts"),o=n("./src/loader/fragment.ts"),u=n("./src/utils/logger.ts"),m=function(){function y(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=void 0,this.initTracks=void 0,this.lastEndDTS=null}var v=y.prototype;return v.destroy=function(){},v.resetTimeStamp=function(f){this.initPTS=f,this.lastEndDTS=null},v.resetNextTimestamp=function(){this.lastEndDTS=null},v.resetInitSegment=function(f,b,S){this.audioCodec=b,this.videoCodec=S,this.generateInitSegment(f),this.emitInitSegment=!0},v.generateInitSegment=function(f){var b=this.audioCodec,S=this.videoCodec;if(!f||!f.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var d=this.initData=Object(s.parseInitSegment)(f);b||(b=l(d.audio,o.ElementaryStreamTypes.AUDIO)),S||(S=l(d.video,o.ElementaryStreamTypes.VIDEO));var h={};d.audio&&d.video?h.audiovideo={container:"video/mp4",codec:b+","+S,initSegment:f,id:"main"}:d.audio?h.audio={container:"audio/mp4",codec:b,initSegment:f,id:"audio"}:d.video?h.video={container:"video/mp4",codec:S,initSegment:f,id:"main"}:u.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=h},v.remux=function(f,b,S,d,h){var c=this.initPTS,g=this.lastEndDTS,T={audio:void 0,video:void 0,text:d,id3:S,initSegment:void 0};Object(i.isFiniteNumber)(g)||(g=this.lastEndDTS=h||0);var E=b.samples;if(!E||!E.length)return T;var A={initPTS:void 0,timescale:1},w=this.initData;if(w&&w.length||(this.generateInitSegment(E),w=this.initData),!w||!w.length)return u.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),T;this.emitInitSegment&&(A.tracks=this.initTracks,this.emitInitSegment=!1),Object(i.isFiniteNumber)(c)||(this.initPTS=A.initPTS=c=p(w,E,g));var L=Object(s.getDuration)(E,w),x=g,D=L+x;Object(s.offsetStartDTS)(w,E,c),L>0?this.lastEndDTS=D:(u.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var k=!!w.audio,R=!!w.video,I="";k&&(I+="audio"),R&&(I+="video");var O={data1:E,startPTS:x,startDTS:x,endPTS:D,endDTS:D,type:I,hasAudio:k,hasVideo:R,nb:1,dropped:0};return T.audio=O.type==="audio"?O:void 0,T.video=O.type!=="audio"?O:void 0,T.text=d,T.id3=S,T.initSegment=A,T},y}(),p=function(y,v,f){return Object(s.getStartDTS)(y,v)-f};function l(y,v){var f=y==null?void 0:y.codec;return f&&f.length>4?f:f==="hvc1"?"hvc1.1.c.L120.90":f==="av01"?"av01.0.04M.08":f==="avc1"||v===o.ElementaryStreamTypes.VIDEO?"avc1.42e01e":"mp4a.40.5"}e.default=m},"./src/task-loop.ts":function(t,e,n){n.r(e),n.d(e,"default",function(){return i});var i=function(){function s(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var o=s.prototype;return o.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},o.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},o.onHandlerDestroyed=function(){},o.hasInterval=function(){return!!this._tickInterval},o.hasNextTick=function(){return!!this._tickTimer},o.setInterval=function(u){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,u),!0)},o.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},o.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},o.tick=function(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},o.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},o.doTick=function(){},s}()},"./src/types/level.ts":function(t,e,n){function i(l,y){for(var v=0;v<y.length;v++){var f=y[v];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}var s,o;function u(l,y){var v=l.canSkipUntil,f=l.canSkipDateRanges,b=l.endSN;return v&&(y!==void 0?y-b:0)<v?f?s.v2:s.Yes:s.No}n.r(e),n.d(e,"HlsSkip",function(){return s}),n.d(e,"getSkipValue",function(){return u}),n.d(e,"HlsUrlParameters",function(){return m}),n.d(e,"Level",function(){return p}),(o=s||(s={})).No="",o.Yes="YES",o.v2="v2";var m=function(){function l(y,v,f){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=y,this.part=v,this.skip=f}return l.prototype.addDirectives=function(y){var v=new self.URL(y);return this.msn!==void 0&&v.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&v.searchParams.set("_HLS_part",this.part.toString()),this.skip&&v.searchParams.set("_HLS_skip",this.skip),v.toString()},l}(),p=function(){function l(f){this.attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[f.url],this.attrs=f.attrs,this.bitrate=f.bitrate,f.details&&(this.details=f.details),this.id=f.id||0,this.name=f.name,this.width=f.width||0,this.height=f.height||0,this.audioCodec=f.audioCodec,this.videoCodec=f.videoCodec,this.unknownCodecs=f.unknownCodecs,this.codecSet=[f.videoCodec,f.audioCodec].filter(function(b){return b}).join(",").replace(/\.[^.,]+/g,"")}var y,v;return y=l,(v=[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(f){var b=f%this.url.length;this._urlId!==b&&(this.details=void 0,this._urlId=b)}}])&&i(y.prototype,v),l}()},"./src/types/loader.ts":function(t,e,n){var i,s,o,u;n.r(e),n.d(e,"PlaylistContextType",function(){return i}),n.d(e,"PlaylistLevelType",function(){return o}),(s=i||(i={})).MANIFEST="manifest",s.LEVEL="level",s.AUDIO_TRACK="audioTrack",s.SUBTITLE_TRACK="subtitleTrack",(u=o||(o={})).MAIN="main",u.AUDIO="audio",u.SUBTITLE="subtitle"},"./src/types/transmuxer.ts":function(t,e,n){n.r(e),n.d(e,"ChunkMetadata",function(){return i});var i=function(s,o,u,m,p,l){m===void 0&&(m=0),p===void 0&&(p=-1),l===void 0&&(l=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=s,this.sn=o,this.id=u,this.size=m,this.part=p,this.partial=l}},"./src/utils/attr-list.ts":function(t,e,n){n.r(e),n.d(e,"AttrList",function(){return o});var i=/^(\d+)x(\d+)$/,s=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,o=function(){function u(p){for(var l in typeof p=="string"&&(p=u.parseAttrList(p)),p)p.hasOwnProperty(l)&&(this[l]=p[l])}var m=u.prototype;return m.decimalInteger=function(p){var l=parseInt(this[p],10);return l>Number.MAX_SAFE_INTEGER?1/0:l},m.hexadecimalInteger=function(p){if(this[p]){var l=(this[p]||"0x").slice(2);l=(1&l.length?"0":"")+l;for(var y=new Uint8Array(l.length/2),v=0;v<l.length/2;v++)y[v]=parseInt(l.slice(2*v,2*v+2),16);return y}return null},m.hexadecimalIntegerAsNumber=function(p){var l=parseInt(this[p],16);return l>Number.MAX_SAFE_INTEGER?1/0:l},m.decimalFloatingPoint=function(p){return parseFloat(this[p])},m.optionalFloat=function(p,l){var y=this[p];return y?parseFloat(y):l},m.enumeratedString=function(p){return this[p]},m.bool=function(p){return this[p]==="YES"},m.decimalResolution=function(p){var l=i.exec(this[p]);if(l!==null)return{width:parseInt(l[1],10),height:parseInt(l[2],10)}},u.parseAttrList=function(p){var l,y={};for(s.lastIndex=0;(l=s.exec(p))!==null;){var v=l[2];v.indexOf('"')===0&&v.lastIndexOf('"')===v.length-1&&(v=v.slice(1,-1)),y[l[1]]=v}return y},u}()},"./src/utils/binary-search.ts":function(t,e,n){n.r(e),e.default={search:function(i,s){for(var o=0,u=i.length-1,m=null,p=null;o<=u;){var l=s(p=i[m=(o+u)/2|0]);if(l>0)o=m+1;else{if(!(l<0))return p;u=m-1}}return null}}},"./src/utils/buffer-helper.ts":function(t,e,n){n.r(e),n.d(e,"BufferHelper",function(){return o});var i=n("./src/utils/logger.ts"),s={length:0,start:function(){return 0},end:function(){return 0}},o=function(){function u(){}return u.isBuffered=function(m,p){try{if(m){for(var l=u.getBuffered(m),y=0;y<l.length;y++)if(p>=l.start(y)&&p<=l.end(y))return!0}}catch{}return!1},u.bufferInfo=function(m,p,l){try{if(m){var y,v=u.getBuffered(m),f=[];for(y=0;y<v.length;y++)f.push({start:v.start(y),end:v.end(y)});return this.bufferedInfo(f,p,l)}}catch{}return{len:0,start:p,end:p,nextStart:void 0}},u.bufferedInfo=function(m,p,l){p=Math.max(0,p),m.sort(function(A,w){var L=A.start-w.start;return L||w.end-A.end});var y=[];if(l)for(var v=0;v<m.length;v++){var f=y.length;if(f){var b=y[f-1].end;m[v].start-b<l?m[v].end>b&&(y[f-1].end=m[v].end):y.push(m[v])}else y.push(m[v])}else y=m;for(var S,d=0,h=p,c=p,g=0;g<y.length;g++){var T=y[g].start,E=y[g].end;if(p+l>=T&&p<E)h=T,d=(c=E)-p;else if(p+l<T){S=T;break}}return{len:d,start:h||0,end:c||0,nextStart:S}},u.getBuffered=function(m){try{return m.buffered}catch(p){return i.logger.log("failed to get media.buffered",p),s}},u}()},"./src/utils/cea-608-parser.ts":function(t,e,n){n.r(e),n.d(e,"Row",function(){return T}),n.d(e,"CaptionScreen",function(){return E});var i,s,o=n("./src/utils/logger.ts"),u={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},m=function(D){var k=D;return u.hasOwnProperty(D)&&(k=u[D]),String.fromCharCode(k)},p=15,l=100,y={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},v={17:2,18:4,21:6,22:8,23:10,19:13,20:15},f={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},b={25:2,26:4,29:6,30:8,31:10,27:13,28:15},S=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];(s=i||(i={}))[s.ERROR=0]="ERROR",s[s.TEXT=1]="TEXT",s[s.WARNING=2]="WARNING",s[s.INFO=2]="INFO",s[s.DEBUG=3]="DEBUG",s[s.DATA=3]="DATA";var d=function(){function D(){this.time=null,this.verboseLevel=i.ERROR}return D.prototype.log=function(k,R){this.verboseLevel>=k&&o.logger.log(this.time+" ["+k+"] "+R)},D}(),h=function(D){for(var k=[],R=0;R<D.length;R++)k.push(D[R].toString(16));return k},c=function(){function D(R,I,O,P,F){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=R||"white",this.underline=I||!1,this.italics=O||!1,this.background=P||"black",this.flash=F||!1}var k=D.prototype;return k.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},k.setStyles=function(R){for(var I=["foreground","underline","italics","background","flash"],O=0;O<I.length;O++){var P=I[O];R.hasOwnProperty(P)&&(this[P]=R[P])}},k.isDefault=function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},k.equals=function(R){return this.foreground===R.foreground&&this.underline===R.underline&&this.italics===R.italics&&this.background===R.background&&this.flash===R.flash},k.copy=function(R){this.foreground=R.foreground,this.underline=R.underline,this.italics=R.italics,this.background=R.background,this.flash=R.flash},k.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},D}(),g=function(){function D(R,I,O,P,F,U){this.uchar=void 0,this.penState=void 0,this.uchar=R||" ",this.penState=new c(I,O,P,F,U)}var k=D.prototype;return k.reset=function(){this.uchar=" ",this.penState.reset()},k.setChar=function(R,I){this.uchar=R,this.penState.copy(I)},k.setPenState=function(R){this.penState.copy(R)},k.equals=function(R){return this.uchar===R.uchar&&this.penState.equals(R.penState)},k.copy=function(R){this.uchar=R.uchar,this.penState.copy(R.penState)},k.isEmpty=function(){return this.uchar===" "&&this.penState.isDefault()},D}(),T=function(){function D(R){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var I=0;I<l;I++)this.chars.push(new g);this.logger=R,this.pos=0,this.currPenState=new c}var k=D.prototype;return k.equals=function(R){for(var I=!0,O=0;O<l;O++)if(!this.chars[O].equals(R.chars[O])){I=!1;break}return I},k.copy=function(R){for(var I=0;I<l;I++)this.chars[I].copy(R.chars[I])},k.isEmpty=function(){for(var R=!0,I=0;I<l;I++)if(!this.chars[I].isEmpty()){R=!1;break}return R},k.setCursor=function(R){this.pos!==R&&(this.pos=R),this.pos<0?(this.logger.log(i.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>l&&(this.logger.log(i.DEBUG,"Too large cursor position "+this.pos),this.pos=l)},k.moveCursor=function(R){var I=this.pos+R;if(R>1)for(var O=this.pos+1;O<I+1;O++)this.chars[O].setPenState(this.currPenState);this.setCursor(I)},k.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},k.insertChar=function(R){R>=144&&this.backSpace();var I=m(R);this.pos>=l?this.logger.log(i.ERROR,"Cannot insert "+R.toString(16)+" ("+I+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(I,this.currPenState),this.moveCursor(1))},k.clearFromPos=function(R){var I;for(I=R;I<l;I++)this.chars[I].reset()},k.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},k.clearToEndOfRow=function(){this.clearFromPos(this.pos)},k.getTextString=function(){for(var R=[],I=!0,O=0;O<l;O++){var P=this.chars[O].uchar;P!==" "&&(I=!1),R.push(P)}return I?"":R.join("")},k.setPenStyles=function(R){this.currPenState.setStyles(R),this.chars[this.pos].setPenState(this.currPenState)},D}(),E=function(){function D(R){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var I=0;I<p;I++)this.rows.push(new T(R));this.logger=R,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var k=D.prototype;return k.reset=function(){for(var R=0;R<p;R++)this.rows[R].clear();this.currRow=14},k.equals=function(R){for(var I=!0,O=0;O<p;O++)if(!this.rows[O].equals(R.rows[O])){I=!1;break}return I},k.copy=function(R){for(var I=0;I<p;I++)this.rows[I].copy(R.rows[I])},k.isEmpty=function(){for(var R=!0,I=0;I<p;I++)if(!this.rows[I].isEmpty()){R=!1;break}return R},k.backSpace=function(){this.rows[this.currRow].backSpace()},k.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},k.insertChar=function(R){this.rows[this.currRow].insertChar(R)},k.setPen=function(R){this.rows[this.currRow].setPenStyles(R)},k.moveCursor=function(R){this.rows[this.currRow].moveCursor(R)},k.setCursor=function(R){this.logger.log(i.INFO,"setCursor: "+R),this.rows[this.currRow].setCursor(R)},k.setPAC=function(R){this.logger.log(i.INFO,"pacData = "+JSON.stringify(R));var I=R.row-1;if(this.nrRollUpRows&&I<this.nrRollUpRows-1&&(I=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==I){for(var O=0;O<p;O++)this.rows[O].clear();var P=this.currRow+1-this.nrRollUpRows,F=this.lastOutputScreen;if(F){var U=F.rows[P].cueStartTime,B=this.logger.time;if(U&&B!==null&&U<B)for(var H=0;H<this.nrRollUpRows;H++)this.rows[I-this.nrRollUpRows+H+1].copy(F.rows[P+H])}}this.currRow=I;var V=this.rows[this.currRow];if(R.indent!==null){var q=R.indent,et=Math.max(q-1,0);V.setCursor(R.indent),R.color=V.chars[et].penState.foreground}var rt={foreground:R.color,underline:R.underline,italics:R.italics,background:"black",flash:!1};this.setPen(rt)},k.setBkgData=function(R){this.logger.log(i.INFO,"bkgData = "+JSON.stringify(R)),this.backSpace(),this.setPen(R),this.insertChar(32)},k.setRollUpRows=function(R){this.nrRollUpRows=R},k.rollUp=function(){if(this.nrRollUpRows!==null){this.logger.log(i.TEXT,this.getDisplayText());var R=this.currRow+1-this.nrRollUpRows,I=this.rows.splice(R,1)[0];I.clear(),this.rows.splice(this.currRow,0,I),this.logger.log(i.INFO,"Rolling up")}else this.logger.log(i.DEBUG,"roll_up but nrRollUpRows not set yet")},k.getDisplayText=function(R){R=R||!1;for(var I=[],O="",P=-1,F=0;F<p;F++){var U=this.rows[F].getTextString();U&&(P=F+1,R?I.push("Row "+P+": '"+U+"'"):I.push(U.trim()))}return I.length>0&&(O=R?"["+I.join(" | ")+"]":I.join(`
`)),O},k.getTextAndFormat=function(){return this.rows},D}(),A=function(){function D(R,I,O){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=R,this.outputFilter=I,this.mode=null,this.verbose=0,this.displayedMemory=new E(O),this.nonDisplayedMemory=new E(O),this.lastOutputScreen=new E(O),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=O}var k=D.prototype;return k.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},k.getHandler=function(){return this.outputFilter},k.setHandler=function(R){this.outputFilter=R},k.setPAC=function(R){this.writeScreen.setPAC(R)},k.setBkgData=function(R){this.writeScreen.setBkgData(R)},k.setMode=function(R){R!==this.mode&&(this.mode=R,this.logger.log(i.INFO,"MODE="+R),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=R)},k.insertChars=function(R){for(var I=0;I<R.length;I++)this.writeScreen.insertChar(R[I]);var O=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(i.INFO,O+": "+this.writeScreen.getDisplayText(!0)),this.mode!=="MODE_PAINT-ON"&&this.mode!=="MODE_ROLL-UP"||(this.logger.log(i.TEXT,"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},k.ccRCL=function(){this.logger.log(i.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},k.ccBS=function(){this.logger.log(i.INFO,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},k.ccAOF=function(){},k.ccAON=function(){},k.ccDER=function(){this.logger.log(i.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},k.ccRU=function(R){this.logger.log(i.INFO,"RU("+R+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(R)},k.ccFON=function(){this.logger.log(i.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},k.ccRDC=function(){this.logger.log(i.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},k.ccTR=function(){this.logger.log(i.INFO,"TR"),this.setMode("MODE_TEXT")},k.ccRTD=function(){this.logger.log(i.INFO,"RTD"),this.setMode("MODE_TEXT")},k.ccEDM=function(){this.logger.log(i.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},k.ccCR=function(){this.logger.log(i.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},k.ccENM=function(){this.logger.log(i.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},k.ccEOC=function(){if(this.logger.log(i.INFO,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){var R=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=R,this.writeScreen=this.nonDisplayedMemory,this.logger.log(i.TEXT,"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},k.ccTO=function(R){this.logger.log(i.INFO,"TO("+R+") - Tab Offset"),this.writeScreen.moveCursor(R)},k.ccMIDROW=function(R){var I={flash:!1};if(I.underline=R%2==1,I.italics=R>=46,I.italics)I.foreground="white";else{var O=Math.floor(R/2)-16;I.foreground=["white","green","blue","cyan","red","yellow","magenta"][O]}this.logger.log(i.INFO,"MIDROW: "+JSON.stringify(I)),this.writeScreen.setPen(I)},k.outputDataUpdate=function(R){R===void 0&&(R=!1);var I=this.logger.time;I!==null&&this.outputFilter&&(this.cueStartTime!==null||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,I,this.lastOutputScreen),R&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:I):this.cueStartTime=I,this.lastOutputScreen.copy(this.displayedMemory))},k.cueSplitAtTime=function(R){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,R,this.displayedMemory),this.cueStartTime=R))},D}(),w=function(){function D(R,I,O){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var P=new d;this.channels=[null,new A(R,I,P),new A(R+1,O,P)],this.cmdHistory={a:null,b:null},this.logger=P}var k=D.prototype;return k.getHandler=function(R){return this.channels[R].getHandler()},k.setHandler=function(R,I){this.channels[R].setHandler(I)},k.addData=function(R,I){var O,P,F,U=!1;this.logger.time=R;for(var B=0;B<I.length;B+=2)if(P=127&I[B],F=127&I[B+1],P!==0||F!==0){if(this.logger.log(i.DATA,"["+h([I[B],I[B+1]])+"] -> ("+h([P,F])+")"),(O=this.parseCmd(P,F))||(O=this.parseMidrow(P,F)),O||(O=this.parsePAC(P,F)),O||(O=this.parseBackgroundAttributes(P,F)),!O&&(U=this.parseChars(P,F))){var H=this.currentChannel;H&&H>0?this.channels[H].insertChars(U):this.logger.log(i.WARNING,"No channel found yet. TEXT-MODE?")}O||U||this.logger.log(i.WARNING,"Couldn't parse cleaned data "+h([P,F])+" orig: "+h([I[B],I[B+1]]))}},k.parseCmd=function(R,I){var O=this.cmdHistory;if(!((R===20||R===28||R===21||R===29)&&I>=32&&I<=47||(R===23||R===31)&&I>=33&&I<=35))return!1;if(x(R,I,O))return L(null,null,O),this.logger.log(i.DEBUG,"Repeated command ("+h([R,I])+") is dropped"),!0;var P=R===20||R===21||R===23?1:2,F=this.channels[P];return R===20||R===21||R===28||R===29?I===32?F.ccRCL():I===33?F.ccBS():I===34?F.ccAOF():I===35?F.ccAON():I===36?F.ccDER():I===37?F.ccRU(2):I===38?F.ccRU(3):I===39?F.ccRU(4):I===40?F.ccFON():I===41?F.ccRDC():I===42?F.ccTR():I===43?F.ccRTD():I===44?F.ccEDM():I===45?F.ccCR():I===46?F.ccENM():I===47&&F.ccEOC():F.ccTO(I-32),L(R,I,O),this.currentChannel=P,!0},k.parseMidrow=function(R,I){var O=0;if((R===17||R===25)&&I>=32&&I<=47){if((O=R===17?1:2)!==this.currentChannel)return this.logger.log(i.ERROR,"Mismatch channel in midrow parsing"),!1;var P=this.channels[O];return!!P&&(P.ccMIDROW(I),this.logger.log(i.DEBUG,"MIDROW ("+h([R,I])+")"),!0)}return!1},k.parsePAC=function(R,I){var O,P=this.cmdHistory;if(!((R>=17&&R<=23||R>=25&&R<=31)&&I>=64&&I<=127||(R===16||R===24)&&I>=64&&I<=95))return!1;if(x(R,I,P))return L(null,null,P),!0;var F=R<=23?1:2;O=I>=64&&I<=95?F===1?y[R]:f[R]:F===1?v[R]:b[R];var U=this.channels[F];return!!U&&(U.setPAC(this.interpretPAC(O,I)),L(R,I,P),this.currentChannel=F,!0)},k.interpretPAC=function(R,I){var O,P={color:null,italics:!1,indent:null,underline:!1,row:R};return O=I>95?I-96:I-64,P.underline=(1&O)==1,O<=13?P.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(O/2)]:O<=15?(P.italics=!0,P.color="white"):P.indent=4*Math.floor((O-16)/2),P},k.parseChars=function(R,I){var O,P,F=null,U=null;if(R>=25?(O=2,U=R-8):(O=1,U=R),U>=17&&U<=19?(P=U===17?I+80:U===18?I+112:I+144,this.logger.log(i.INFO,"Special char '"+m(P)+"' in channel "+O),F=[P]):R>=32&&R<=127&&(F=I===0?[R]:[R,I]),F){var B=h(F);this.logger.log(i.DEBUG,"Char codes =  "+B.join(",")),L(R,I,this.cmdHistory)}return F},k.parseBackgroundAttributes=function(R,I){var O;if(!((R===16||R===24)&&I>=32&&I<=47||(R===23||R===31)&&I>=45&&I<=47))return!1;var P={};R===16||R===24?(O=Math.floor((I-32)/2),P.background=S[O],I%2==1&&(P.background=P.background+"_semi")):I===45?P.background="transparent":(P.foreground="black",I===47&&(P.underline=!0));var F=R<=23?1:2;return this.channels[F].setBkgData(P),L(R,I,this.cmdHistory),!0},k.reset=function(){for(var R=0;R<Object.keys(this.channels).length;R++){var I=this.channels[R];I&&I.reset()}this.cmdHistory={a:null,b:null}},k.cueSplitAtTime=function(R){for(var I=0;I<this.channels.length;I++){var O=this.channels[I];O&&O.cueSplitAtTime(R)}},D}();function L(D,k,R){R.a=D,R.b=k}function x(D,k,R){return R.a===D&&R.b===k}e.default=w},"./src/utils/codecs.ts":function(t,e,n){n.r(e),n.d(e,"isCodecType",function(){return s}),n.d(e,"isCodecSupportedInMp4",function(){return o});var i={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}};function s(u,m){var p=i[m];return!!p&&p[u.slice(0,4)]===!0}function o(u,m){return MediaSource.isTypeSupported((m||"video")+'/mp4;codecs="'+u+'"')}},"./src/utils/cues.ts":function(t,e,n){n.r(e);var i=n("./src/utils/vttparser.ts"),s=n("./src/utils/webvtt-parser.ts"),o=n("./src/utils/texttrack-utils.ts"),u=/\s/,m={newCue:function(p,l,y,v){for(var f,b,S,d,h,c=[],g=self.VTTCue||self.TextTrackCue,T=0;T<v.rows.length;T++)if(S=!0,d=0,h="",!(f=v.rows[T]).isEmpty()){for(var E=0;E<f.chars.length;E++)u.test(f.chars[E].uchar)&&S?d++:(h+=f.chars[E].uchar,S=!1);f.cueStartTime=l,l===y&&(y+=1e-4),d>=16?d--:d++;var A=Object(i.fixLineBreaks)(h.trim()),w=Object(s.generateCueId)(l,y,A);p&&p.cues&&p.cues.getCueById(w)||((b=new g(l,y,A)).id=w,b.line=T+1,b.align="left",b.position=10+Math.min(80,10*Math.floor(8*d/32)),c.push(b))}return p&&c.length&&(c.sort(function(L,x){return L.line==="auto"||x.line==="auto"?0:L.line>8&&x.line>8?x.line-L.line:L.line-x.line}),c.forEach(function(L){return Object(o.addCueToTrack)(p,L)})),c}};e.default=m},"./src/utils/discontinuities.ts":function(t,e,n){n.r(e),n.d(e,"findFirstFragWithCC",function(){return u}),n.d(e,"shouldAlignOnDiscontinuities",function(){return m}),n.d(e,"findDiscontinuousReferenceFrag",function(){return p}),n.d(e,"adjustSlidingStart",function(){return y}),n.d(e,"alignStream",function(){return v}),n.d(e,"alignPDT",function(){return f});var i=n("./src/polyfills/number.ts"),s=n("./src/utils/logger.ts"),o=n("./src/controller/level-helper.ts");function u(b,S){for(var d=null,h=0,c=b.length;h<c;h++){var g=b[h];if(g&&g.cc===S){d=g;break}}return d}function m(b,S,d){return!(!S.details||!(d.endCC>d.startCC||b&&b.cc<d.startCC))}function p(b,S){var d=b.fragments,h=S.fragments;if(h.length&&d.length){var c=u(d,h[0].cc);if(c&&(!c||c.startPTS))return c;s.logger.log("No frag in previous level to align on")}else s.logger.log("No fragments to align")}function l(b,S){if(b){var d=b.start+S;b.start=b.startPTS=d,b.endPTS=d+b.duration}}function y(b,S){for(var d=S.fragments,h=0,c=d.length;h<c;h++)l(d[h],b);S.fragmentHint&&l(S.fragmentHint,b),S.alignedSliding=!0}function v(b,S,d){S&&(function(h,c,g){if(m(h,g,c)){var T=p(g.details,c);T&&Object(i.isFiniteNumber)(T.start)&&(s.logger.log("Adjusting PTS using last level due to CC increase within current level "+c.url),y(T.start,c))}}(b,d,S),!d.alignedSliding&&S.details&&f(d,S.details),d.alignedSliding||!S.details||d.skippedSegments||Object(o.adjustSliding)(S.details,d))}function f(b,S){if(S.fragments.length&&b.hasProgramDateTime&&S.hasProgramDateTime){var d=S.fragments[0].programDateTime,h=b.fragments[0].programDateTime,c=(h-d)/1e3+S.fragments[0].start;c&&Object(i.isFiniteNumber)(c)&&(s.logger.log("Adjusting PTS using programDateTime delta "+(h-d)+"ms, sliding:"+c.toFixed(3)+" "+b.url+" "),y(c,b))}}},"./src/utils/ewma-bandwidth-estimator.ts":function(t,e,n){n.r(e);var i=n("./src/utils/ewma.ts"),s=function(){function o(m,p,l){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultEstimate_=l,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new i.default(m),this.fast_=new i.default(p)}var u=o.prototype;return u.update=function(m,p){var l=this.slow_,y=this.fast_;this.slow_.halfLife!==m&&(this.slow_=new i.default(m,l.getEstimate(),l.getTotalWeight())),this.fast_.halfLife!==p&&(this.fast_=new i.default(p,y.getEstimate(),y.getTotalWeight()))},u.sample=function(m,p){var l=(m=Math.max(m,this.minDelayMs_))/1e3,y=8*p/l;this.fast_.sample(l,y),this.slow_.sample(l,y)},u.canEstimate=function(){var m=this.fast_;return m&&m.getTotalWeight()>=this.minWeight_},u.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},u.destroy=function(){},o}();e.default=s},"./src/utils/ewma.ts":function(t,e,n){n.r(e);var i=function(){function s(u,m,p){m===void 0&&(m=0),p===void 0&&(p=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=u,this.alpha_=u?Math.exp(Math.log(.5)/u):0,this.estimate_=m,this.totalWeight_=p}var o=s.prototype;return o.sample=function(u,m){var p=Math.pow(this.alpha_,u);this.estimate_=m*(1-p)+p*this.estimate_,this.totalWeight_+=u},o.getTotalWeight=function(){return this.totalWeight_},o.getEstimate=function(){if(this.alpha_){var u=1-Math.pow(this.alpha_,this.totalWeight_);if(u)return this.estimate_/u}return this.estimate_},s}();e.default=i},"./src/utils/fetch-loader.ts":function(t,e,n){n.r(e),n.d(e,"fetchSupported",function(){return v});var i=n("./src/polyfills/number.ts"),s=n("./src/loader/load-stats.ts"),o=n("./src/demux/chunk-cache.ts");function u(d){var h=typeof Map=="function"?new Map:void 0;return(u=function(c){if(c===null||(g=c,Function.toString.call(g).indexOf("[native code]")===-1))return c;var g;if(typeof c!="function")throw new TypeError("Super expression must either be null or a function");if(h!==void 0){if(h.has(c))return h.get(c);h.set(c,T)}function T(){return m(c,arguments,y(this).constructor)}return T.prototype=Object.create(c.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),l(T,c)})(d)}function m(d,h,c){return(m=p()?Reflect.construct:function(g,T,E){var A=[null];A.push.apply(A,T);var w=new(Function.bind.apply(g,A));return E&&l(w,E.prototype),w}).apply(null,arguments)}function p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function l(d,h){return(l=Object.setPrototypeOf||function(c,g){return c.__proto__=g,c})(d,h)}function y(d){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)})(d)}function v(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}var f=function(){function d(c){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=c.fetchSetup||b,this.controller=new self.AbortController,this.stats=new s.LoadStats}var h=d.prototype;return h.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},h.abortInternal=function(){var c=this.response;c&&c.ok||(this.stats.aborted=!0,this.controller.abort())},h.abort=function(){var c;this.abortInternal(),(c=this.callbacks)!==null&&c!==void 0&&c.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},h.load=function(c,g,T){var E=this,A=this.stats;if(A.loading.start)throw new Error("Loader can only be used once.");A.loading.start=self.performance.now();var w=function(k,R){var I={method:"GET",mode:"cors",credentials:"same-origin",signal:R};return k.rangeEnd&&(I.headers=new self.Headers({Range:"bytes="+k.rangeStart+"-"+String(k.rangeEnd-1)})),I}(c,this.controller.signal),L=T.onProgress,x=c.responseType==="arraybuffer",D=x?"byteLength":"length";this.context=c,this.config=g,this.callbacks=T,this.request=this.fetchSetup(c,w),self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(function(){E.abortInternal(),T.onTimeout(A,c,E.response)},g.timeout),self.fetch(this.request).then(function(k){if(E.response=E.loader=k,!k.ok){var R=k.status,I=k.statusText;throw new S(I||"fetch, bad network response",R,k)}return A.loading.first=Math.max(self.performance.now(),A.loading.start),A.total=parseInt(k.headers.get("Content-Length")||"0"),L&&Object(i.isFiniteNumber)(g.highWaterMark)?E.loadProgressively(k,A,c,g.highWaterMark,L):x?k.arrayBuffer():k.text()}).then(function(k){var R=E.response;self.clearTimeout(E.requestTimeout),A.loading.end=Math.max(self.performance.now(),A.loading.first),A.loaded=A.total=k[D];var I={url:R.url,data:k};L&&!Object(i.isFiniteNumber)(g.highWaterMark)&&L(A,c,k,R),T.onSuccess(I,A,c,R)}).catch(function(k){if(self.clearTimeout(E.requestTimeout),!A.aborted){var R=k.code||0;T.onError({code:R,text:k.message},c,k.details)}})},h.getCacheAge=function(){var c=null;if(this.response){var g=this.response.headers.get("age");c=g?parseFloat(g):null}return c},h.loadProgressively=function(c,g,T,E,A){E===void 0&&(E=0);var w=new o.default,L=c.body.getReader();return function x(){return L.read().then(function(D){if(D.done)return w.dataLength&&A(g,T,w.flush(),c),Promise.resolve(new ArrayBuffer(0));var k=D.value,R=k.length;return g.loaded+=R,R<E||w.dataLength?(w.push(k),w.dataLength>=E&&A(g,T,w.flush(),c)):A(g,T,k,c),x()}).catch(function(){return Promise.reject()})}()},d}();function b(d,h){return new self.Request(d.url,h)}var S=function(d){var h,c;function g(T,E,A){var w;return(w=d.call(this,T)||this).code=void 0,w.details=void 0,w.code=E,w.details=A,w}return c=d,(h=g).prototype=Object.create(c.prototype),h.prototype.constructor=h,l(h,c),g}(u(Error));e.default=f},"./src/utils/imsc1-ttml-parser.ts":function(t,e,n){n.r(e),n.d(e,"IMSC1_CODEC",function(){return y}),n.d(e,"parseIMSC1",function(){return S});var i=n("./src/utils/mp4-tools.ts"),s=n("./src/utils/vttparser.ts"),o=n("./src/utils/vttcue.ts"),u=n("./src/demux/id3.ts"),m=n("./src/utils/timescale-conversion.ts"),p=n("./src/utils/webvtt-parser.ts");function l(){return(l=Object.assign||function(A){for(var w=1;w<arguments.length;w++){var L=arguments[w];for(var x in L)Object.prototype.hasOwnProperty.call(L,x)&&(A[x]=L[x])}return A}).apply(this,arguments)}var y="stpp.ttml.im1t",v=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,f=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,b={left:"start",center:"center",right:"end",start:"start",end:"end"};function S(A,w,L,x,D){var k=Object(i.findBox)(new Uint8Array(A),["mdat"]);if(k.length!==0){var R=k[0],I=Object(u.utf8ArrayToStr)(new Uint8Array(A,R.start,R.end-R.start)),O=Object(m.toTimescaleFromScale)(w,1,L);try{x(function(P,F){var U=new DOMParser().parseFromString(P,"text/xml").getElementsByTagName("tt")[0];if(!U)throw new Error("Invalid ttml");var B={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},H=Object.keys(B).reduce(function(ot,J){return ot[J]=U.getAttribute("ttp:"+J)||B[J],ot},{}),V=U.getAttribute("xml:space")!=="preserve",q=h(d(U,"styling","style")),et=h(d(U,"layout","region")),rt=d(U,"body","[begin]");return[].map.call(rt,function(ot){var J=c(ot,V);if(!J||!ot.hasAttribute("begin"))return null;var W=E(ot.getAttribute("begin"),H),st=E(ot.getAttribute("dur"),H),it=E(ot.getAttribute("end"),H);if(W===null)throw T(ot);if(it===null){if(st===null)throw T(ot);it=W+st}var j=new o.default(W-F,it-F,J);j.id=Object(p.generateCueId)(j.startTime,j.endTime,j.text);var gt=et[ot.getAttribute("region")],bt=q[ot.getAttribute("style")];j.position=10,j.size=80;var It=function(ut,ft){var mt="http://www.w3.org/ns/ttml#styling";return["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce(function(_t,wt){var St=g(ft,mt,wt)||g(ut,mt,wt);return St&&(_t[wt]=St),_t},{})}(gt,bt),z=It.textAlign;if(z){var tt=b[z];tt&&(j.lineAlign=tt),j.align=z}return l(j,It),j}).filter(function(ot){return ot!==null})}(I,O))}catch(P){D(P)}}else D(new Error("Could not parse IMSC1 mdat"))}function d(A,w,L){var x=A.getElementsByTagName(w)[0];return x?[].slice.call(x.querySelectorAll(L)):[]}function h(A){return A.reduce(function(w,L){var x=L.getAttribute("xml:id");return x&&(w[x]=L),w},{})}function c(A,w){return[].slice.call(A.childNodes).reduce(function(L,x,D){var k;return x.nodeName==="br"&&D?L+`
`:(k=x.childNodes)!==null&&k!==void 0&&k.length?c(x,w):w?L+x.textContent.trim().replace(/\s+/g," "):L+x.textContent},"")}function g(A,w,L){return A.hasAttributeNS(w,L)?A.getAttributeNS(w,L):null}function T(A){return new Error("Could not parse ttml timestamp "+A)}function E(A,w){if(!A)return null;var L=Object(s.parseTimeStamp)(A);return L===null&&(v.test(A)?L=function(x,D){var k=v.exec(x),R=(0|k[4])+(0|k[5])/D.subFrameRate;return 3600*(0|k[1])+60*(0|k[2])+(0|k[3])+R/D.frameRate}(A,w):f.test(A)&&(L=function(x,D){var k=f.exec(x),R=Number(k[1]);switch(k[2]){case"h":return 3600*R;case"m":return 60*R;case"ms":return 1e3*R;case"f":return R/D.frameRate;case"t":return R/D.tickRate}return R}(A,w))),L}},"./src/utils/logger.ts":function(t,e,n){n.r(e),n.d(e,"enableLogs",function(){return m}),n.d(e,"logger",function(){return p});var i=function(){},s={trace:i,debug:i,log:i,warn:i,info:i,error:i},o=s;function u(l){var y=self.console[l];return y?y.bind(self.console,"["+l+"] >"):i}function m(l){if(self.console&&l===!0||typeof l=="object"){(function(y){for(var v=arguments.length,f=new Array(v>1?v-1:0),b=1;b<v;b++)f[b-1]=arguments[b];f.forEach(function(S){o[S]=y[S]?y[S].bind(y):u(S)})})(l,"debug","log","info","warn","error");try{o.log()}catch{o=s}}else o=s}var p=s},"./src/utils/mediakeys-helper.ts":function(t,e,n){var i,s;n.r(e),n.d(e,"KeySystems",function(){return i}),n.d(e,"requestMediaKeySystemAccess",function(){return o}),(s=i||(i={})).WIDEVINE="com.widevine.alpha",s.PLAYREADY="com.microsoft.playready";var o=typeof self<"u"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null},"./src/utils/mediasource-helper.ts":function(t,e,n){function i(){return self.MediaSource||self.WebKitMediaSource}n.r(e),n.d(e,"getMediaSource",function(){return i})},"./src/utils/mp4-tools.ts":function(t,e,n){n.r(e),n.d(e,"bin2str",function(){return m}),n.d(e,"readUint16",function(){return p}),n.d(e,"readUint32",function(){return l}),n.d(e,"writeUint32",function(){return y}),n.d(e,"findBox",function(){return v}),n.d(e,"parseSegmentIndex",function(){return f}),n.d(e,"parseInitSegment",function(){return b}),n.d(e,"getStartDTS",function(){return S}),n.d(e,"getDuration",function(){return d}),n.d(e,"computeRawDurationFromSamples",function(){return h}),n.d(e,"offsetStartDTS",function(){return c}),n.d(e,"segmentValidRange",function(){return g}),n.d(e,"appendUint8Array",function(){return T});var i=n("./src/utils/typed-array.ts"),s=n("./src/loader/fragment.ts"),o=Math.pow(2,32)-1,u=[].push;function m(E){return String.fromCharCode.apply(null,E)}function p(E,A){"data"in E&&(A+=E.start,E=E.data);var w=E[A]<<8|E[A+1];return w<0?65536+w:w}function l(E,A){"data"in E&&(A+=E.start,E=E.data);var w=E[A]<<24|E[A+1]<<16|E[A+2]<<8|E[A+3];return w<0?4294967296+w:w}function y(E,A,w){"data"in E&&(A+=E.start,E=E.data),E[A]=w>>24,E[A+1]=w>>16&255,E[A+2]=w>>8&255,E[A+3]=255&w}function v(E,A){var w,L,x,D=[];if(!A.length)return D;"data"in E?(w=E.data,L=E.start,x=E.end):(L=0,x=(w=E).byteLength);for(var k=L;k<x;){var R=l(w,k),I=R>1?k+R:x;if(m(w.subarray(k+4,k+8))===A[0])if(A.length===1)D.push({data:w,start:k+8,end:I});else{var O=v({data:w,start:k+8,end:I},A.slice(1));O.length&&u.apply(D,O)}k=I}return D}function f(E){var A=v(E,["moov"])[0],w=A?A.end:null,L=v(E,["sidx"]);if(!L||!L[0])return null;var x=[],D=L[0],k=D.data[0],R=k===0?8:16,I=l(D,R);R+=4,R+=k===0?8:16,R+=2;var O=D.end+0,P=p(D,R);R+=2;for(var F=0;F<P;F++){var U=R,B=l(D,U);U+=4;var H=2147483647&B;if((2147483648&B)>>>31==1)return console.warn("SIDX has hierarchical references (not supported)"),null;var V=l(D,U);U+=4,x.push({referenceSize:H,subsegmentDuration:V,info:{duration:V/I,start:O,end:O+H-1}}),O+=H,R=U+=4}return{earliestPresentationTime:0,timescale:I,version:k,referencesCount:P,references:x,moovEndOffset:w}}function b(E){for(var A=[],w=v(E,["moov","trak"]),L=0;L<w.length;L++){var x=w[L],D=v(x,["tkhd"])[0];if(D){var k=D.data[D.start],R=k===0?12:20,I=l(D,R),O=v(x,["mdia","mdhd"])[0];if(O){var P=l(O,R=(k=O.data[O.start])===0?12:20),F=v(x,["mdia","hdlr"])[0];if(F){var U=m(F.data.subarray(F.start+8,F.start+12)),B={soun:s.ElementaryStreamTypes.AUDIO,vide:s.ElementaryStreamTypes.VIDEO}[U];if(B){var H=v(x,["mdia","minf","stbl","stsd"])[0],V=void 0;H&&(V=m(H.data.subarray(H.start+12,H.start+16))),A[I]={timescale:P,type:B},A[B]={timescale:P,id:I,codec:V}}}}}}return v(E,["moov","mvex","trex"]).forEach(function(q){var et=l(q,4),rt=A[et];rt&&(rt.default={duration:l(q,12),flags:l(q,20)})}),A}function S(E,A){return v(A,["moof","traf"]).reduce(function(w,L){var x=v(L,["tfdt"])[0],D=x.data[x.start],k=v(L,["tfhd"]).reduce(function(R,I){var O=l(I,4),P=E[O];if(P){var F=l(x,4);D===1&&(F*=Math.pow(2,32),F+=l(x,8));var U=F/(P.timescale||9e4);if(isFinite(U)&&(R===null||U<R))return U}return R},null);return k!==null&&isFinite(k)&&(w===null||k<w)?k:w},null)||0}function d(E,A){for(var w=0,L=0,x=0,D=v(E,["moof","traf"]),k=0;k<D.length;k++){var R=D[k],I=v(R,["tfhd"])[0],O=A[l(I,4)];if(O){var P=O.default,F=l(I,0)|(P==null?void 0:P.flags),U=P==null?void 0:P.duration;8&F&&(U=l(I,2&F?12:8));for(var B=O.timescale||9e4,H=v(R,["trun"]),V=0;V<H.length;V++)w=U?U*l(H[V],4):h(H[V]),O.type===s.ElementaryStreamTypes.VIDEO?L+=w/B:O.type===s.ElementaryStreamTypes.AUDIO&&(x+=w/B)}}if(L===0&&x===0){var q=f(E);if(q!=null&&q.references)return q.references.reduce(function(et,rt){return et+rt.info.duration||0},0)}return L||x}function h(E){var A=l(E,0),w=8;1&A&&(w+=4),4&A&&(w+=4);for(var L=0,x=l(E,4),D=0;D<x;D++)256&A&&(L+=l(E,w),w+=4),512&A&&(w+=4),1024&A&&(w+=4),2048&A&&(w+=4);return L}function c(E,A,w){v(A,["moof","traf"]).forEach(function(L){v(L,["tfhd"]).forEach(function(x){var D=l(x,4),k=E[D];if(k){var R=k.timescale||9e4;v(L,["tfdt"]).forEach(function(I){var O=I.data[I.start],P=l(I,4);if(O===0)y(I,4,P-w*R);else{P*=Math.pow(2,32),P+=l(I,8),P-=w*R,P=Math.max(P,0);var F=Math.floor(P/(o+1)),U=Math.floor(P%(o+1));y(I,4,F),y(I,8,U)}})}})})}function g(E){var A={valid:null,remainder:null},w=v(E,["moof"]);if(!w)return A;if(w.length<2)return A.remainder=E,A;var L=w[w.length-1];return A.valid=Object(i.sliceUint8)(E,0,L.start-8),A.remainder=Object(i.sliceUint8)(E,L.start-8),A}function T(E,A){var w=new Uint8Array(E.length+A.length);return w.set(E),w.set(A,E.length),w}},"./src/utils/output-filter.ts":function(t,e,n){n.r(e),n.d(e,"default",function(){return i});var i=function(){function s(u,m){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=u,this.trackName=m}var o=s.prototype;return o.dispatchCue=function(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},o.newCue=function(u,m,p){(this.startTime===null||this.startTime>u)&&(this.startTime=u),this.endTime=m,this.screen=p,this.timelineController.createCaptionsTrack(this.trackName)},o.reset=function(){this.cueRanges=[]},s}()},"./src/utils/texttrack-utils.ts":function(t,e,n){n.r(e),n.d(e,"sendAddTrackEvent",function(){return s}),n.d(e,"addCueToTrack",function(){return o}),n.d(e,"clearCurrentCues",function(){return u}),n.d(e,"removeCuesInRange",function(){return m}),n.d(e,"getCuesInRange",function(){return p});var i=n("./src/utils/logger.ts");function s(l,y){var v;try{v=new Event("addtrack")}catch{(v=document.createEvent("Event")).initEvent("addtrack",!1,!1)}v.track=l,y.dispatchEvent(v)}function o(l,y){var v=l.mode;if(v==="disabled"&&(l.mode="hidden"),l.cues&&!l.cues.getCueById(y.id))try{if(l.addCue(y),!l.cues.getCueById(y.id))throw new Error("addCue is failed for: "+y)}catch(b){i.logger.debug("[texttrack-utils]: "+b);var f=new self.TextTrackCue(y.startTime,y.endTime,y.text);f.id=y.id,l.addCue(f)}v==="disabled"&&(l.mode=v)}function u(l){var y=l.mode;if(y==="disabled"&&(l.mode="hidden"),l.cues)for(var v=l.cues.length;v--;)l.removeCue(l.cues[v]);y==="disabled"&&(l.mode=y)}function m(l,y,v){var f=l.mode;if(f==="disabled"&&(l.mode="hidden"),l.cues&&l.cues.length>0)for(var b=p(l.cues,y,v),S=0;S<b.length;S++)l.removeCue(b[S]);f==="disabled"&&(l.mode=f)}function p(l,y,v){var f=[],b=function(c,g){if(g<c[0].startTime)return 0;var T=c.length-1;if(g>c[T].endTime)return-1;for(var E=0,A=T;E<=A;){var w=Math.floor((A+E)/2);if(g<c[w].startTime)A=w-1;else{if(!(g>c[w].startTime&&E<T))return w;E=w+1}}return c[E].startTime-g<g-c[A].startTime?E:A}(l,y);if(b>-1)for(var S=b,d=l.length;S<d;S++){var h=l[S];if(h.startTime>=y&&h.endTime<=v)f.push(h);else if(h.startTime>v)return f}return f}},"./src/utils/time-ranges.ts":function(t,e,n){n.r(e),e.default={toString:function(i){for(var s="",o=i.length,u=0;u<o;u++)s+="["+i.start(u).toFixed(3)+","+i.end(u).toFixed(3)+"]";return s}}},"./src/utils/timescale-conversion.ts":function(t,e,n){function i(m,p,l,y){l===void 0&&(l=1),y===void 0&&(y=!1);var v=m*p*l;return y?Math.round(v):v}function s(m,p,l,y){return l===void 0&&(l=1),y===void 0&&(y=!1),i(m,p,1/l,y)}function o(m,p){return p===void 0&&(p=!1),i(m,1e3,1/9e4,p)}function u(m,p){return p===void 0&&(p=1),i(m,9e4,1/p)}n.r(e),n.d(e,"toTimescaleFromBase",function(){return i}),n.d(e,"toTimescaleFromScale",function(){return s}),n.d(e,"toMsFromMpegTsClock",function(){return o}),n.d(e,"toMpegTsClockFromTimescale",function(){return u})},"./src/utils/typed-array.ts":function(t,e,n){function i(s,o,u){return Uint8Array.prototype.slice?s.slice(o,u):new Uint8Array(Array.prototype.slice.call(s,o,u))}n.r(e),n.d(e,"sliceUint8",function(){return i})},"./src/utils/vttcue.ts":function(t,e,n){n.r(e),e.default=function(){if(typeof self<"u"&&self.VTTCue)return self.VTTCue;var i=["","lr","rl"],s=["start","middle","end","left","right"];function o(l,y){if(typeof y!="string"||!Array.isArray(l))return!1;var v=y.toLowerCase();return!!~l.indexOf(v)&&v}function u(l){return o(s,l)}function m(l){for(var y=arguments.length,v=new Array(y>1?y-1:0),f=1;f<y;f++)v[f-1]=arguments[f];for(var b=1;b<arguments.length;b++){var S=arguments[b];for(var d in S)l[d]=S[d]}return l}function p(l,y,v){var f=this,b={enumerable:!0};f.hasBeenReset=!1;var S="",d=!1,h=l,c=y,g=v,T=null,E="",A=!0,w="auto",L="start",x=50,D="middle",k=50,R="middle";Object.defineProperty(f,"id",m({},b,{get:function(){return S},set:function(I){S=""+I}})),Object.defineProperty(f,"pauseOnExit",m({},b,{get:function(){return d},set:function(I){d=!!I}})),Object.defineProperty(f,"startTime",m({},b,{get:function(){return h},set:function(I){if(typeof I!="number")throw new TypeError("Start time must be set to a number.");h=I,this.hasBeenReset=!0}})),Object.defineProperty(f,"endTime",m({},b,{get:function(){return c},set:function(I){if(typeof I!="number")throw new TypeError("End time must be set to a number.");c=I,this.hasBeenReset=!0}})),Object.defineProperty(f,"text",m({},b,{get:function(){return g},set:function(I){g=""+I,this.hasBeenReset=!0}})),Object.defineProperty(f,"region",m({},b,{get:function(){return T},set:function(I){T=I,this.hasBeenReset=!0}})),Object.defineProperty(f,"vertical",m({},b,{get:function(){return E},set:function(I){var O=function(P){return o(i,P)}(I);if(O===!1)throw new SyntaxError("An invalid or illegal string was specified.");E=O,this.hasBeenReset=!0}})),Object.defineProperty(f,"snapToLines",m({},b,{get:function(){return A},set:function(I){A=!!I,this.hasBeenReset=!0}})),Object.defineProperty(f,"line",m({},b,{get:function(){return w},set:function(I){if(typeof I!="number"&&I!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");w=I,this.hasBeenReset=!0}})),Object.defineProperty(f,"lineAlign",m({},b,{get:function(){return L},set:function(I){var O=u(I);if(!O)throw new SyntaxError("An invalid or illegal string was specified.");L=O,this.hasBeenReset=!0}})),Object.defineProperty(f,"position",m({},b,{get:function(){return x},set:function(I){if(I<0||I>100)throw new Error("Position must be between 0 and 100.");x=I,this.hasBeenReset=!0}})),Object.defineProperty(f,"positionAlign",m({},b,{get:function(){return D},set:function(I){var O=u(I);if(!O)throw new SyntaxError("An invalid or illegal string was specified.");D=O,this.hasBeenReset=!0}})),Object.defineProperty(f,"size",m({},b,{get:function(){return k},set:function(I){if(I<0||I>100)throw new Error("Size must be between 0 and 100.");k=I,this.hasBeenReset=!0}})),Object.defineProperty(f,"align",m({},b,{get:function(){return R},set:function(I){var O=u(I);if(!O)throw new SyntaxError("An invalid or illegal string was specified.");R=O,this.hasBeenReset=!0}})),f.displayState=void 0}return p.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},p}()},"./src/utils/vttparser.ts":function(t,e,n){n.r(e),n.d(e,"parseTimeStamp",function(){return o}),n.d(e,"fixLineBreaks",function(){return v}),n.d(e,"VTTParser",function(){return f});var i=n("./src/utils/vttcue.ts"),s=function(){function b(){}return b.prototype.decode=function(S,d){if(!S)return"";if(typeof S!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(S))},b}();function o(b){function S(h,c,g,T){return 3600*(0|h)+60*(0|c)+(0|g)+parseFloat(T||0)}var d=b.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return d?parseFloat(d[2])>59?S(d[2],d[3],0,d[4]):S(d[1],d[2],d[3],d[4]):null}var u=function(){function b(){this.values=Object.create(null)}var S=b.prototype;return S.set=function(d,h){this.get(d)||h===""||(this.values[d]=h)},S.get=function(d,h,c){return c?this.has(d)?this.values[d]:h[c]:this.has(d)?this.values[d]:h},S.has=function(d){return d in this.values},S.alt=function(d,h,c){for(var g=0;g<c.length;++g)if(h===c[g]){this.set(d,h);break}},S.integer=function(d,h){/^-?\d+$/.test(h)&&this.set(d,parseInt(h,10))},S.percent=function(d,h){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(h)){var c=parseFloat(h);if(c>=0&&c<=100)return this.set(d,c),!0}return!1},b}();function m(b,S,d,h){var c=h?b.split(h):[b];for(var g in c)if(typeof c[g]=="string"){var T=c[g].split(d);T.length===2&&S(T[0],T[1])}}var p=new i.default(0,0,""),l=p.align==="middle"?"middle":"center";function y(b,S,d){var h=b;function c(){var T=o(b);if(T===null)throw new Error("Malformed timestamp: "+h);return b=b.replace(/^[^\sa-zA-Z-]+/,""),T}function g(){b=b.replace(/^\s+/,"")}if(g(),S.startTime=c(),g(),b.substr(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+h);b=b.substr(3),g(),S.endTime=c(),g(),function(T,E){var A=new u;m(T,function(x,D){var k;switch(x){case"region":for(var R=d.length-1;R>=0;R--)if(d[R].id===D){A.set(x,d[R].region);break}break;case"vertical":A.alt(x,D,["rl","lr"]);break;case"line":k=D.split(","),A.integer(x,k[0]),A.percent(x,k[0])&&A.set("snapToLines",!1),A.alt(x,k[0],["auto"]),k.length===2&&A.alt("lineAlign",k[1],["start",l,"end"]);break;case"position":k=D.split(","),A.percent(x,k[0]),k.length===2&&A.alt("positionAlign",k[1],["start",l,"end","line-left","line-right","auto"]);break;case"size":A.percent(x,D);break;case"align":A.alt(x,D,["start",l,"end","left","right"])}},/:/,/\s/),E.region=A.get("region",null),E.vertical=A.get("vertical","");var w=A.get("line","auto");w==="auto"&&p.line===-1&&(w=-1),E.line=w,E.lineAlign=A.get("lineAlign","start"),E.snapToLines=A.get("snapToLines",!0),E.size=A.get("size",100),E.align=A.get("align",l);var L=A.get("position","auto");L==="auto"&&p.position===50&&(L=E.align==="start"||E.align==="left"?0:E.align==="end"||E.align==="right"?100:50),E.position=L}(b,S)}function v(b){return b.replace(/<br(?: \/)?>/gi,`
`)}var f=function(){function b(){this.state="INITIAL",this.buffer="",this.decoder=new s,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var S=b.prototype;return S.parse=function(d){var h=this;function c(){var w=h.buffer,L=0;for(w=v(w);L<w.length&&w[L]!=="\r"&&w[L]!==`
`;)++L;var x=w.substr(0,L);return w[L]==="\r"&&++L,w[L]===`
`&&++L,h.buffer=w.substr(L),x}d&&(h.buffer+=h.decoder.decode(d,{stream:!0}));try{var g="";if(h.state==="INITIAL"){if(!/\r\n|\n/.test(h.buffer))return this;var T=(g=c()).match(/^()?WEBVTT([ \t].*)?$/);if(!T||!T[0])throw new Error("Malformed WebVTT signature.");h.state="HEADER"}for(var E=!1;h.buffer;){if(!/\r\n|\n/.test(h.buffer))return this;switch(E?E=!1:g=c(),h.state){case"HEADER":/:/.test(g)?m(g,function(w,L){},/:/):g||(h.state="ID");continue;case"NOTE":g||(h.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(g)){h.state="NOTE";break}if(!g)continue;if(h.cue=new i.default(0,0,""),h.state="CUE",g.indexOf("-->")===-1){h.cue.id=g;continue}case"CUE":if(!h.cue){h.state="BADCUE";continue}try{y(g,h.cue,h.regionList)}catch{h.cue=null,h.state="BADCUE";continue}h.state="CUETEXT";continue;case"CUETEXT":var A=g.indexOf("-->")!==-1;if(!g||A&&(E=!0)){h.oncue&&h.cue&&h.oncue(h.cue),h.cue=null,h.state="ID";continue}if(h.cue===null)continue;h.cue.text&&(h.cue.text+=`
`),h.cue.text+=g;continue;case"BADCUE":g||(h.state="ID")}}}catch{h.state==="CUETEXT"&&h.cue&&h.oncue&&h.oncue(h.cue),h.cue=null,h.state=h.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},S.flush=function(){var d=this;try{if((d.cue||d.state==="HEADER")&&(d.buffer+=`

`,d.parse()),d.state==="INITIAL"||d.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(h){d.onparsingerror&&d.onparsingerror(h)}return d.onflush&&d.onflush(),this},b}()},"./src/utils/webvtt-parser.ts":function(t,e,n){n.r(e),n.d(e,"generateCueId",function(){return v}),n.d(e,"parseWebVTT",function(){return f});var i=n("./src/polyfills/number.ts"),s=n("./src/utils/vttparser.ts"),o=n("./src/demux/id3.ts"),u=n("./src/utils/timescale-conversion.ts"),m=n("./src/remux/mp4-remuxer.ts"),p=/\r\n|\n\r|\n|\r/g,l=function(b,S,d){return d===void 0&&(d=0),b.substr(d,S.length)===S},y=function(b){for(var S=5381,d=b.length;d;)S=33*S^b.charCodeAt(--d);return(S>>>0).toString()};function v(b,S,d){return y(b.toString())+y(S.toString())+y(d)}function f(b,S,d,h,c,g,T,E){var A,w=new s.VTTParser,L=Object(o.utf8ArrayToStr)(new Uint8Array(b)).trim().replace(p,`
`).split(`
`),x=[],D=Object(u.toMpegTsClockFromTimescale)(S,d),k="00:00.000",R=0,I=0,O=!0,P=!1;w.oncue=function(F){var U=h[c],B=h.ccOffset,H=(R-D)/9e4;if(U!=null&&U.new&&(I!==void 0?B=h.ccOffset=U.start:function(rt,ot,J){var W=rt[ot],st=rt[W.prevCC];if(!st||!st.new&&W.new)return rt.ccOffset=rt.presentationOffset=W.start,void(W.new=!1);for(;(it=st)!==null&&it!==void 0&&it.new;){var it;rt.ccOffset+=W.start-st.start,W.new=!1,st=rt[(W=st).prevCC]}rt.presentationOffset=J}(h,c,H)),H&&(B=H-h.presentationOffset),P){var V=F.endTime-F.startTime,q=Object(m.normalizePts)(9e4*(F.startTime+B-I),9e4*g)/9e4;F.startTime=q,F.endTime=q+V}var et=F.text.trim();F.text=decodeURIComponent(encodeURIComponent(et)),F.id||(F.id=v(F.startTime,F.endTime,et)),F.endTime>0&&x.push(F)},w.onparsingerror=function(F){A=F},w.onflush=function(){A?E(A):T(x)},L.forEach(function(F){if(O){if(l(F,"X-TIMESTAMP-MAP=")){O=!1,P=!0,F.substr(16).split(",").forEach(function(U){l(U,"LOCAL:")?k=U.substr(6):l(U,"MPEGTS:")&&(R=parseInt(U.substr(7)))});try{I=function(U){var B=parseInt(U.substr(-3)),H=parseInt(U.substr(-6,2)),V=parseInt(U.substr(-9,2)),q=U.length>9?parseInt(U.substr(0,U.indexOf(":"))):0;if(!(Object(i.isFiniteNumber)(B)&&Object(i.isFiniteNumber)(H)&&Object(i.isFiniteNumber)(V)&&Object(i.isFiniteNumber)(q)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+U);return B+=1e3*H,(B+=6e4*V)+36e5*q}(k)/1e3}catch(U){P=!1,A=U}return}F===""&&(O=!1)}w.parse(F+`
`)}),w.flush()}},"./src/utils/xhr-loader.ts":function(t,e,n){n.r(e);var i=n("./src/utils/logger.ts"),s=n("./src/loader/load-stats.ts"),o=/^age:\s*[\d.]+\s*$/m,u=function(){function m(l){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=l?l.xhrSetup:null,this.stats=new s.LoadStats,this.retryDelay=0}var p=m.prototype;return p.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},p.abortInternal=function(){var l=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),l&&(l.onreadystatechange=null,l.onprogress=null,l.readyState!==4&&(this.stats.aborted=!0,l.abort()))},p.abort=function(){var l;this.abortInternal(),(l=this.callbacks)!==null&&l!==void 0&&l.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},p.load=function(l,y,v){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=l,this.config=y,this.callbacks=v,this.retryDelay=y.retryDelay,this.loadInternal()},p.loadInternal=function(){var l=this.config,y=this.context;if(l){var v=this.loader=new self.XMLHttpRequest,f=this.stats;f.loading.first=0,f.loaded=0;var b=this.xhrSetup;try{if(b)try{b(v,y.url)}catch{v.open("GET",y.url,!0),b(v,y.url)}v.readyState||v.open("GET",y.url,!0)}catch(S){return void this.callbacks.onError({code:v.status,text:S.message},y,v)}y.rangeEnd&&v.setRequestHeader("Range","bytes="+y.rangeStart+"-"+(y.rangeEnd-1)),v.onreadystatechange=this.readystatechange.bind(this),v.onprogress=this.loadprogress.bind(this),v.responseType=y.responseType,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),l.timeout),v.send()}},p.readystatechange=function(){var l=this.context,y=this.loader,v=this.stats;if(l&&y){var f=y.readyState,b=this.config;if(!v.aborted&&f>=2)if(self.clearTimeout(this.requestTimeout),v.loading.first===0&&(v.loading.first=Math.max(self.performance.now(),v.loading.start)),f===4){y.onreadystatechange=null,y.onprogress=null;var S=y.status;if(S>=200&&S<300){var d,h;if(v.loading.end=Math.max(self.performance.now(),v.loading.first),h=l.responseType==="arraybuffer"?(d=y.response).byteLength:(d=y.responseText).length,v.loaded=v.total=h,!this.callbacks)return;var c=this.callbacks.onProgress;if(c&&c(v,l,d,y),!this.callbacks)return;var g={url:y.responseURL,data:d};this.callbacks.onSuccess(g,v,l,y)}else v.retry>=b.maxRetry||S>=400&&S<499?(i.logger.error(S+" while loading "+l.url),this.callbacks.onError({code:S,text:y.statusText},l,y)):(i.logger.warn(S+" while loading "+l.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,b.maxRetryDelay),v.retry++)}else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),b.timeout)}},p.loadtimeout=function(){i.logger.warn("timeout while loading "+this.context.url);var l=this.callbacks;l&&(this.abortInternal(),l.onTimeout(this.stats,this.context,this.loader))},p.loadprogress=function(l){var y=this.stats;y.loaded=l.loaded,l.lengthComputable&&(y.total=l.total)},p.getCacheAge=function(){var l=null;if(this.loader&&o.test(this.loader.getAllResponseHeaders())){var y=this.loader.getResponseHeader("age");l=y?parseFloat(y):null}return l},m}();e.default=u}}).default);var mc=U6(R0.exports);const $6={name:"d-icon"},lr=Object.assign($6,{props:{icon:String,size:[Number,String]},setup:function(t){const e=t,n=jt(()=>({fontSize:/^\d+$/.test(e.size)?e.size+"px":e.size}));return(i,s)=>(N(),$("i",{class:Kt(["d-icon iconfont",t.icon]),style:cn(X(n))},null,6))}});lr.__scopeId="data-v-0c690e66";de("data-v-4cb76d59");const G6={class:"d-player-top"},H6={class:"top-title"},j6={class:"top-title"};fe();const K6={props:{title:{default:""}},setup(t){Date.prototype.format=function(i){let s={"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds()};for(var o in s)new RegExp("("+o+")").test(i)&&(i=i.replace(RegExp.$1,RegExp.$1.length==1?s[o]:("00"+s[o]).substr((""+s[o]).length)));return i};let e=Z("00:00:00");e.value=new Date().format("hh:mm:ss");let n=null;return n=setInterval(()=>{e.value=new Date().format("hh:mm:ss")},1e3),jr(()=>{clearInterval(n)}),(i,s)=>(N(),$("div",G6,[_("p",H6,Q(t.title||""),1),_("p",j6,Q(X(e)),1)]))},__scopeId:"data-v-4cb76d59"};de("data-v-ac2469ec");const V6={class:"d-status"},W6={class:"d-flex-center"},z6={class:"d-flex-center"},Y6=Vt("5X\u901F\u64AD\u653E\u4E2D ");fe();var x0=Ee({props:["state"],setup:t=>(e,n)=>Le((N(),$("div",V6,[Le(_("li",W6,[at(lr,{size:"18",class:"d-status-icon",icon:"icon-volume-"+(t.state.volume==0?"mute":t.state.volume>.5?"up":"down")},null,8,["icon"]),Vt(" "+Q(~~(100*t.state.volume))+"% ",1)],512),[[Ze,t.state.handleType=="volume"]]),Le(_("li",z6,[at(lr,{size:"12",icon:"icon-play"}),at(lr,{size:"12",icon:"icon-play",style:{"margin-right":"5px"}}),Y6],512),[[Ze,t.state.handleType=="playbackRate"||t.state.isMultiplesPlay]])],512)),[[Ze,t.state.handleType||t.state.isMultiplesPlay]])});x0.__scopeId="data-v-ac2469ec",de("data-v-385f7870");const q6=["checked","true-value","false-value"],Q6=_("span",{class:"d-switch_action"},null,-1);fe();var nl=Ee({props:{modelValue:{type:[Number,String,Boolean]},width:{type:String,default:"40px"},trueValue:{type:[Number,String,Boolean],default:!0},falseValue:{type:[Number,String,Boolean],default:!0},activeColor:{type:[String],default:"#409EFF"}},emits:["update:modelValue","change"],setup(t,{emit:e}){const n=t;md(u=>({"014e5dc0":t.width,e4e32852:t.activeColor}));const i=Z(null),s=jt(()=>n.modelValue===n.trueValue),o=()=>{Xt(()=>{const u=i.value.checked;e("update:modelValue",u),e("change",u)})};return(u,m)=>(N(),$("div",{class:Kt(["d-switch",{"is-checked":X(s)}])},[_("input",{class:"d-switch__input",ref:i,type:"checkbox",checked:X(s),onChange:o,"true-value":t.trueValue,"false-value":t.falseValue},null,40,q6),Q6],2))}});nl.__scopeId="data-v-385f7870",de("data-v-b2384226");const Z6={key:0},J6=_("i",{class:"rotating iconfont icon-loading f50"},null,-1),X6=[_("i",{class:"rotating iconfont icon-loading f50"},null,-1),_("p",null,"\u6B63\u5728\u7F13\u51B2...",-1)],t7=[_("i",{class:"iconfont icon-replay f24 mr5"},null,-1),Vt("\u91CD\u65B0\u64AD\u653E ")],e7=[_("i",{class:"iconfont icon-replay f24 mr5"},null,-1),Vt("\u8BF7\u6C42\u9519\u8BEF ")];fe();var I0=Ee({props:{loadType:String,text:{type:String,default:""}},setup(t){const e=t,{proxy:n}=jn(),i=["loadstart","waiting","ended","error","stalled"],s=()=>{n.$parent.play()},o=jt(()=>{let u="background: rgba(0, 0, 0, .1);z-index:1";return e.loadType=="loadstart"&&(u="background: rgba(0, 0, 0, 1);;z-index:3"),u});return(u,m)=>Le((N(),$("div",{class:"d-loading",style:cn(X(o))},[_("div",null,[t.loadType=="loadstart"?(N(),$("span",Z6,[J6,_("p",null,Q(t.text),1)])):pt("",!0),Le(_("span",null,X6,512),[[Ze,t.loadType=="waiting"]]),Le(_("span",null,[_("p",{onClick:s,class:"d-flex-x d-pointer"},t7)],512),[[Ze,t.loadType=="ended"]]),Le(_("span",null,[_("p",{onClick:s,class:"d-flex-x d-pointer"},e7)],512),[[Ze,t.loadType=="error"||t.loadType=="stalled"]])])],4)),[[Ze,i.includes(t.loadType)]])}});I0.__scopeId="data-v-b2384226";const Gi=function(t,e,n,i=!1){t&&e&&n&&t.addEventListener(e,n,i)},Gn=function(t,e,n,i=!1){t&&e&&n&&t.removeEventListener(e,n,i)};de("data-v-5a794390");const n7=["onMousedown"];fe();var bs=Ee(qc(Yc({},{name:"DSlider"}),{props:{modelValue:{required:!0,type:Number,default:0},disabled:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},hover:{type:Boolean,default:!0},hoverText:{type:String,default:""},preload:{type:Number,default:0},size:{type:String,default:"10px"}},emits:["update:modelValue","change","onMousemove"],setup:function(t,{emit:e}){const n=t;md(h=>({"5242b67b":t.size}));const i=Z(null),s=Z(null),o=Je({dragging:!1,hoverPosition:0,hoverTipsLeft:"50%"}),u=jt(()=>{let h=n.modelValue<0?0:n.modelValue>1?1:n.modelValue;return n.vertical?`height:${100*h}%`:`width:${100*h}%`}),m=jt(()=>{let h=n.preload<0?0:n.preload>1?1:n.preload;return n.vertical?`height:${100*h}%`:`width:${100*h}%`}),p=jt(()=>{let h=o.hoverPosition<0?0:o.hoverPosition>1?1:o.hoverPosition;return n.vertical?`bottom:${100*h}%`:`left:${100*h}%`}),l=h=>{h.preventDefault()},y=h=>{n.disabled||(h.preventDefault(),o.dragging=!0,f(h),Gi(window,"mousemove",S),Gi(window,"touchmove",S),Gi(window,"mouseup",d),Gi(window,"touchend",d))},v=h=>{if(!n.hover)return;let c=b(h);if(e("onMousemove",h,c),o.hoverPosition=c,n.vertical)return;let g=i.value,T=s.value.clientWidth/2,E=h.clientX-g.getBoundingClientRect().left;E<T?o.hoverTipsLeft=T-E+"px":g.clientWidth-E<T?o.hoverTipsLeft=g.clientWidth-E-T+"px":o.hoverTipsLeft="50%"},f=h=>{let c=b(h);e("update:modelValue",c),e("change",h,c)},b=h=>{let c=i.value,g=0;if(n.vertical){let T=c.clientHeight;g=(c.getBoundingClientRect().bottom-h.clientY)/T}else g=(h.clientX-c.getBoundingClientRect().left)/c.clientWidth;return g<0?0:g>1?1:g},S=h=>{f(h)},d=h=>{o.dragging&&(Gn(window,"mousemove",S),Gn(window,"touchmove",S),Gn(window,"mouseup",d),Gn(window,"touchend",d),Gn(window,"contextmenu",d),setTimeout(()=>{o.dragging=!1},0))};return(h,c)=>(N(),$("div",{ref:i,class:Kt(["d-slider",{"is-vertical":n.vertical}]),onMousedown:Qe(y,["stop"]),onContextmenu:l},[_("div",{class:"d-slider__runway",onMousemove:v},[Le(_("div",{class:"d-slider__cursor",style:cn(X(p))},[Le(_("div",{class:"d-slider__tips",ref:s,style:cn({left:X(o).hoverTipsLeft})},Q(n.hoverText),5),[[Ze,n.hoverText]])],4),[[Ze,n.hover]]),_("div",{class:"d-slider__preload",style:cn(X(m))},null,4),_("div",{class:"d-slider__bar",style:cn(X(u))},null,4)],32)],42,n7))}}));bs.__scopeId="data-v-5a794390";de("data-v-570fa0d1");const r7={key:0,class:"d-player-dialog"},i7={class:"d-player-dialog-body"},s7={class:"d-player-dialog-title"},a7={class:"d-player-hotkey-panel"},o7={class:"d-player-filter-panel"},l7={class:"d-player-filter-panel-item"},u7=_("span",null,"\u9971\u548C\u5EA6",-1),c7={class:"d-player-filter-panel-item"},d7=_("span",null,"\u4EAE\u5EA6",-1),f7={class:"d-player-filter-panel-item"},h7=_("span",null,"\u5BF9\u6BD4\u5EA6",-1),g7={key:0,class:"d-player-contextmenu"},v7=["dplayerKeyCode"],p7=_("input",{class:"d-player-copyText"},null,-1);fe();var L0=Ee({setup(t){const e=Je({show:!1,dialogType:"",dialogTitle:"",version:"1.3.1-beta.6",mouseX:0,mouseY:0}),n=[{label:"\u89C6\u9891\u8272\u5F69\u8C03\u6574",key:"filter"},{label:"\u5FEB\u6377\u952E\u8BF4\u660E",key:"hotkey"},{label:"\u590D\u5236\u89C6\u9891\u7F51\u5740",key:"copy"},{label:"\u7248\u672C\uFF1A1.3.1-beta.6",key:"version"}],i=[{key:"Space",label:"\u64AD\u653E/\u6682\u505C"},{key:"\u2192",label:"\u5355\u6B21\u5FEB\u8FDB10s\uFF0C\u957F\u63095\u500D\u901F\u64AD\u653E"},{key:"\u2190",label:"\u5FEB\u90005s"},{key:"\u2191",label:"\u97F3\u91CF\u589E\u52A010%"},{key:"\u2193",label:"\u97F3\u91CF\u589E\u52A0\u964D\u4F4E10%"},{key:"Esc",label:"\u9000\u51FA\u5168\u5C4F/\u9000\u51FA\u7F51\u9875\u5168\u5C4F"},{key:"F",label:"\u5168\u5C4F/\u9000\u51FA\u5168\u5C4F"}],s=Je({saturate:.392,brightness:.392,contrast:.392}),o=jt(()=>({left:e.mouseX+"px",top:e.mouseY+"px"}));ce(s,y=>{let v=document.querySelector("#dPlayerVideo"),f=(2.55*y.saturate).toFixed(2),b=(2.55*y.brightness).toFixed(2),S=(2.55*y.contrast).toFixed(2);v.style.filter=`saturate(${f}) brightness(${b}) contrast(${S})`});const u=()=>{s.saturate=.392,s.brightness=.392,s.contrast=.392},m=y=>{y.key=="Escape"&&l(0)},p=y=>{y.preventDefault(),Gi(window,"keydown",m),Gi(window,"click",l);let v=document.querySelector("#refPlayerWrap"),f=v.clientWidth;v.clientHeight,e.mouseX=y.clientX-v.getBoundingClientRect().left,f-e.mouseX<130&&(e.mouseX=e.mouseX+(f-e.mouseX-130)),e.mouseY=y.clientY-v.getBoundingClientRect().top,e.show=!0},l=y=>{let v=y.path[0].tagName=="LI",f=y.path[0].attributes.dplayerKeyCode&&y.path[0].attributes.dplayerKeyCode.value,b=n.map(S=>S.key);if(v&&b.includes(f))if(e.dialogTitle=y.path[0].innerText,e.dialogType=f,f=="copy"){let S=document.querySelector(".d-player-copyText");S.value=window.location.href,S.select(),document.execCommand("copy"),e.dialogType=""}else f=="version"&&(e.dialogType="");e.show=!1,Gn(window,"keydown",m),Gn(window,"click",l)};return hn(()=>{let y=document.querySelector("#refPlayerWrap");Gn(window,"keydown",m),Gn(window,"click",l),Gn(y,"contextmenu",p),Gi(y,"contextmenu",p)}),jr(()=>{let y=document.querySelector("#refPlayerWrap");Gn(window,"keydown",m),Gn(window,"click",l),Gn(y,"contextmenu",p)}),(y,v)=>(N(),$("div",null,[at(Vi,{name:"d-fade-in"},{default:Jt(()=>[X(e).dialogType?(N(),$("div",r7,[_("div",i7,[_("h5",s7,[Vt(Q(X(e).dialogTitle)+" ",1),_("i",{onClick:v[0]||(v[0]=f=>X(e).dialogType=!1),class:"icon icon-close"},"X")]),Le(_("ul",a7,[(N(),$(ht,null,At(i,f=>_("li",{class:"d-player-hotkey-panel-item",key:f.key},[_("span",null,Q(f.key),1),_("span",null,Q(f.label),1)])),64))],512),[[Ze,X(e).dialogType=="hotkey"]]),Le(_("ul",o7,[_("li",l7,[u7,at(bs,{class:"filter-panel-slider",size:"5px",modelValue:X(s).saturate,"onUpdate:modelValue":v[1]||(v[1]=f=>X(s).saturate=f)},null,8,["modelValue"]),_("span",null,Q(Math.round(255*X(s).saturate)),1)]),_("li",c7,[d7,at(bs,{class:"filter-panel-slider",size:"5px",modelValue:X(s).brightness,"onUpdate:modelValue":v[2]||(v[2]=f=>X(s).brightness=f)},null,8,["modelValue"]),_("span",null,Q(Math.round(255*X(s).brightness)),1)]),_("li",f7,[h7,at(bs,{class:"filter-panel-slider",size:"5px",modelValue:X(s).contrast,"onUpdate:modelValue":v[3]||(v[3]=f=>X(s).contrast=f)},null,8,["modelValue"]),_("span",null,Q(Math.round(255*X(s).contrast)),1)]),_("span",{onClick:u,title:"\u91CD\u7F6E","aria-label":"\u91CD\u7F6E",class:"d-player-filter-reset"},"\u91CD\u7F6E")],512),[[Ze,X(e).dialogType=="filter"]])])])):pt("",!0)]),_:1}),X(e).show?(N(),$("div",g7,[_("ul",{class:"d-player-contextmenu-body",style:cn(X(o))},[(N(),$(ht,null,At(n,f=>_("li",{dplayerKeyCode:f.key,key:f.key},Q(f.label),9,v7)),64))],4),p7])):pt("",!0)]))}});L0.__scopeId="data-v-570fa0d1";const yc=t=>{let e=~~(t/3600),n=~~(t%3600/60),i=~~(t%60);return e=e<10?"0"+e:e,n=n<10?"0"+n:n,i=i<10?"0"+i:i,`${e}:${n}:${i}`},va="ontouchstart"in window,Qv=["loadstart","play","pause","playing","seeking","seeked","waiting","durationchange","progress","canplay","timeupdate","ended","error","stalled"],m7={width:{type:String,default:"800px"},height:{type:String,default:"450px"},color:{type:String,default:"#409eff"},src:{required:!0,type:String,default:""},title:{type:String,default:""},type:{type:String,default:"video/mp4"},poster:{type:String,default:""},webFullScreen:{type:Boolean,default:!1},speed:{type:Boolean,default:!0},currentTime:{type:Number,default:0},playsinline:{type:Boolean,default:!1},muted:{type:Boolean,default:!1},speedRate:{type:Array,default:()=>["2.0","1.5","1.25","1.0","0.75","0.5"]},autoPlay:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},mirror:{type:Boolean,default:!1},ligthOff:{type:Boolean,default:!1},volume:{type:[String,Number],default:.3},control:{type:Boolean,default:!0},controlBtns:{type:Array,default:["audioTrack","quality","speedRate","volume","setting","pip","pageFullScreen","fullScreen"]},preload:{type:String,default:"auto"}};de("data-v-01791e9e");const y7={class:"d-player-video",id:"dPlayerVideo"},_7=["controls","webkit-playsinline","playsinline","volume","muted","loop","preload","src","poster"],A7={class:"d-player-lightoff"},E7={key:1,class:"d-player-state"},b7={class:"d-play-btn"},T7=["onKeyup","onKeydown"],S7={class:"d-control-progress"},k7={class:"d-tool-bar"},w7={key:0,class:"d-tool-item d-tool-time audioTrack-btn"},C7=_("span",{style:{margin:"0 3px"}},"/",-1),R7={class:"total-time"},x7={class:"d-tool-bar"},I7={key:0,class:"d-tool-item quality-btn"},L7={class:"d-tool-item-main"},D7={class:"speed-main",style:{"text-align":"center"}},O7=["onClick"],P7={key:1,class:"d-tool-item speedRate-btn"},F7={class:"d-tool-item-main"},M7={class:"speed-main"},B7=["onClick"],N7={key:2,class:"d-tool-item volume-btn"},U7={class:"d-tool-item-main volume-box",style:{width:"52px"}},$7={class:"volume-text-size"},G7={key:3,class:"d-tool-item setting-btn"},H7={class:"d-tool-item-main"},j7={class:"speed-main"},K7=Vt(" \u955C\u50CF\u753B\u9762 "),V7=Vt(" \u5FAA\u73AF\u64AD\u653E "),W7=Vt(" \u5173\u706F\u6A21\u5F0F "),z7=_("div",{class:"d-tool-item-main"},"\u753B\u4E2D\u753B",-1),Y7=_("div",{class:"d-tool-item-main"},"\u7F51\u9875\u5168\u5C4F",-1),q7=_("div",{class:"d-tool-item-main"},"\u5168\u5C4F",-1);fe();var Ba=Ee(qc(Yc({},{name:"vue3VideoPlay",inheritAttrs:!1}),{props:m7,emits:[...Qv,"mirrorChange","loopChange","lightOffChange"],setup:function(t,{expose:e,emit:n}){const i=t;md(B=>({"51d4439c":X(b),"77e758a6":B.width,b8a1afc0:B.height}));const s=new mc({fragLoadingTimeOut:2e3}),o=Z(null),u=Z(null),m=Z(null),p=Z(null),l=Je(qc(Yc({dVideo:null},i),{muted:i.muted,playBtnState:i.autoPlay?"pause":"play",loadStateType:"loadstart",fullScreen:!1,handleType:"",currentTime:"00:00:00",preloadBar:0,totalTime:"00:00:00",isVideoHovering:!0,speedActive:"1.0",playProgress:0,isMultiplesPlay:!1,longPressTimeout:null,progressCursorTime:"00:00:00",qualityLevels:[],currentLevel:0})),y=(...B)=>H=>B.reverse().reduce((V,q)=>q(V),H),v=Qv.reduce((B,H)=>{var V;return B[`on${V=H,V.charAt(0).toUpperCase()+V.slice(1)}`]=q=>{l.loadStateType=H,n(H,q)},B},{});v.onCanplay=y(v.onCanplay,()=>{l.playBtnState!="play"&&l.dVideo.play(),l.autoPlay&&(l.dVideo.play(),l.playBtnState="pause")}),v.onEnded=y(v.onEnded,()=>{l.playBtnState="replay"}),v.onDurationchange=B=>{n("durationchange",B),i.currentTime!=0&&(l.dVideo.currentTime=i.currentTime),v.onTimeupdate(B)},v.onProgress=B=>{console.log("\u7F13\u51B2\u4E2D..."),n("progress",B);let H=B.target.duration,V=B.target.buffered,q=B.target.buffered.length&&B.target.buffered.end(V-1);l.preloadBar=q/H},v.onTimeupdate=B=>{n("timeupdate",B);let H=B.duration||B.target.duration||0,V=B.currentTime||B.target.currentTime;l.playProgress=V/H,l.currentTime=yc(V),l.totalTime=yc(H)},v.onError=y(v.onError,()=>{l.playBtnState="replay"});let f=nw();for(let B in f)v[B]=f[B];const b=(S=l.color,`${parseInt("0x"+S.slice(1,3))},${parseInt("0x"+S.slice(3,5))},${parseInt("0x"+S.slice(5,7))}`);var S;const d=qv(500,()=>{l.handleType=""}),h=B=>{B.preventDefault(),B.code=="ArrowUp"?l.volume=l.volume+.1>1?1:l.volume+.1:l.volume=l.volume-.1<0?0:l.volume-.1,l.muted=!1,l.handleType="volume",d()},c=B=>{i.speed&&(l.dVideo.currentTime=l.dVideo.currentTime<10?.1:l.dVideo.currentTime-10,v.onTimeupdate(l.dVideo),E())},g=B=>{B.preventDefault();let H=B.type;if(B.key=="ArrowRight"){if(E(),H=="keyup"){if(clearTimeout(l.longPressTimeout),!i.speed&&!l.longPressTimeout)return;l.isMultiplesPlay?(l.dVideo.playbackRate=l.speedActive,l.isMultiplesPlay=!1):(l.dVideo.currentTime=l.dVideo.currentTime+10,v.onTimeupdate(l.dVideo))}else if(H=="keydown"){if(!i.speed)return;l.isMultiplesPlay&&clearTimeout(l.longPressTimeout),l.longPressTimeout=setTimeout(()=>{l.isMultiplesPlay=!0,l.dVideo.playbackRate=5,l.handleType="playbackRate",d()},500)}}},T=()=>{va||p.value.focus()},E=()=>{l.loadStateType="play",l.dVideo.play().catch(()=>{setTimeout(()=>{l.playBtnState="replay",l.loadStateType="error"},500)}),l.playBtnState="pause"},A=()=>{l.dVideo.pause(),l.playBtnState="play"},w=B=>{B&&B.preventDefault(),l.playBtnState=="play"||l.playBtnState=="replay"?E():l.playBtnState=="pause"&&A()},L=()=>{l.muted=!l.muted,l.volume==0&&(l.volume=.05)},x=(B,H)=>{let V=l.dVideo.duration||l.dVideo.target.duration;l.dVideo.currentTime=V*H,l.playBtnState=="play"&&(l.dVideo.play(),l.playBtnState="pause")},D=(B,H)=>{l.progressCursorTime=yc(l.dVideo.duration*H)},k=qv(2500,()=>{l.isVideoHovering=!1}),R=B=>{l.isVideoHovering=!0,k()},I=B=>{n("mirrorChange",B,l.dVideo)},O=B=>{n("loopChange",B,l.dVideo)},P=B=>{n("lightOffChange",B,l.dVideo)},F=()=>{var B;B=l.dVideo,document.pictureInPictureElement?document.exitPictureInPicture().catch(H=>{console.log(H,"Video failed to leave Picture-in-Picture mode.")}):B.requestPictureInPicture().catch(H=>{console.log(H,"Video failed to enter Picture-in-Picture mode.")})},U=()=>{l.fullScreen=(B=>{let H=document,V=H.webkitIsFullScreen||H.fullscreen;return V?(document.exitFullscreen||H.webkitExitFullScreen).call(H):(B.requestFullscreen||B.webkitRequestFullScreen).call(B),!V})(o.value)};return ce(()=>i.src,()=>{Xt(()=>{l.dVideo.canPlayType(i.type)||l.dVideo.canPlayType("application/vnd.apple.mpegurl")?l.muted=i.autoPlay:mc.isSupported()&&(s.detachMedia(),s.attachMedia(l.dVideo),s.on(mc.Events.MEDIA_ATTACHED,()=>{s.loadSource(i.src),s.on("hlsManifestParsed",(B,H)=>{console.log(H),l.currentLevel=H.level,l.qualityLevels=H.levels||[]})}),s.on("hlsLevelSwitching",(B,H)=>{console.log(H),console.log("LEVEL_SWITCHING")}),s.on("hlsLevelSwitched",(B,H)=>{l.currentLevel=H.level,console.log("LEVEL_SWITCHED")}))})},{immediate:!0}),hn(()=>{l.dVideo=u,T()}),e({play:E,pause:A,togglePlay:w}),(B,H)=>(N(),$("div",{ref:o,id:"refPlayerWrap",class:Kt(["d-player-wrap",{"web-full-screen":X(l).webFullScreen,"is-lightoff":X(l).lightOff,"d-player-wrap-hover":X(l).playBtnState=="play"||X(l).isVideoHovering}]),onMousemove:R},[_("div",y7,[_("video",nr({ref:u,class:["d-player-video-main",{"video-mirror":X(l).mirror}],id:"dPlayerVideoMain",controls:!(!X(va)||!X(l).speed),"webkit-playsinline":i.playsinline,playsinline:i.playsinline},X(v),{volume:X(l).volume,muted:X(l).muted,loop:X(l).loop,preload:B.preload,width:"100%",height:"100%",src:i.src,poster:i.poster}),"\u60A8\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301Video\u6807\u7B7E\u3002",16,_7)]),at(Vi,{name:"d-fade-in"},{default:Jt(()=>[Le(_("div",A7,null,512),[[Ze,X(l).lightOff]])]),_:1}),X(l).fullScreen?(N(),ie(K6,{key:0,title:i.title},null,8,["title"])):pt("",!0),X(va)?pt("",!0):(N(),$("div",E7,[at(Vi,{name:"d-scale-out"},{default:Jt(()=>[Le(_("div",b7,[at(lr,{icon:"icon-play",size:40})],512),[[Ze,X(l).playBtnState=="play"]])]),_:1}),at(x0,{state:X(l)},null,8,["state"])])),X(va)?pt("",!0):(N(),$("input",{key:2,type:"input",readonly:"readonly",ref:p,onDblclick:U,onKeyup:[aa(U,["f"]),H[0]||(H[0]=aa(V=>X(l).webFullScreen=!1,["esc"])),g],onClick:w,onKeydown:[aa(w,["space"]),aa(c,["arrow-left"]),aa(h,["arrow-up","arrow-down"]),g],class:"d-player-input",maxlength:"0"},null,40,T7)),at(I0,{loadType:X(l).loadStateType},null,8,["loadType"]),at(L0),!X(va)&&X(l).control?(N(),$("div",{key:3,class:"d-player-control",ref:m},[_("div",S7,[at(bs,{class:"d-progress-bar",onOnMousemove:D,onChange:x,disabled:!X(l).speed,hoverText:X(l).progressCursorTime,modelValue:X(l).playProgress,"onUpdate:modelValue":H[1]||(H[1]=V=>X(l).playProgress=V),preload:X(l).preloadBar},null,8,["disabled","hoverText","modelValue","preload"])]),_("div",{class:"d-control-tool",onClick:T},[_("div",k7,[_("div",{class:"d-tool-item",onClick:w},[at(lr,{size:"24",icon:`icon-${X(l).playBtnState}`},null,8,["icon"])]),i.controlBtns.includes("audioTrack")?(N(),$("div",w7,[_("span",null,Q(X(l).currentTime),1),C7,_("span",R7,Q(X(l).totalTime),1)])):pt("",!0)]),_("div",x7,[X(l).qualityLevels.length&&i.controlBtns.includes("quality")?(N(),$("div",I7,[Vt(Q(X(l).qualityLevels.length&&(X(l).qualityLevels[X(l).currentLevel]||{}).height)+"P ",1),_("div",L7,[_("ul",D7,[(N(!0),$(ht,null,At(X(l).qualityLevels,(V,q)=>(N(),$("li",{class:Kt({"speed-active":X(l).currentLevel==q}),onClick:et=>((rt,ot)=>{s.currentLevel=ot,l.currentLevel=ot})(0,q),key:V},Q(V.height)+"P",11,O7))),128))])])])):pt("",!0),i.controlBtns.includes("speedRate")?(N(),$("div",P7,[Vt(Q(X(l).speedActive=="1.0"?"\u500D\u901F":X(l).speedActive+"x")+" ",1),_("div",F7,[_("ul",M7,[(N(!0),$(ht,null,At(X(l).speedRate,V=>(N(),$("li",{class:Kt({"speed-active":X(l).speedActive==V}),onClick:q=>(et=>{l.speedActive=et,l.dVideo.playbackRate=et})(V),key:V},Q(V)+"x",11,B7))),128))])])])):pt("",!0),i.controlBtns.includes("volume")?(N(),$("div",N7,[_("div",U7,[_("div",{class:Kt(["volume-main",{"is-muted":X(l).muted}])},[_("span",$7,Q(X(l).muted?0:~~(100*X(l).volume))+"%",1),at(bs,{onChange:H[2]||(H[2]=V=>X(l).muted=!1),hover:!1,size:"5px",vertical:!0,modelValue:X(l).volume,"onUpdate:modelValue":H[3]||(H[3]=V=>X(l).volume=V)},null,8,["modelValue"])],2)]),_("span",{onClick:L,style:{display:"flex"}},[at(lr,{size:"20",icon:"icon-volume-"+(X(l).volume==0||X(l).muted?"mute":X(l).volume>.5?"up":"down")},null,8,["icon"])])])):pt("",!0),i.controlBtns.includes("setting")?(N(),$("div",G7,[at(lr,{size:"20",class:"rotateHover",icon:"icon-settings"}),_("div",H7,[_("ul",j7,[_("li",null,[K7,at(nl,{onChange:I,modelValue:X(l).mirror,"onUpdate:modelValue":H[4]||(H[4]=V=>X(l).mirror=V)},null,8,["modelValue"])]),_("li",null,[V7,at(nl,{onChange:O,modelValue:X(l).loop,"onUpdate:modelValue":H[5]||(H[5]=V=>X(l).loop=V)},null,8,["modelValue"])]),_("li",null,[W7,at(nl,{onChange:P,modelValue:X(l).lightOff,"onUpdate:modelValue":H[6]||(H[6]=V=>X(l).lightOff=V)},null,8,["modelValue"])])])])])):pt("",!0),i.controlBtns.includes("pip")?(N(),$("div",{key:4,class:"d-tool-item pip-btn",onClick:F},[at(lr,{size:"20",icon:"icon-pip"}),z7])):pt("",!0),i.controlBtns.includes("pageFullScreen")?(N(),$("div",{key:5,class:"d-tool-item pip-btn",onClick:H[7]||(H[7]=V=>X(l).webFullScreen=!X(l).webFullScreen)},[at(lr,{size:"20",icon:"icon-web-screen"}),Y7])):pt("",!0),i.controlBtns.includes("fullScreen")?(N(),$("div",{key:6,class:"d-tool-item fullScreen-btn",onClick:U},[q7,at(lr,{size:"20",icon:"icon-screen"})])):pt("",!0)])])],512)):pt("",!0)],34))}}));function Q7(t){t.component(Ba.name,Ba)}Ba.__scopeId="data-v-01791e9e",Ba.install=Q7;const zr=t=>(de("data-v-f2b1f84b"),t=t(),fe(),t),Z7={class:"film-video-play"},J7={class:"film-wrap"},X7={class:"title"},t$=zr(()=>_("span",null,"\u7B80\u4ECB",-1)),e$=[t$],n$=zr(()=>_("span",null,"\u8BC4\u8BBA",-1)),r$={class:"count"},i$={key:0,class:"introduction"},s$={class:"card"},a$={class:"vd-title"},o$={class:"vd-date"},l$={class:"vd-icon"},u$={class:"box"},c$={class:"b-img"},d$=zr(()=>_("img",{src:L6,alt:""},null,-1)),f$=zr(()=>_("div",{class:"b-img"},[_("img",{src:D6,alt:""})],-1)),h$=zr(()=>_("div",{class:"b-img"},[_("img",{src:O6,alt:""})],-1)),g$={class:"vd-info"},v$={class:"card"},p$={class:"c-box"},m$={class:"img"},y$={class:"c-name"},_$=zr(()=>_("span",null,"\u8D2D\u7968",-1)),A$=[_$],E$={class:"c-score"},b$={class:"img"},T$={key:0,class:"score-box"},S$={class:"l-b"},k$={key:0,class:"l-score"},w$=vd('<img src="'+ye+'" alt="" data-v-8efa4bb1="" data-v-f2b1f84b><img src="'+ye+'" alt="" data-v-8efa4bb1="" data-v-f2b1f84b><img src="'+ye+'" alt="" data-v-8efa4bb1="" data-v-f2b1f84b><img src="'+ye+'" alt="" data-v-8efa4bb1="" data-v-f2b1f84b><img src="https://obj.pipi.cn/festatic/asgard/resources/images/movie/star-half-graded.png" alt="" data-v-8efa4bb1="" data-v-f2b1f84b>',5),C$=[w$],R$={key:0,class:"r-b"},x$=zr(()=>_("div",null,[_("img",{src:"https://p1.meituan.net/scarlett/02c6374d153cf273a8d4c324193564e5739.png@80q",alt:""}),_("p",null,"\u4E2D\u56FD\u5927\u9646\u7968\u623F\u699C")],-1)),I$=zr(()=>_("img",{class:"c-to",src:"https://p1.meituan.net/scarlett/a02d1e94ee10e22335a60dc49fac941f469.png@80q",alt:""},null,-1)),L$={class:"vd-list"},D$=zr(()=>_("span",null,"\u5168\u90E8\u89C6\u9891",-1)),O$={class:"items"},P$=["onClick"],F$={class:"list-box"},M$={class:"img"},B$={class:"f-title"},N$={key:0,class:"f-date"},U$={key:1,class:"f-date"},$$={key:1,class:"comments"},G$={class:"card"},H$={class:"items"},j$={class:"img"},K$={class:"box"},V$={class:"name"},W$={class:"content"},z$={class:"icon"},Y$={class:"icon-box"},q$=["onClick"],Q$=["onClick"],Z$={__name:"FilmVideoPlay",setup(t){const e=kr(),n=ze(),i=Z(23.4),s=Z(113.3),o=Z(20),u=Z(null),m=Z([]),p=Z(0),l=Z(!1),y=Z([]);Xt(()=>{var c,g;console.log((c=e==null?void 0:e.query)==null?void 0:c.id),Im({movieId:(g=e==null?void 0:e.query)==null?void 0:g.id}).then(T=>{console.log(T.data.feedVideos),m.value=T.data.feedVideos.feeds,u.value=T.data,y.value=T.data.comments.hotComments})});function v(c){return c<10?"0"+c:c}const f=Je({width:"375rem",height:"210rem",color:"#409eff",position:"fixed",top:0,left:0,zIndex:99,muted:!1,webFullScreen:!1,speedRate:["0.75","1.0","1.25","1.5","2.0"],autoPlay:!0,loop:!1,mirror:!1,ligthOff:!0,volume:.3,control:!0,title:"",src:"",poster:""}),b=c=>{},S=c=>{},d=c=>{},h=c=>{};return ce([m,p,e],([c,g,T])=>{var E,A,w,L;f.src=(A=(E=c[T.query.vdindex])==null?void 0:E.video)==null?void 0:A.url,f.poster=(L=(w=c[T.query.vdindex])==null?void 0:w.video)==null?void 0:L.imgUrl}),(c,g)=>{var E,A,w,L,x,D,k,R,I,O,P,F,U,B,H,V,q,et,rt,ot,J,W,st,it,j,gt,bt,It,z,tt,ut,ft,mt,_t,wt,St,Rt,Et,Pt,Dt,Ft,$t,Ht,Yt,dt,Ot,ue,De,Be,Oe;const T=Wt("van-image");return N(),$("div",Z7,[at(X(Ba),nr(f,{onPlay:b,onPause:S,onTimeupdate:d,onCanplay:h}),null,16),_("div",J7,[_("div",X7,[_("h3",{onClick:g[0]||(g[0]=Mt=>l.value=!1),class:Kt({active:!l.value})},e$,2),_("h3",{onClick:g[1]||(g[1]=Mt=>l.value=!0),class:Kt({active:l.value})},[n$,_("span",r$,Q((w=m.value[(A=(E=X(e))==null?void 0:E.query)==null?void 0:A.vdindex])==null?void 0:w.commentCount),1)],2)]),l.value?pt("",!0):(N(),$("div",i$,[_("div",s$,[_("div",a$,[_("h3",null,Q((D=m.value[(x=(L=X(e))==null?void 0:L.query)==null?void 0:x.vdindex])==null?void 0:D.title),1)]),_("div",o$,[_("p",null,Q(v(new Date((I=m.value[(R=(k=X(e))==null?void 0:k.query)==null?void 0:R.vdindex])==null?void 0:I.onlineTime).getFullYear()))+"- "+Q(v(new Date((F=m.value[(P=(O=X(e))==null?void 0:O.query)==null?void 0:P.vdindex])==null?void 0:F.onlineTime).getMonth()+1))+"- "+Q(v(new Date((H=m.value[(B=(U=X(e))==null?void 0:U.query)==null?void 0:B.vdindex])==null?void 0:H.onlineTime).getDate())),1)]),_("div",l$,[_("div",u$,[_("div",c$,[X(n).counts.map(Mt=>Mt.id).includes((et=m.value[(q=(V=X(e))==null?void 0:V.query)==null?void 0:q.vdindex])==null?void 0:et.id)?(N(),$("img",{key:1,src:zc,alt:"",onClick:g[3]||(g[3]=Mt=>{var ee,qt;return X(n).removeCount(m.value[(qt=(ee=X(e))==null?void 0:ee.query)==null?void 0:qt.vdindex])})})):(N(),$("img",{key:0,src:Wc,alt:"",onClick:g[2]||(g[2]=Mt=>{var ee,qt;return X(n).getCount(m.value[(qt=(ee=X(e))==null?void 0:ee.query)==null?void 0:qt.vdindex])})})),_("p",null,Q(X(n).counts.map(Mt=>Mt.id).includes((J=m.value[(ot=(rt=X(e))==null?void 0:rt.query)==null?void 0:ot.vdindex])==null?void 0:J.id)?((W=X(n).counts.map(Mt=>Mt).filter(Mt=>{var ee,qt,Ne;return Mt.id==((Ne=m.value[(qt=(ee=X(e))==null?void 0:ee.query)==null?void 0:qt.vdindex])==null?void 0:Ne.id)})[0])==null?void 0:W.upCount)+1:(j=m.value[(it=(st=X(e))==null?void 0:st.query)==null?void 0:it.vdindex])==null?void 0:j.upCount),1)]),_("div",{class:"b-img",onClick:g[4]||(g[4]=Mt=>l.value=!0)},[d$,_("p",null,Q((It=m.value[(bt=(gt=X(e))==null?void 0:gt.query)==null?void 0:bt.vdindex])==null?void 0:It.commentCount),1)]),f$,h$])]),_("div",g$,[_("div",v$,[_("div",p$,[_("div",m$,[at(T,{width:"50rem",height:"68rem",src:u.value?`${(tt=(z=u.value)==null?void 0:z.movie)==null?void 0:tt.img}`:""},null,8,["src"])]),_("div",y$,[_("p",null,Q((ft=(ut=u.value)==null?void 0:ut.movie)==null?void 0:ft.nm),1),_("p",null,Q((_t=(mt=u.value)==null?void 0:mt.movie)==null?void 0:_t.cat),1),_("p",null,Q((St=(wt=u.value)==null?void 0:wt.movie)==null?void 0:St.onlineDate),1)]),_("div",{class:"c-btn",onClick:g[5]||(g[5]=Qe(Mt=>{var ee,qt;return c.$router.push({path:"/ticket",query:{id:(qt=(ee=X(e))==null?void 0:ee.query)==null?void 0:qt.id,lat:i.value,lng:s.value,cityId:o.value}})},["stop"]))},A$)]),_("div",E$,[_("div",b$,[at(T,{width:"18rem",height:"18rem",src:"https://obj.pipi.cn/festatic/asgard/resources/images/avatar.png"}),_("p",null,Q((Et=(Rt=u.value)==null?void 0:Rt.movie)==null?void 0:Et.scoreLabel),1)]),(Dt=(Pt=u.value)==null?void 0:Pt.movie)!=null&&Dt.sc?(N(),$("div",T$,[_("div",S$,[_("p",null,Q(($t=(Ft=u.value)==null?void 0:Ft.movie)==null?void 0:$t.sc),1),(Yt=(Ht=u.value)==null?void 0:Ht.movie)!=null&&Yt.sc?(N(),$("div",k$,C$)):pt("",!0)]),(Ot=(dt=u.value)==null?void 0:dt.reputation)!=null&&Ot.movieRank?(N(),$("div",R$,[x$,_("p",null,"Top"+Q((De=(ue=u.value)==null?void 0:ue.reputation)==null?void 0:De.movieRank),1),I$])):pt("",!0)])):pt("",!0)])])]),_("div",L$,[_("h4",null,[Vt("\u300A"+Q((Oe=(Be=u.value)==null?void 0:Be.movie)==null?void 0:Oe.nm)+"\u300B",1),D$]),_("ul",O$,[(N(!0),$(ht,null,At(m.value,(Mt,ee)=>{var qt,Ne,yn,Ke,Ue,Pn,Ei,Ya;return N(),$("li",{onClick:Gd=>{var qa,Qa;c.$router.push({path:"/filmvideoplay",query:{id:(Qa=(qa=X(e))==null?void 0:qa.query)==null?void 0:Qa.id,vdindex:ee,vdId:Mt==null?void 0:Mt.id}})}},[_("div",F$,[_("div",M$,[at(T,{width:"124rem",height:"70rem",src:Mt?`${(qt=Mt==null?void 0:Mt.video)==null?void 0:qt.imgUrl}`:""},null,8,["src"]),_("p",B$,Q((Ne=Mt==null?void 0:Mt.video)==null?void 0:Ne.typeDesc),1),ee==((Ke=(yn=X(e))==null?void 0:yn.query)==null?void 0:Ke.vdindex)?(N(),$("span",N$,"\u64AD\u653E\u4E2D")):(N(),$("span",U$,Q(parseInt(((Ue=Mt==null?void 0:Mt.video)==null?void 0:Ue.dur)/60))+":"+Q(v(parseInt(((Pn=Mt==null?void 0:Mt.video)==null?void 0:Pn.dur)%60))),1))]),_("p",{class:Kt(["p1",{active:ee==((Ya=(Ei=X(e))==null?void 0:Ei.query)==null?void 0:Ya.vdindex)}])},Q(Mt==null?void 0:Mt.title),3)])],8,P$)}),256))])])])])),l.value?(N(),$("div",$$,[_("div",G$,[_("ul",H$,[(N(!0),$(ht,null,At(y.value,Mt=>{var ee;return N(),$("li",null,[_("div",j$,[at(T,{width:"30rem",height:"30rem",src:Mt?`${Mt==null?void 0:Mt.avatarUrl}`:""},null,8,["src"])]),_("div",K$,[_("div",V$,[_("p",null,Q(Mt==null?void 0:Mt.nick),1),_("p",null,Q(v(new Date(Mt==null?void 0:Mt.time).getMonth()+1))+"-"+Q(v(new Date(Mt==null?void 0:Mt.time).getDate())),1)]),_("div",W$,Q(Mt==null?void 0:Mt.content),1),_("div",z$,[_("div",Y$,[X(n).counts.map(qt=>qt.id).includes(Mt==null?void 0:Mt.id)?(N(),$("img",{key:1,src:zc,alt:"",onClick:qt=>X(n).removeCount(Mt)},null,8,Q$)):(N(),$("img",{key:0,src:Wc,alt:"",onClick:qt=>X(n).getCount(Mt)},null,8,q$)),_("span",null,Q(X(n).counts.map(qt=>qt.id).includes(Mt==null?void 0:Mt.id)?((ee=X(n).counts.map(qt=>qt).filter(qt=>qt.id==(Mt==null?void 0:Mt.id))[0])==null?void 0:ee.upCount)+1:Mt==null?void 0:Mt.upCount),1)])])])])}),256))])])])):pt("",!0)])])}}},J$=Te(Z$,[["__scopeId","data-v-f2b1f84b"]]);const Yr=t=>(de("data-v-57d0904e"),t=t(),fe(),t),X$={class:"wrap"},t9={class:"wrap-title"},e9=Yr(()=>_("img",{src:js,alt:""},null,-1)),n9=[e9],r9=Yr(()=>_("div",{class:"img"},null,-1)),i9={class:"ticke-top"},s9=Yr(()=>_("div",{class:"t-mask"},null,-1)),a9={class:"t-card"},o9={class:"img"},l9={key:0,class:"c-box"},u9={key:1,class:"c-box"},c9={class:"c-name"},d9={class:"c-enm"},f9={key:0,class:"c-snum"},h9={class:"c-cat"},g9={key:0},v9={class:"c-src"},p9={class:"desc"},m9={class:"cinema-list"},y9={class:"s-wrap"},_9=["onClick"],A9={class:"card"},E9={class:"rm-item"},b9=["onClick"],T9={key:0,class:"circle-box"},S9={class:"ci-box"},k9={class:"rm-list"},w9=["onClick"],C9={class:"list-box"},R9={class:"subItems"},x9=["onClick"],I9={key:0,src:Ms,alt:""},L9={key:1,class:"subway-box"},D9={class:"su-list"},O9=["onClick"],P9={class:"list-box"},F9={class:"subItems"},M9=["onClick"],B9={key:0,src:Ms,alt:""},N9={class:"card"},U9={class:"rm-item"},$9=["onClick"],G9={key:0,src:Ms,alt:""},H9={class:"card"},j9={class:"one-box"},K9=Yr(()=>_("h3",null,"\u5F71\u9662\u670D\u52A1",-1)),V9={class:"rm-item"},W9=["onClick"],z9={class:"tow-box"},Y9=Yr(()=>_("h3",null,"\u5F71\u9662\u7C7B\u578B",-1)),q9={class:"rm-item"},Q9=["onClick"],Z9={class:"btn"},J9=Yr(()=>_("span",null,"\u91CD\u7F6E",-1)),X9=[J9],tG=Yr(()=>_("span",null,"\u786E\u8BA4",-1)),eG=[tG],nG={class:"cinema-card"},rG={class:"item"},iG=["onClick"],sG={class:"box-info"},aG={class:"name"},oG=Yr(()=>_("span",null,"\u5143\u8D77",-1)),lG={class:"line"},uG={class:"label"},cG={class:"l-box"},dG={key:0,class:"tag"},fG=Yr(()=>_("img",{src:Lm,alt:""},null,-1)),hG={class:"time"},gG={__name:"TicketView",setup(t){const e=Ua(),n=kr(),i=it=>{console.log(it),console.log(e.push),e.push({path:"/cinema",query:{cinemaId:it}})},s=Z(["\u5168\u57CE","\u54C1\u724C","\u7B5B\u9009"]),o=Z(["\u5546\u533A","\u5730\u94C1\u7AD9"]),u=Z(-1),m=Z(!1),p=Z(0),l=Z(!1),y=Z(!1),v=Z(null),f=Z(0),b=Z(null);hn(()=>{});function S(it){f.value=it.target.scrollTop}const d=Z(0);function h(it){u.value=-1,st(20,0,E.value[it.name],n.query.id,n.query.cityId,n.query.lat,n.query.lng,-1,-1,-1,-1,"[-1]","[-1,-1]")}let c=gl.exports.debounce(h,300);const g=Z(null);dx({id:n==null?void 0:n.query.id}).then(it=>{var j,gt;g.value=(gt=(j=it==null?void 0:it.data)==null?void 0:j.data)==null?void 0:gt.movie});function T(it){let j=String(it).slice(0,2);return Number(String(it).slice(3,4))>=5?Number(j)+1+".0":Number(j)+".0"}const E=Z([]);function A(it,j=1,gt="{y}-{m}-{d}"){if(it){it=it.match(/\d+/g).join("-");const bt=new Date(it);let It=[];for(let ut=0;ut<5;ut++){bt.setDate(bt.getDate()+j);const ft={y:bt.getFullYear(),m:bt.getMonth()+1,d:bt.getDate()};It.push(ft)}let z=[];It.forEach(ut=>{gt.replace(/{([ymd])+}/g,(ft,mt)=>{const _t=ut[mt];z.push(_t.toString().padStart(2,"0"))})});let tt=[];for(let ut=0;ut<z.length;ut++)(ut+1)%3===0&&tt.push(z[ut-2]+"-"+z[ut-1]+"-"+z[ut]);return tt.unshift(it),tt}}const w=Z(new Date().getFullYear()),L=Z(new Date().getMonth()+1),x=Z(new Date().getDate()),D=jt(()=>w.value+"-"+L.value+"-"+x.value);E.value=A(D.value);const k=Z(0);wd({lat:n.query.lat,lng:n.query.lng}).then(it=>{k.value=it.data.data.id});const R=Z([]),I=Z(-1),O=Z(-1),P=Z([]),F=Z(-1),U=Z(-1),B=Z([]),H=Z(-1),V=Z([]),q=Z(-1);function et(it,j,gt){gx({movieid:it,cityId:j,showDate:gt}).then(bt=>{var It,z,tt,ut,ft,mt,_t,wt,St,Rt,Et,Pt;R.value=(tt=(z=(It=bt==null?void 0:bt.data)==null?void 0:It.data)==null?void 0:z.district)==null?void 0:tt.subItems,P.value=(mt=(ft=(ut=bt==null?void 0:bt.data)==null?void 0:ut.data)==null?void 0:ft.subway)==null?void 0:mt.subItems,B.value=(St=(wt=(_t=bt==null?void 0:bt.data)==null?void 0:_t.data)==null?void 0:wt.brand)==null?void 0:St.subItems,V.value=(Pt=(Et=(Rt=bt==null?void 0:bt.data)==null?void 0:Rt.data)==null?void 0:Et.service)==null?void 0:Pt.subItems})}const rt=Z([]),ot=Z(-1);function J(it){vx({id:it}).then(j=>{var gt,bt;rt.value=(bt=(gt=j==null?void 0:j.data)==null?void 0:gt.hallType)==null?void 0:bt.subItems})}Z(20),Z(0);const W=Z([]);function st(it,j,gt,bt,It,z,tt,ut,ft,mt,_t,wt,St){hx({limit:it,offset:j,showDate:gt,movieId:bt,cityId:It,lat:z,lng:tt,districtId:ut,areaId:ft,lineId:mt,stationId:_t,brandIds:wt,serviceIds:St}).then(Rt=>{W.value=Rt.data.data.cinemas})}return et(n.query.id,n.query.cityId,D),J(n.query.cityId),ce([k,y,I,O,F,U,H,q,ot],([it,j,gt,bt,It,z,tt,ut,ft])=>{console.log(j),j||(console.log(j,gt,bt,It,z,tt,ut,ft),st(20,0,D.value,n.query.id,n.query.cityId,n.query.lat,n.query.lng,gt,bt,It,z,`[${tt}]`,`[${ut},${ft}]`))}),(it,j)=>{var tt,ut,ft,mt,_t,wt,St,Rt,Et,Pt,Dt,Ft,$t,Ht,Yt;const gt=Wt("van-image"),bt=Wt("van-skeleton"),It=Wt("van-tab"),z=Wt("van-tabs");return N(),$("div",{class:"ticket-view",onScroll:j[7]||(j[7]=dt=>S(dt)),ref_key:"scroll",ref:b},[_("div",X$,[_("div",t9,[_("div",{class:"img",onClick:j[0]||(j[0]=dt=>it.$router.back())},n9),_("h3",null,Q((tt=g.value)==null?void 0:tt.nm),1),r9]),_("div",i9,[s9,_("div",{class:"t-bg",style:cn({backgroundImage:`url(${(ut=g.value)==null?void 0:ut.img})`})},null,4),_("div",a9,[_("div",o9,[at(gt,{width:"110rem",height:"150rem",src:g.value?`${(ft=g.value)==null?void 0:ft.img}`:""},null,8,["src"])]),g.value?(N(),$("div",u9,[_("h3",c9,Q((mt=g.value)==null?void 0:mt.nm),1),_("p",d9,Q((_t=g.value)==null?void 0:_t.enm),1),((wt=g.value)==null?void 0:wt.sc)!=0?(N(),$("div",f9,[_("span",null,Q((St=g.value)==null?void 0:St.sc),1),_("span",null,"("+Q(T((Rt=g.value)==null?void 0:Rt.snum))+"\u4E07\u4EBA\u70B9\u8BC4)",1)])):pt("",!0),_("div",h9,[_("p",null,Q((Et=g.value)==null?void 0:Et.cat),1),((Dt=(Pt=g.value)==null?void 0:Pt.ver)==null?void 0:Dt.slice(0,4))=="IMAX"?(N(),$("span",g9,Q((Ft=g.value)==null?void 0:Ft.ver.slice(0,4)),1)):pt("",!0)]),_("div",v9,[_("p",null,Q(($t=g.value)==null?void 0:$t.src)+"/",1),_("span",null,Q((Ht=g.value)==null?void 0:Ht.dur)+"\u5206\u949F",1)]),_("span",p9,Q((Yt=g.value)==null?void 0:Yt.pubDesc),1)])):(N(),$("div",l9,[at(bt,{title:"",row:4})]))])]),_("div",m9,[at(z,{active:d.value,"onUpdate:active":j[6]||(j[6]=dt=>d.value=dt),"swipe-threshold":"2",onClickTab:X(c),sticky:"","offset-top":"0","line-width":"60"},{default:Jt(()=>[(N(!0),$(ht,null,At(E.value,dt=>(N(),ie(It,{title:dt.slice(5,7)+"\u6708"+dt.slice(8)+"\u65E5"},null,8,["title"]))),256)),_("div",{class:"select-sticky",ref_key:"selecTsticky",ref:v},[_("div",y9,[_("div",{class:Kt(["s-tag",{active:f.value>=240}])},[(N(!0),$(ht,null,At(s.value,(dt,Ot)=>(N(),$("div",{class:"item",key:Ot,onClick:ue=>{u.value=Ot,m.value=!0,l.value=!0,y.value=!0}},[_("p",null,Q(dt),1),_("span",{class:Kt({active:u.value==Ot&&(m.value||l.value||y.value)})},null,2)],8,_9))),128))],2)])],512),u.value==0&&m.value?(N(),$("div",{key:0,class:Kt(["region-mask",{active:f.value>=240}])},[_("div",A9,[_("ul",E9,[(N(!0),$(ht,null,At(o.value,(dt,Ot)=>(N(),$("li",{key:Ot,onClick:ue=>p.value=Ot,class:Kt({active:p.value==Ot})},[_("p",null,Q(dt),1)],10,b9))),128))]),p.value==0?(N(),$("div",T9,[_("div",S9,[_("ul",k9,[(N(!0),$(ht,null,At(R.value,dt=>(N(),$("li",{key:dt==null?void 0:dt.id,onClick:Ot=>I.value=dt==null?void 0:dt.id,class:Kt({active:I.value==(dt==null?void 0:dt.id)})},[_("p",null,[Vt(Q(dt==null?void 0:dt.name)+" ",1),_("span",null," ( "+Q(dt==null?void 0:dt.count)+") ",1)])],10,w9))),128))])]),_("div",C9,[(N(!0),$(ht,null,At(R.value,dt=>(N(),$("div",null,[_("ul",R9,[I.value==(dt==null?void 0:dt.id)?(N(!0),$(ht,{key:0},At(dt==null?void 0:dt.subItems,Ot=>(N(),$("li",{onClick:ue=>{O.value=Ot==null?void 0:Ot.id,y.value=!1,u.value=-1},class:Kt({active:O.value==(Ot==null?void 0:Ot.id)})},[O.value==(Ot==null?void 0:Ot.id)?(N(),$("img",I9)):pt("",!0),_("p",null,Q(Ot==null?void 0:Ot.name),1),_("span",null,Q(Ot==null?void 0:Ot.count),1)],10,x9))),256)):pt("",!0)])]))),256))])])):pt("",!0),p.value==1?(N(),$("div",L9,[_("ul",D9,[(N(!0),$(ht,null,At(P.value,dt=>(N(),$("li",{key:dt==null?void 0:dt.id,onClick:Ot=>F.value=dt==null?void 0:dt.id,class:Kt({active:F.value==(dt==null?void 0:dt.id)})},[_("p",null,[Vt(Q(dt==null?void 0:dt.name)+" ",1),_("span",null," ( "+Q(dt==null?void 0:dt.count)+") ",1)])],10,O9))),128))]),_("div",P9,[(N(!0),$(ht,null,At(P.value,dt=>(N(),$("div",null,[_("ul",F9,[F.value==(dt==null?void 0:dt.id)?(N(!0),$(ht,{key:0},At(dt==null?void 0:dt.subItems,Ot=>(N(),$("li",{onClick:ue=>{U.value=Ot==null?void 0:Ot.id,y.value=!1,u.value=-1},class:Kt({active:U.value==(Ot==null?void 0:Ot.id)})},[U.value==(Ot==null?void 0:Ot.id)?(N(),$("img",B9)):pt("",!0),_("p",null,Q(Ot==null?void 0:Ot.name),1),_("span",null,Q(Ot==null?void 0:Ot.count),1)],10,M9))),256)):pt("",!0)])]))),256))])])):pt("",!0)]),_("div",{class:"show-mask",onClick:j[1]||(j[1]=dt=>{y.value=!1,u.value=-1})})],2)):pt("",!0),u.value==1&&l.value?(N(),$("div",{key:1,class:Kt(["cinema-mask",{active:f.value>=240}])},[_("div",N9,[_("ul",U9,[(N(!0),$(ht,null,At(B.value,dt=>(N(),$("li",{onClick:Ot=>{H.value=dt==null?void 0:dt.id,y.value=!1,u.value=-1},class:Kt({active:H.value==(dt==null?void 0:dt.id)})},[H.value==(dt==null?void 0:dt.id)?(N(),$("img",G9)):pt("",!0),_("p",null,Q(dt==null?void 0:dt.name),1),_("span",null,Q(dt==null?void 0:dt.count),1)],10,$9))),256))])]),_("div",{class:"show-mask",onClick:j[2]||(j[2]=dt=>{y.value=!1,u.value=-1})})],2)):pt("",!0),u.value==2&&y.value?(N(),$("div",{key:2,class:Kt(["screening-mask",{active:f.value>=240}])},[_("div",H9,[_("div",j9,[K9,_("ul",V9,[(N(!0),$(ht,null,At(V.value,dt=>(N(),$("li",{onClick:Ot=>q.value=dt==null?void 0:dt.id,class:Kt({active:q.value==(dt==null?void 0:dt.id)})},[_("p",null,Q(dt==null?void 0:dt.name),1)],10,W9))),256))])]),_("div",z9,[Y9,_("ul",q9,[(N(!0),$(ht,null,At(rt.value,dt=>(N(),$("li",{onClick:Ot=>ot.value=dt==null?void 0:dt.id,class:Kt({active:ot.value==(dt==null?void 0:dt.id)})},[_("p",null,Q(dt==null?void 0:dt.name),1)],10,Q9))),256))])]),_("div",Z9,[_("div",{class:"l-btn",onClick:j[3]||(j[3]=dt=>{ot.value=-1,q.value=-1})},X9),_("div",{class:"r-btn",onClick:j[4]||(j[4]=dt=>{y.value=!1,u.value=-1})},eG)])]),_("div",{class:"show-mask",onClick:j[5]||(j[5]=dt=>{y.value=!1,u.value=-1})})],2)):pt("",!0),_("div",nG,[_("ul",rG,[(N(!0),$(ht,null,At(W.value,dt=>{var Ot,ue,De;return N(),$("li",{key:dt.id,onClick:Qe(Be=>i(dt.cinemaId?dt.cinemaId:dt.id),["stop"])},[_("div",sG,[_("div",aG,[_("p",null,Q(dt==null?void 0:dt.name),1),_("p",null,[Vt(Q(dt==null?void 0:dt.sellPrice)+" ",1),oG])]),_("div",lG,[_("p",null,Q(dt==null?void 0:dt.addr),1),_("p",null,Q(dt==null?void 0:dt.distance),1)]),_("div",uG,[(N(!0),$(ht,null,At(((Ot=dt==null?void 0:dt.labels)==null?void 0:Ot.length)>=6?dt==null?void 0:dt.labels.slice(0,6):dt==null?void 0:dt.labels,Be=>(N(),$("div",cG,[_("div",null,Q(Be==null?void 0:Be.name),1)]))),256))]),(ue=dt==null?void 0:dt.promotion)!=null&&ue.cardPromotionTag?(N(),$("div",dG,[fG,_("p",null,Q((De=dt==null?void 0:dt.promotion)==null?void 0:De.cardPromotionTag),1)])):pt("",!0),_("div",hG,[_("p",null,Q(dt==null?void 0:dt.showTimes),1)])])],8,iG)}),128))])])]),_:1},8,["active","onClickTab"])])])],544)}}},vG=Te(gG,[["__scopeId","data-v-57d0904e"]]),D0="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAbCAYAAACjkdXHAAAAvElEQVR42mNgIAMoKyvPBuIEkjQpKChwKCkprQbi/4qKittJ0gjSANIIxLtBfKI0amtr8wA1bIbZSLRGoEIBoKbTdNUI8uN+kv0ItfEwuRrhTgUFFrEaJcjyo4qKigxQ032oxv2k2KgA0wjyo5qamgixGg2AGh6THDgggJTk/gM1apCa2OGhC3IBMLeoUGLAfVAYUGLAdaIDDYcB5yk2AJRwKDHgNqVhcH/ADRgEsUCpAYdJri1ABkDLNhcAf1t36zFdxVkAAAAASUVORK5CYII=",pG=""+new URL("\u5934\u50CF.260b1f33.jpg",import.meta.url).href,mG="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAP8A/wD/oL2nkwAABXlJREFUeNrtm09sFFUcxz8/sLstjcjftp4KJMq/1gRLwoFYUC8mmNASrkA0lpCIhRMHPdGDeOBSNAZC1PYEGmPUlMQYjVaiSA+tCdFAgbZGNo0RNau2W9Z2vx5m12x3Z7Y7290Ou/SbTNp97/3e+/0+83svM29mYFGLWpSLbCEGkWTAFqARWO1yAPzucvwM/GRmKksQkqqAJ4GngFZgJ7CqwO7+AL4FvgEuA4Nm9m+pwcwXwDZJvZImNFsJFa5M24nkGNuCjjcz+CWS2iX1pzk7M4/A51J63/3JsZcEDWGfpJESBp2vRiTtCwLAckk9SSfmk/bFUsqHHknLFwpCq6TR+whCJoxRSa2lhnBCzhy9nwC4AZmRdKJUEI4mByrlQlgspXw8WmwIB9JIl4tSmXsgnxjnvKCStBf4EFiaT/v7TAJmgP1m9knBICRtAoaAcBlCSIdxD9hmZte9GnleiEhaCvQA1WUMgaTv1UBPMiZ/IIAjwI6goyiidiRjcpXrmZZUA4wA9ZR3NswKC/gV2GBmscxKr4w4AjRUEASSsTTgkRVeGXEDeKzCQICTFcNmtimzIisjJO0EHq9ACCRj2piMMTcIYH/Q3i6AsmJ0A/EsTgpVqpSMcZZmpb+ktTgrayVOi0wY9Wb2W6ogMyOaHwAIJGNsSi/IBPF4MUaJRqOMjY35shkbGyMajebdfmpqilu3bpNIJAp1c6NnjaTT87ndGx8f1962NoXC1aoKhdW4br36+i7ltOnru6TGdetVFQorFK7W3rY2jY+Pe7aPxWLqPHZcNctqVRUKa+Wq1eruPlOIu6dzgThfKIREIqHWXbtVFQrPOmqW1WpwaMjVZnBo6P+A0o/WXbuVSLjv/XQeO57VvioUVk9vr1+Xz+cCcbFQEAMDA64OVoXC6ug47GrT0XHY02ZgYCCrfSwWcwVXFQqrpWW7X5cvpMeeuUaEC51wI6OjnnWjHuvFaI51xK3uzp0I09PTvvvyUHUuEBOFgmhubs5R1+SrHKCpKbtuw4b11NbW+h7fQ5OeNZLOFjo1JOngwUNZKbu2rl6RSMS1fSQS0dq6+iybgwcPeY7R3X0mq30oXK3+/n751NlcIE7NB0Q8HtfJri5t3rJVdfUNamtv1/DwzZw2w8M31dberrr6Bm3eslUnu7oUj8dz2vT09qqlZbtWrV6jXbufLgSCJL2eHnvmleULwLt+c6xM9aKZvZf6kblGXPfZWTnrRvqPzIx4BPiTyr/MngZWmtk/qYJZGWFmUZysqOS7T4CBdAhZIJL6nsrPiC8yC9xAXAnaywXQhcwCNxCfBe1lifWd24OeLBBm9gswSOWuE2+5FXpt539MZa4TPwLv+wFxkcrMiFfNzHUnxxWEmd0Evgra6yLrAzP71Ksy17PPc0F7XkSNAy/nauC5DkgKAaPAo5TveiEgCrSa2bVcDT0zwsziwBtlDmESeG4uCMwVpKRq4DbllxUC4sAeM/syH4Ocb6ya2RRwqswggDMd9uULgXwClPQQ8AOwNejo5lAC58R+jrPXEPFjPOc7zGY2DbyS4hJ0tDl0D+jEWRN8QfAlzWOrv0SaSfv7kZwX3wpW3nNfzgPia0CdH7tSnJPk+H8B7wBvmtno/Lr064H0fPIs5PsKcsLj/3yVaROXdEVSp6SHixmb7zMr6Rxw2IfJVSCG8/R5jc/hJnA2ii7jfMFz1cwmffZRMhA1OJ8W5fMFzTCw3cz+TtrW4zyFXgEsTzsSuH/TddfMZkoReFEkqVHS3RzpnpA0KemJoH1dCBjPSJpW9ovqKTiHgvZxIWG85LGovR20b0HAeC0DxtdyPnd88CQp9crKoKQVQfsTJIglkvbIuVtd1KIWtaiK03/7nU2QGfT8UAAAAABJRU5ErkJggg==",yG="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAP8A/wD/oL2nkwAABCtJREFUeNrtm1uIVVUYx3+fl6yYMImydAiiJxkCKZGkC5mUREESTA8lJWFIgan0kHR56SEiorIG62EohwpifFGj7GGGYKA0MFIC6fIgzBCORQNSzWRT/ntYe2o6nbMv66x1lk37D8OZzV7ru/z2Omuv24FatWrVqlWr1v9JkpamjiG5JO2Q0weSzm/XnhU4M+AWYC2wHFgYMJfvgJfM7AdPEEPAuuzyILDBzH4LGN9fjq6WNKK4+riN+IYbbO2TFPJBgaR1kn6JDEGSJgKCkKRBSfN97M1r4mAxsAe4MCjd5uoPbK8XGJA0r21LknZ3oCVIUp9cH+Qb53CO7TfbsY2k+ZImOgDhuQAPbLjAx+vtGO+ODGBc0gOesS2UtFTSCkk3SPqihL9Xytpf0HB9cYk6/cAgMFoxl0kzGyuZ9BXAzdnfTcBVQJcHv22SzpjZE5VqSbqmgPB2j2DK+l4s6UlJ30Zoic+GBDGqdjqg1j4vl/S8pNMRAMzWU6FAHIgA4RFJU5EBzNbjrWJZUCHuXwMCWATsBh4KDbdAL8r1GX2NN9ofeFSHsAwYSQBhRq9Kui0piKwlHABWJ4IAbqK5NSkI4DXguoQQZvSvyVnHQEjaBDycmkCmgSQgJC3HdY7ngl4ws/eSgAB2ABekJgDsajXKjA5C0hJgS2oCwBtmtr3VzU60iEfxmyeE1FtZHC0VFYTcAsljiSG8C2w2M+UVqjKy9NG1wGUe9SaBQ8DnwFFgDDgFTAOLcAvJfcCKAjt7gQfN7GyRw9ggbq1Q9ifc9H4/MGRmUzllv5Z0sgDEfuB+M/ujjPPYINaWKPMl7tX6jpn9HMjvQeBeM5suWyEaCLml9RtzihwDnjGz9wO7HgLuqbrHEbNFrKT52+IEsBPYW9SBeWgEuNvMKs+UY4K4suH6LLALeNrMJiP4OwTc6Ws7Johls/4fxX1nP4vk6whwRzt9TMxxxAyIT4HVESAczj6PAreb2elglguW6gYr2hqQ9GG2BhFckkzSKklBWnXMFjEG9JrZmRjGzUxmdsTMfm9VRtIGSW9LqjbXCdwiYo9RivxvaYi/N698tBaR96Q6AGEj0Ljld30SEAkhrMft5jfuweQeF5hTILLRbH9R0nMeBNADdPtUnGsgvE/ZzTUQ3qpBZKpBZKpBZKoC4tLUwcaMsQqIVZIuSZ1pgdZ3AkQXsEfSRamzbSa5Q2obfes3ToyKVnzvAo5L+ojqh8liqQtYgzt0lqfcuU8jiPESjruBzamz99CpvJv/+GqY2QTwVeqII+mT0iAyvZw64gg6zN9Le03V9Lhg1gd498DnmKaAlWb2TV6hVm+NTbg9gv+6JoD7iiC0BGFm47hf7mwDvk+djYemcRvAPWa2r0yFwpO02dZ+D255/rzUGRaFC/wIHA+6vF+rVq1atZz+BFohnRCD56z1AAAAAElFTkSuQmCC";var O0={exports:{}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT  Zeno Rocha
 */(function(t,e){(function(i,s){t.exports=s()})(ys,function(){return function(){var n={686:function(o,u,m){m.d(u,{default:function(){return et}});var p=m(279),l=m.n(p),y=m(370),v=m.n(y),f=m(817),b=m.n(f);function S(rt){try{return document.execCommand(rt)}catch{return!1}}var d=function(ot){var J=b()(ot);return S("cut"),J},h=d;function c(rt){var ot=document.documentElement.getAttribute("dir")==="rtl",J=document.createElement("textarea");J.style.fontSize="12pt",J.style.border="0",J.style.padding="0",J.style.margin="0",J.style.position="absolute",J.style[ot?"right":"left"]="-9999px";var W=window.pageYOffset||document.documentElement.scrollTop;return J.style.top="".concat(W,"px"),J.setAttribute("readonly",""),J.value=rt,J}var g=function(ot,J){var W=c(ot);J.container.appendChild(W);var st=b()(W);return S("copy"),W.remove(),st},T=function(ot){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},W="";return typeof ot=="string"?W=g(ot,J):ot instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(ot==null?void 0:ot.type)?W=g(ot.value,J):(W=b()(ot),S("copy")),W},E=T;function A(rt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?A=function(J){return typeof J}:A=function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},A(rt)}var w=function(){var ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},J=ot.action,W=J===void 0?"copy":J,st=ot.container,it=ot.target,j=ot.text;if(W!=="copy"&&W!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(it!==void 0)if(it&&A(it)==="object"&&it.nodeType===1){if(W==="copy"&&it.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(W==="cut"&&(it.hasAttribute("readonly")||it.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(j)return E(j,{container:st});if(it)return W==="cut"?h(it):E(it,{container:st})},L=w;function x(rt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?x=function(J){return typeof J}:x=function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},x(rt)}function D(rt,ot){if(!(rt instanceof ot))throw new TypeError("Cannot call a class as a function")}function k(rt,ot){for(var J=0;J<ot.length;J++){var W=ot[J];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(rt,W.key,W)}}function R(rt,ot,J){return ot&&k(rt.prototype,ot),J&&k(rt,J),rt}function I(rt,ot){if(typeof ot!="function"&&ot!==null)throw new TypeError("Super expression must either be null or a function");rt.prototype=Object.create(ot&&ot.prototype,{constructor:{value:rt,writable:!0,configurable:!0}}),ot&&O(rt,ot)}function O(rt,ot){return O=Object.setPrototypeOf||function(W,st){return W.__proto__=st,W},O(rt,ot)}function P(rt){var ot=B();return function(){var W=H(rt),st;if(ot){var it=H(this).constructor;st=Reflect.construct(W,arguments,it)}else st=W.apply(this,arguments);return F(this,st)}}function F(rt,ot){return ot&&(x(ot)==="object"||typeof ot=="function")?ot:U(rt)}function U(rt){if(rt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return rt}function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function H(rt){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(J){return J.__proto__||Object.getPrototypeOf(J)},H(rt)}function V(rt,ot){var J="data-clipboard-".concat(rt);if(!!ot.hasAttribute(J))return ot.getAttribute(J)}var q=function(rt){I(J,rt);var ot=P(J);function J(W,st){var it;return D(this,J),it=ot.call(this),it.resolveOptions(st),it.listenClick(W),it}return R(J,[{key:"resolveOptions",value:function(){var st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof st.action=="function"?st.action:this.defaultAction,this.target=typeof st.target=="function"?st.target:this.defaultTarget,this.text=typeof st.text=="function"?st.text:this.defaultText,this.container=x(st.container)==="object"?st.container:document.body}},{key:"listenClick",value:function(st){var it=this;this.listener=v()(st,"click",function(j){return it.onClick(j)})}},{key:"onClick",value:function(st){var it=st.delegateTarget||st.currentTarget,j=this.action(it)||"copy",gt=L({action:j,container:this.container,target:this.target(it),text:this.text(it)});this.emit(gt?"success":"error",{action:j,text:gt,trigger:it,clearSelection:function(){it&&it.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(st){return V("action",st)}},{key:"defaultTarget",value:function(st){var it=V("target",st);if(it)return document.querySelector(it)}},{key:"defaultText",value:function(st){return V("text",st)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(st){var it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return E(st,it)}},{key:"cut",value:function(st){return h(st)}},{key:"isSupported",value:function(){var st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],it=typeof st=="string"?[st]:st,j=!!document.queryCommandSupported;return it.forEach(function(gt){j=j&&!!document.queryCommandSupported(gt)}),j}}]),J}(l()),et=q},828:function(o){var u=9;if(typeof Element<"u"&&!Element.prototype.matches){var m=Element.prototype;m.matches=m.matchesSelector||m.mozMatchesSelector||m.msMatchesSelector||m.oMatchesSelector||m.webkitMatchesSelector}function p(l,y){for(;l&&l.nodeType!==u;){if(typeof l.matches=="function"&&l.matches(y))return l;l=l.parentNode}}o.exports=p},438:function(o,u,m){var p=m(828);function l(f,b,S,d,h){var c=v.apply(this,arguments);return f.addEventListener(S,c,h),{destroy:function(){f.removeEventListener(S,c,h)}}}function y(f,b,S,d,h){return typeof f.addEventListener=="function"?l.apply(null,arguments):typeof S=="function"?l.bind(null,document).apply(null,arguments):(typeof f=="string"&&(f=document.querySelectorAll(f)),Array.prototype.map.call(f,function(c){return l(c,b,S,d,h)}))}function v(f,b,S,d){return function(h){h.delegateTarget=p(h.target,b),h.delegateTarget&&d.call(f,h)}}o.exports=y},879:function(o,u){u.node=function(m){return m!==void 0&&m instanceof HTMLElement&&m.nodeType===1},u.nodeList=function(m){var p=Object.prototype.toString.call(m);return m!==void 0&&(p==="[object NodeList]"||p==="[object HTMLCollection]")&&"length"in m&&(m.length===0||u.node(m[0]))},u.string=function(m){return typeof m=="string"||m instanceof String},u.fn=function(m){var p=Object.prototype.toString.call(m);return p==="[object Function]"}},370:function(o,u,m){var p=m(879),l=m(438);function y(S,d,h){if(!S&&!d&&!h)throw new Error("Missing required arguments");if(!p.string(d))throw new TypeError("Second argument must be a String");if(!p.fn(h))throw new TypeError("Third argument must be a Function");if(p.node(S))return v(S,d,h);if(p.nodeList(S))return f(S,d,h);if(p.string(S))return b(S,d,h);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function v(S,d,h){return S.addEventListener(d,h),{destroy:function(){S.removeEventListener(d,h)}}}function f(S,d,h){return Array.prototype.forEach.call(S,function(c){c.addEventListener(d,h)}),{destroy:function(){Array.prototype.forEach.call(S,function(c){c.removeEventListener(d,h)})}}}function b(S,d,h){return l(document.body,S,d,h)}o.exports=y},817:function(o){function u(m){var p;if(m.nodeName==="SELECT")m.focus(),p=m.value;else if(m.nodeName==="INPUT"||m.nodeName==="TEXTAREA"){var l=m.hasAttribute("readonly");l||m.setAttribute("readonly",""),m.select(),m.setSelectionRange(0,m.value.length),l||m.removeAttribute("readonly"),p=m.value}else{m.hasAttribute("contenteditable")&&m.focus();var y=window.getSelection(),v=document.createRange();v.selectNodeContents(m),y.removeAllRanges(),y.addRange(v),p=y.toString()}return p}o.exports=u},279:function(o){function u(){}u.prototype={on:function(m,p,l){var y=this.e||(this.e={});return(y[m]||(y[m]=[])).push({fn:p,ctx:l}),this},once:function(m,p,l){var y=this;function v(){y.off(m,v),p.apply(l,arguments)}return v._=p,this.on(m,v,l)},emit:function(m){var p=[].slice.call(arguments,1),l=((this.e||(this.e={}))[m]||[]).slice(),y=0,v=l.length;for(y;y<v;y++)l[y].fn.apply(l[y].ctx,p);return this},off:function(m,p){var l=this.e||(this.e={}),y=l[m],v=[];if(y&&p)for(var f=0,b=y.length;f<b;f++)y[f].fn!==p&&y[f].fn._!==p&&v.push(y[f]);return v.length?l[m]=v:delete l[m],this}},o.exports=u,o.exports.TinyEmitter=u}},i={};function s(o){if(i[o])return i[o].exports;var u=i[o]={exports:{}};return n[o](u,u.exports,s),u.exports}return function(){s.n=function(o){var u=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(u,{a:u}),u}}(),function(){s.d=function(o,u){for(var m in u)s.o(u,m)&&!s.o(o,m)&&Object.defineProperty(o,m,{enumerable:!0,get:u[m]})}}(),function(){s.o=function(o,u){return Object.prototype.hasOwnProperty.call(o,u)}}(),s(686)}().default})})(O0);const _G=LR(O0.exports),P0=t=>{const e=(t==null?void 0:t.appendToBody)===void 0?!0:t.appendToBody;return{toClipboard(n,i){return new Promise((s,o)=>{const u=document.createElement("button"),m=new _G(u,{text:()=>n,action:()=>"copy",container:i!==void 0?i:document.body});m.on("success",p=>{m.destroy(),s(p)}),m.on("error",p=>{m.destroy(),o(p)}),e&&document.body.appendChild(u),u.click(),e&&document.body.removeChild(u)})}}};const Cr=t=>(de("data-v-b2d876d6"),t=t(),fe(),t),AG={class:"video"},EG=Cr(()=>_("img",{class:"doge",src:Nm},null,-1)),bG=Cr(()=>_("img",{class:"doge",src:Fl},null,-1)),TG=["src"],SG=Cr(()=>_("img",{src:Us,alt:""},null,-1)),kG=[SG],wG={class:"infos"},CG={class:"avatarurl"},RG={class:"dianz"},xG=["onClick"],IG={key:0,src:Um,alt:""},LG={key:1,src:Yi,alt:""},DG=["textContent"],OG={class:"top"},PG=Cr(()=>_("div",{class:"left"},[_("img",{src:pG,alt:""})],-1)),FG={class:"right"},MG=Cr(()=>_("div",{class:"name"},"\u6E38\u5BA2",-1)),BG={class:"ppll"},NG={class:"ddzz"},UG={class:"time"},$G={class:"footer"},GG=Cr(()=>_("div",{class:"icon-btn"},[_("img",{src:mG,alt:""})],-1)),HG=Cr(()=>_("div",{class:"text"},"\u8BC4\u8BBA",-1)),jG=[GG,HG],KG=["onClick"],VG=Cr(()=>_("div",{class:"icon-btn"},[_("img",{src:yG,alt:""})],-1)),WG=Cr(()=>_("div",{class:"text"},"\u5206\u4EAB",-1)),zG=[VG,WG],YG={class:"title"},qG={class:"nickname"},QG={class:"item"},ZG=Cr(()=>_("div",{class:"custom-indicator"},null,-1)),JG={__name:"PlaySmallVideo",setup(t){const{toClipboard:e}=P0(),n=ze();let i=Z(!1);const s=Z(!1);Z(!1);const o=()=>{setTimeout(()=>{rr("\u5237\u65B0\u6210\u529F"),s.value=!1},1e3)},u=()=>{i.value=!1};let m=kr();const p=Z();let l=Z(null);hn(()=>{var L;console.log(l.value),l.value.swipeTo(m.query.index,{immediate:!0}),(L=p.value)!=null&&L.lenth&&(p==null||p.value[m.query.index].play())});const y=L=>{console.log(L),p.value[L].play(),p.value.forEach((x,D)=>{if(D!==L){try{x.pause()}catch(k){console.log(k)}x.currentTime=0}})},v=()=>{console.log(l.value.state.active),p.value[l.value.state.active].pause()},f=()=>{console.log(p.value[l.value.state.active]),p.value[l.value.state.active].play()};function b(L){console.log(location.href);let x=location.href;S(x)}const S=async L=>{try{await e(L)}catch(x){console.error(x)}},d=Z(!1),h=()=>{console.log(n.videolist[l.value.state.active].id),d.value=!0},c=Z("");let g=new Date,T=g.getHours(),E=g.getMinutes();const A=Z("");function w(){console.log(n.videolist[l.value.state.active].id),c.value=[{commentvalue:A.value,MIAO_LID:localStorage.getItem("MIAO_LID"),video_id:n.videolist[l.value.state.active].id,a:T,b:E},...c.value],A.value=" ",console.log(c.value),localStorage.setItem("video_comment",JSON.stringify(c.value))}return(L,x)=>{const D=Wt("van-image"),k=Wt("van-popup"),R=Wt("van-swipe-item"),I=Wt("van-swipe"),O=Wt("van-pull-refresh");return N(),$("div",AG,[_("img",{src:D0,alt:"",onClick:x[0]||(x[0]=P=>L.$router.back(-1)),class:"back"}),at(O,{modelValue:s.value,"onUpdate:modelValue":x[8]||(x[8]=P=>s.value=P),"head-height":60,onRefresh:o},{pulling:Jt(P=>[_("img",{class:"doge",src:Fl,style:cn({transform:`scale(${P.distance/60})`})},null,4)]),loosing:Jt(()=>[EG]),loading:Jt(()=>[bG]),default:Jt(()=>[at(I,{onChange:y,loop:!1,vertical:"",style:{height:"100vh"},class:"swipe",ref_key:"swipe",ref:l,onClick:x[7]||(x[7]=P=>v(X(l).value))},{indicator:Jt(()=>[ZG]),default:Jt(()=>[(N(!0),$(ht,null,At(X(n).videolist,P=>(N(),ie(R,{style:{height:"100vh"},class:"swipeitem",key:P},{default:Jt(()=>[_("video",{src:P.video.url,onTimeupdate:u,loop:"",ref_for:!0,ref_key:"playvideo",ref:p,onPlay:x[1]||(x[1]=F=>Fe(i)?i.value=!1:i=!1),muted:"muted",onPause:x[2]||(x[2]=F=>Fe(i)?i.value=!0:i=!0),class:"playvideo"},null,40,TG),Le(_("div",{class:"pause",onClick:x[3]||(x[3]=Qe(F=>f(X(l).value),["stop"]))},kG,512),[[Ze,X(i)]]),_("div",wG,[_("div",CG,[at(D,{class:"user-avatar",fit:"cover",width:"48.5",height:"48.5",src:P.user.avatarurl},null,8,["src"])]),_("div",RG,[_("div",{class:"icon-btn",onClick:Qe(F=>X(n).givelike({id:P.id}),["stop"])},[X(n).feeds.includes(P.id)?pt("",!0):(N(),$("img",IG)),X(n).feeds.includes(P.id)?(N(),$("img",LG)):pt("",!0)],8,xG),_("div",{class:"text",textContent:Q(X(n).feeds.includes(P.id)?P.shareCount+1:P.shareCount)},null,8,DG)]),at(k,{show:d.value,"onUpdate:show":x[6]||(x[6]=F=>d.value=F),teleport:"body",round:"",position:"bottom",style:{height:"60%"},"overlay-style":{background:"rgb(0 0 0 / 9%)"},class:"popup"},{default:Jt(()=>[_("div",OG,[(N(!0),$(ht,null,At(c.value,F=>(N(),$("div",{class:"usercomment",key:F},[PG,_("div",FG,[MG,_("div",BG,Q(F.commentvalue),1),_("div",NG,[_("p",UG,Q(F.a)+":"+Q(F.b)+" . \u672A\u77E5IP",1)])])]))),128))]),_("div",$G,[Le(_("input",{"onUpdate:modelValue":x[4]||(x[4]=F=>A.value=F),type:"text",placeholder:"\u5584\u8BED\u7ED3\u5584\u7F18\uFF0C\u6076\u8BED\u4F24\u4EBA\u5FC3~ ",class:"pltext"},null,512),[[cl,A.value]]),_("button",{class:"btn",onClick:x[5]||(x[5]=F=>w())},"\u53D1\u9001")])]),_:1},8,["show","overlay-style"]),_("div",{class:"pl",onClick:h},jG),_("div",{class:"fx",onClick:F=>b(P.video.url)},zG,8,KG)]),_("div",YG,[_("p",qG,"@"+Q(P.user.nickName),1),_("p",QG,Q(P.title),1)])]),_:2},1024))),128))]),_:1},512)]),_:1},8,["modelValue"])])}}},XG=Te(JG,[["__scopeId","data-v-b2d876d6"]]),tH="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAkCAYAAAAKNyObAAAABGdBTUEAALGPC/xhBQAAAAZiS0dEAP8A/wD/oL2nkwAAAv9JREFUWMPVmM9LFGEYx7/P+864kFpCmAn9QGOh/IHhrtTBCvcQWdDBg4cOBnkJO0XRTYL8G4oIOnjo4kk6JHTYRfNguEqhdlmQQCJzDZSS2J2Z9+mgrru2Mzu7M7vp9zTMvO/z/bwP7/vM+74En8Sfr1dj42cz6o4vU8f7LT9ikmeoqVCjaeEFmG8zIAhQIHqrSQzR1bnv/w2OY+E2EyrKjPp/AhOSGkSEeuKLFYdzAvMLsCAcx0PHrF98hYnawRQAAEFcrxTfZaDahcGWEDSqmJLbLzhFzAuylj5QeG6zZDhzMnyTFb9m5pOlZtg+q7RKgga1a/F3RcPxdFermbbmGAj4DZZlntKqZIi6Z5fyfRe2WTPUSDnBAICBgGmoEbvvwqHv5XKCufGxhWPmxkqQOfmIYgJVWocPjmPhtkpC2PmJfA1NqKhfxtRwC/L8U+BIk20bEyqaDzCnzvF0V6tpWDGnX1IxEs0PIM/eAwCo9SlYCw/tB0FIarrsya55mcxxojdgpK2xcoABAP9OOLZnRr2RtsY40ZuprRk4Y2VtEEBLQVe9DuLUHVDtBddgan0S6usrN2NqMb6tZTpmz7lLbnrL4GPI4CPI0CjoxA1XYNbiE4BNdylXe0W5+FJi/QEAEEnIlmc5gKJpyBvYPmlZzx8BDBRkW34OOtoOqglmAC0AVHPOHzCBmd3HzGrlRG/AWPkxD5fzTrv4ElQT3O7LDKK9he8hY1/00w2dFJxIbXPuUgYnUnqV7CdCsmAIYwPmp/uZFegHGBGSepXs3wXLgQMA6p5d0iAipQB6BdMgIvv3dXk3mxwLtxmsFlxF1usgzgwAxibUypuSJr9Ooj3fOcN2J5yOdnLRLiWqKjKfl+Pw7UoOimzhiMjTad2tnHycMjeDysjWxxZO08UwASmUUQSkNF0MFw1H3bNLJEUfEa2WBYxolaToszuz7sA768BeRzhCH4SLnFIB/bgC81TnqCe+qEnqIKJxAtTOaBURjWuSOryAec5cThbLcO36F8aoY6JBElaTAAAAAElFTkSuQmCC";const eH=t=>(de("data-v-960fca97"),t=t(),fe(),t),nH={class:"body"},rH={class:"video"},iH=["src"],sH={class:"info"},aH={class:"title"},oH={class:"name"},lH=["src"],uH=eH(()=>_("img",{src:tH,alt:"",class:"huang"},null,-1)),cH={__name:"playBigVideo",setup(t){const e=Z();return(n,i)=>(N(),$("div",nH,[_("img",{src:D0,alt:"",onClick:i[0]||(i[0]=s=>n.$router.back(-1)),class:"back"}),_("div",rH,[_("video",{muted:"muted",autoplay:"",loop:"",controls:"",ref_key:"playvideo",ref:e,class:"playvideo"},[_("source",{src:`${n.$route.query.url}`},null,8,iH)],512),_("div",sH,[_("p",aH,Q(`${n.$route.query.title}`),1),_("div",oH,[_("img",{src:`${n.$route.query.img}`,alt:""},null,8,lH),_("p",null,Q(`${n.$route.query.name}`),1),uH])])])]))}},dH=Te(cH,[["__scopeId","data-v-960fca97"]]);const Ai=t=>(de("data-v-736e4950"),t=t(),fe(),t),fH={class:"notarize"},hH={class:"notarize-top"},gH=Ai(()=>_("img",{src:js,alt:""},null,-1)),vH=[gH],pH=Ai(()=>_("span",null,"\u652F\u4ED8\u8BA2\u5355",-1)),mH=Ai(()=>_("span",null,null,-1)),yH={class:"notarize-box"},_H={class:"boc"},AH={class:"date"},EH={class:"ting"},bH={class:"jiag"},TH=Ai(()=>_("div",{class:"notarize-main"},[_("div",{class:"main-top"},[_("h3",null,[_("i"),Vt("\u4E0D\u652F\u6301\u9000\u7968")]),_("h3",null,[_("i"),Vt("\u4E0D\u652F\u6301\u6539\u7B7E")])])],-1)),SH={class:"nota"},kH={class:"activity"},wH=Ai(()=>_("div",{class:"act"},[_("span",null,"\u6D3B\u52A8\u4E0E\u4F18\u60E0\u5377"),_("span",null,"\u65E0\u53EF\u7528")],-1)),CH={class:"acton"},RH=Ai(()=>_("div",null,null,-1)),xH=Ai(()=>_("span",null,"\uFFE5",-1)),IH={class:"notarize-botm"},LH={key:0,class:"order"},DH=Ai(()=>_("h3",null,"\u652F\u4ED8\u6210\u529F",-1)),OH={__name:"NotArize",setup(t){const e=ze().tickets,n=Z(JSON.parse(localStorage.getItem("searindex"))||[]),i=Z(JSON.parse(localStorage.getItem("colesli"))||[]),s=Ua(),o=Z(!1),u=()=>{s.push({path:"/"}),console.log(i.value),i.value="",n.value="",localStorage.setItem("colesli",JSON.stringify(i.value)),localStorage.setItem("searindex",JSON.stringify(n.value))},m=()=>{o.value=!o.value};return(p,l)=>{const y=Wt("van-image");return N(),$("div",fH,[_("div",hH,[_("span",{onClick:l[0]||(l[0]=v=>p.$router.back())},vH),pH,mH]),_("div",yH,[at(y,{width:"75rem",height:"100rem",src:X(e).img},null,8,["src"]),_("div",_H,[_("h3",null,Q(X(e).movie),1),_("span",AH,Q(X(e).date)+" "+Q(X(e).times)+" ( "+Q(X(e).model1)+Q(X(e).model2)+")",1),_("p",null,Q(X(e).name),1),_("p",EH,[Vt(Q(X(e).ting.split(" ")[0])+" ",1),(N(!0),$(ht,null,At(i.value,(v,f)=>(N(),$("span",{key:f},Q(v.row)+Q(v.list),1))),128))]),_("p",bH,[Vt(Q(i.value.length)+"\u5F20 \u539F\u4EF7",1),_("span",null,"\uFFE5"+Q(X(e).money),1)])])]),TH,_("div",SH,[_("div",kH,[wH,_("div",CH,[RH,_("p",null,[Vt(" \u7968\u4EF7\u5C0F\u8BA1"),xH,_("span",null,Q(X(e).money*i.value.length),1)])])])]),_("div",IH,[_("p",null,[Vt(" \uFFE5"),_("span",null,Q(X(e).money*i.value.length),1)]),_("span",{class:"btn",onClick:m}," \u786E\u8BA4\u652F\u4ED8 ")]),o.value?(N(),$("div",LH,[_("div",{class:"order-box"},[DH,_("p",{class:"btn",onClick:u},"\u8FD4\u56DE")])])):pt("",!0)])}}},PH=Te(OH,[["__scopeId","data-v-736e4950"]]);const $l=t=>(de("data-v-b09b44dd"),t=t(),fe(),t),FH={class:"ticket"},MH={class:"ticket-box-top"},BH=$l(()=>_("img",{src:js,alt:""},null,-1)),NH=[BH],UH=$l(()=>_("span",null,null,-1)),$H={class:"ticket-ting"},GH={class:"rows"},HH=["title"],jH=["title"],KH={key:0},VH=["onClick"],WH=["onClick"],zH={class:"modle"},YH={class:"ticket-box"},qH={class:"nm"},QH={class:"vote"},ZH={key:0},JH={class:"zw-box"},XH={class:"zw"},tj=["onClick"],ej={key:0,class:"btn"},nj=$l(()=>_("h3",null,"\u8BF7\u5148\u9009\u5EA7",-1)),rj=[nj],ij={class:"xuan"},sj={key:2,class:"lodaing"},aj=$l(()=>_("div",{class:"img"},[_("img",{class:"img1",src:yi,alt:""}),_("img",{class:"img2",src:_i,alt:""})],-1)),oj=[aj],lj={__name:"BuyTicket",setup(t){const e=ze().tickets;ze().coles;const n=ze();Z(!1);const i=Z(!1),s=Z(JSON.parse(localStorage.getItem("colesli"))||[]);Z();let o=Z({}),u=Z({}),m=Z(e.money);console.log(e);const p=(c,g,T,E)=>{if(s.value.includes({row:c+"\u6392",list:g+"\u5EA7",money:T}))s.value.includes({row:c+"\u6392",list:g+"\u5EA7",money:T});else{o.value=c+"\u6392",u.value=g+"\u5EA7";let A={row:o.value,list:u.value,money:T,sear:c+g};s.value=[...s.value,A],localStorage.setItem("colesli",JSON.stringify(s.value))}};let l=Z(JSON.parse(localStorage.getItem("searindex"))||[]);const y=(c,g,T)=>{if(l.value.includes(c+g)){let E=c+g;l.value=l.value.filter(w=>w!==E),localStorage.setItem("searindex",JSON.stringify(l.value)),console.log(E);const A={row:c+"\u6392",list:g+"\u5EA7",money:"\uFFE538"};s.value=s.value.filter(w=>w.sear!==E),localStorage.setItem("colesli",JSON.stringify(s.value)),console.log(A),console.log(s.value.indexOf(A)),console.log(s.value)}else{let E=c+g;console.log(E),l.value=[...l.value,E],localStorage.setItem("searindex",JSON.stringify(l.value))}console.log(l.value)},v=(c,g)=>{console.log(c);let T=c.row.split("\u6392")[0]+c.list.split("\u5EA7")[0];l.value=l.value.filter(A=>A!==T),localStorage.setItem("searindex",JSON.stringify(l.value));const E=c;s.value=s.value.filter(A=>A!==E),localStorage.setItem("colesli",JSON.stringify(s.value))},f=()=>{s.value="",l.value="",localStorage.setItem("searindex",JSON.stringify(l.value)),localStorage.setItem("colesli",JSON.stringify(s.value))};kr();const b=Z([]),S=Z([]),d=Z([]),h=Z([]);return Xt(()=>{i.value=!0,tI().then(c=>{i.value=!1,h.value=c.data.data.reminder,b.value=c.data.data.seat.image.seatLegends,d.value=c.data.data.seat.image,S.value=c.data.data.seat.regions[0].rows})}),(c,g)=>{const T=Wt("van-skeleton"),E=Wt("van-image");return N(),$("div",FH,[_("div",MH,[_("span",{onClick:g[0]||(g[0]=A=>{c.$router.back(),f()})},NH),_("span",null,Q(X(e).name),1),UH]),_("div",$H,[_("h3",null,Q(X(e).ting?X(e).ting.split("-")[0]:X(e).ting.split(" ")[0]),1)]),_("div",GH,[S.value.length?pt("",!0):(N(),ie(T,{key:0,title:"",row:3})),(N(!0),$(ht,null,At(S.value,(A,w)=>(N(),$("ul",{key:w,title:A.rowId,ref_for:!0,ref:"item"},[(N(!0),$(ht,null,At(A.seats,(L,x)=>(N(),$("li",{key:x,title:x,ref_for:!0,ref:"itmeli"},[L.seatStatus==4?(N(),$("div",KH,[at(E,{width:"30",height:"30",src:b.value[2].legendIcon},null,8,["src"])])):pt("",!0),L.seatStatus==1&&!X(l).includes(A.rowId+L.columnId)?(N(),$("div",{key:1,onClick:Qe(D=>{p(L.rowId,L.columnId,X(m)),y(L.rowId,L.columnId,X(m))},["stop"])},[at(E,{width:"30",height:"30",src:b.value[0].legendIcon},null,8,["src"])],8,VH)):pt("",!0),X(l).includes(A.rowId+L.columnId)&&s.value.length?(N(),$("div",{key:2,onClick:Qe(D=>y(L.rowId,L.columnId,X(m)),["stop"])},[at(E,{width:"30",height:"30",src:d.value.selectedImages[0]},null,8,["src"])],8,WH)):pt("",!0)],8,jH))),128))],8,HH))),128))]),_("div",zH,[_("ul",null,[(N(!0),$(ht,null,At(b.value,(A,w)=>(N(),$("li",{key:w},[at(E,{width:"20",height:"20",src:A.legendIcon},null,8,["src"]),_("h3",null,Q(A.legendName),1)]))),128))])]),_("div",YH,[_("div",qH,[_("h3",null,Q(X(e).movie),1),_("span",null,Q(X(e).date),1),_("span",null,Q(X(e).times)+" - "+Q(X(e).timed),1),_("span",null,Q(X(e).model1),1),_("span",null,Q(X(e).model2),1)]),_("div",QH,[s.value.length?(N(),$("p",ZH,"\u60A8\u5DF2\u9009\u53D6")):pt("",!0),_("ul",null,[(N(!0),$(ht,null,At(s.value,(A,w)=>(N(),$("li",{key:w},[_("div",JH,[_("div",XH,[_("h2",null,Q(A.row),1),_("h2",null,Q(A.list),1)]),_("span",null,"\uFFE5"+Q(X(e).money),1)]),_("span",{class:"remove",onClick:Qe(L=>{v(A),X(n).getColesrem(w)},["stop"])},"X",8,tj)]))),128))])])]),s.value.length?(N(),$("div",{key:1,class:"btn",onClick:g[1]||(g[1]=A=>{X(n).getColes({store:X(e),cole:s.value,money:X(m)*s.value.length}),c.$router.push({path:"/notarize"})})},[_("h3",ij,"\uFFE5"+Q(X(m)*s.value.length)+" \u786E\u8BA4\u9009\u5EA7",1)])):(N(),$("div",ej,rj)),i.value?(N(),$("div",sj,oj)):pt("",!0)])}}},uj=Te(lj,[["__scopeId","data-v-b09b44dd"]]);const Gl=t=>(de("data-v-2075d5b4"),t=t(),fe(),t),cj={class:"orderpage"},dj={class:"order-top"},fj=Gl(()=>_("img",{src:js,alt:""},null,-1)),hj=[fj],gj=Gl(()=>_("span",null,"\u8BA2\u5355\u5217\u8868",-1)),vj=Gl(()=>_("span",null,null,-1)),pj={class:"box-top"},mj=Gl(()=>_("h3",null,"\u5F85\u6D88\u8D39",-1)),yj={class:"box-main"},_j={class:"main-box"},Aj={class:"ting"},Ej={class:"box-botm"},bj=["onClick"],Tj={__name:"OrderPage",setup(t){const e=ze();return(n,i)=>{var o;const s=Wt("van-image");return N(),$("div",cj,[_("div",dj,[_("span",{onClick:i[0]||(i[0]=u=>n.$router.back())},hj),gj,vj]),_("ul",null,[(N(!0),$(ht,null,At((o=X(e))==null?void 0:o.orderform,(u,m)=>(N(),$("li",{key:m},[_("div",pj,[_("h3",null,Q(u.store.name),1),mj]),_("div",yj,[at(s,{width:"70",height:"95",src:u.store.img},null,8,["src"]),_("div",_j,[_("h2",null,[Vt(Q(u.store.movie)+" ",1),_("span",null,Q(u==null?void 0:u.cole.length)+"\u5F20",1)]),_("p",null,[_("span",null,Q(u.store.date),1),_("span",null,Q(u.store.times),1)]),_("p",Aj,[_("span",null,Q(u.store.ting),1),(N(!0),$(ht,null,At(u==null?void 0:u.cole,(p,l)=>(N(),$("span",{key:l},[_("span",null,Q(p.row)+Q(p.list),1)]))),128))])])]),_("div",Ej,[_("p",null,[Vt(" \u603B\u4EF7:"),_("span",null,Q(u.money),1),Vt("\u5143 ")]),_("div",{class:"btn",onClick:p=>X(e).getColesrem(u)},"\u5220\u9664\u8BA2\u5355",8,bj)])]))),128))])])}}},Sj=Te(Tj,[["__scopeId","data-v-2075d5b4"]]);const $d=t=>(de("data-v-870d45c0"),t=t(),fe(),t),kj={class:"wantpage"},wj={class:"want-top"},Cj=$d(()=>_("img",{src:js,alt:""},null,-1)),Rj=[Cj],xj=$d(()=>_("span",null,"\u60F3\u770B\u5217\u8868",-1)),Ij=$d(()=>_("span",null,null,-1)),Lj={class:"box-main"},Dj={class:"main-box"},Oj={key:0},Pj={key:1,class:"ting"},Fj={class:"box-botm"},Mj=["onClick"],Bj={__name:"WantPage",setup(t){const e=ze();return(n,i)=>{var o;const s=Wt("van-image");return N(),$("div",kj,[_("div",wj,[_("span",{onClick:i[0]||(i[0]=u=>n.$router.back())},Rj),xj,Ij]),_("ul",null,[(N(!0),$(ht,null,At((o=X(e))==null?void 0:o.Movies,(u,m)=>(N(),$("li",{key:m},[_("div",Lj,[at(s,{width:"70",height:"95",src:u.img},null,8,["src"]),_("div",Dj,[_("h2",null,Q(u.nm),1),u.rt?(N(),$("p",Oj,[_("span",null,Q(u.rt),1)])):pt("",!0),u.star?(N(),$("p",Pj,[Vt(" \u53C2\u6F14: "),_("span",null,Q(u.star),1)])):pt("",!0)])]),_("div",Fj,[_("div",{class:"btn",onClick:p=>X(e).removeMovie(u)},"\u5220\u9664\u60F3\u770B",8,Mj)])]))),128))])])}}},Nj=Te(Bj,[["__scopeId","data-v-870d45c0"]]),Qc=GC({history:sC(),routes:[{path:"/",name:"home",component:ID},{path:"/video",name:"video",component:vO},{path:"/smallvideo",name:"smallvideo",component:y3},{path:"/me",name:"me",component:U3,meta:{needLogin:!0}},{path:"/login",name:"login",component:Z3},{path:"/filmdetails",name:"filmdetails",component:pN},{path:"/region",name:"region",component:EM},{path:"/search",name:"search",component:iU},{path:"/searchlist",name:"searchlist",component:I6},{path:"/cinema",name:"cinema",component:a6},{path:"/filmvideoplay",name:"filmvideoplay",component:J$},{path:"/ticket",name:"ticket",component:vG},{path:"/orderpage",name:"orderpage",component:Sj},{path:"/wantpage",name:"wantpage",component:Nj},{path:"/PlaySmallVideo",name:"PlaySmallVideo",component:XG},{path:"/playBigVideo",name:"playBigVideo",component:dH},{path:"/buyTicket",name:"buyTicket",component:uj},{path:"/notArize",name:"NnotArize",component:PH}]});Qc.beforeEach((t,e)=>{let n=localStorage.getItem("token");t.meta.needLogin&&!n&&(console.log("\u9700\u8981\u767B\u9646"),Qc.push("/login?from="+t.fullPath))});const sn=yd(eR);sn.use(lP);sn.use(uF);sn.use(cF);sn.use(UP);sn.use(E0);sn.use(NF);sn.use(g0);sn.use(y0);sn.use(TF);sn.use(bF);sn.use(SP);sn.use(gF);sn.use(OF);sn.use(o0);sn.use(t3,{lazyComponent:!0});sn.use(P0);sn.use(Pw());sn.use(Qc);sn.mount("#app");
