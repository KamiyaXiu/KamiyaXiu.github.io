<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>找色块</title>
  <style>
    * {
      padding: 0;
      margin: 0;
    }

    body{
      width: 100%;
      height: 100vh;
      background-image: url(../imgs/星空.webp);
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
    }

    li {
      list-style: none;
    }
  </style>
</head>

<body>
  <h1></h1>
  <ul class="stage"></ul>

  <style>
    .stage {
      width: 500px;
      height: 500px;
      display: flex;
      flex-wrap: wrap;
      margin: 0 auto;
    }

    .stage li {
      border-radius: 50%;
    }
  </style>

  <script>
    var level = 1;
    var h1 = document.querySelector("h1");

    var stage = document.querySelector(".stage");

    function showDot(level) {
      stage.innerHTML = "";
      h1.innerText = level;

      var color = "#" + Math.random().toString(16).slice(-6);
      console.log(color, "color");

      for (let i = 0; i < Math.pow(level + 2, 2); i++) {
        var node = document.createElement("li");
        node.style.backgroundColor = color;
        node.style.width = 500 / (level + 2) + "px";
        stage.appendChild(node);
      }


      var index = Math.floor(Math.random() * stage.querySelectorAll("li").length);
      stage.querySelectorAll("li")[index].style.opacity = "0.7";

      stage.querySelectorAll("li")[index].onclick = function () {
        level++;
        showDot(level);
      };
    }
    showDot(level);
  </script>
</body>

</html>